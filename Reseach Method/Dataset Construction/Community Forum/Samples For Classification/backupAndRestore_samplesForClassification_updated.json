{
  "forumKey": "backupAndRestore",
  "forumName": "backupAndRestore",
  "sourceFile": "backupAndRestore_3963_3_updated.json",
  "sampleSize": 500,
  "filteredOutWithImages": 1351,
  "posts": [
    {
      "PostID": 149427,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=149427",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "not able to backup courses outside of moodle folder",
          "Text": "admin > courses > backups i can leave the dir blank and courses backup in course default dir and also if i give a dir within the moodle root folder on the web server example E:\\web\\MoodleBACKUP backups still run but if i try go to a folder directly on E:\\ drive say E:\\MoodleBACKUP it doesnt work i've tried to give the E:\\MoodleBACKUP folder the same permissions as E:\\web\\MoodleBACKUP but still no joy i'm running moodle 1.9.7 in IIS with NTFS folder permissions Thanks zoe",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 4, 2010, 11:47 PM",
          "AuthorName": "zoe price",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=152275&course=5",
          "role": [
            "Picture of zoe price"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 449812,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=449812",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "restored course, and users but no passwords",
          "Text": "restored courses to a new server logging in as a user im getting the following Restored account This account was imported from another server and the password has been lost. To set a new password by email, please click \"Continue\" we use Ldap, for the user accounts and passwords. ive set this up again on the new server and synce'd it, password dont seem to be getting updated thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 25, 2023, 11:02 PM",
          "AuthorName": "james walls",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5097614&course=5",
          "role": [
            "Picture of james walls"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: restored course, and users but no passwords",
          "Text": "Check that your users are using LDAP Authentication - they were probably restored as Manual accounts.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 26, 2023, 4:06 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: restored course, and users but no passwords",
          "Text": "you are correct, change the users to LDAP , now working thanks Emma",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 4, 2023, 4:57 PM",
          "AuthorName": "james walls",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5097614&course=5",
          "role": [
            "Picture of james walls"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 28845,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=28845",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Slow / hung restore",
          "Text": "My first term using Moodle with a production course ended a week ago.Â  I attempted to backup the course before beginning prepartion for fall.Â  I had backed it up a week before and had found I needed to exclude the questionnaire from the backup or the restore wouldn't work (I later found it was just the questionnaire user data that was the problem). The course had 33 students, 8 quizzes, 29 forums and 34 assignments (not as intensive as it sounds -- students needed to participate in 36 activities total plus the final test to earn sufficient points).Â  The backup from the week before the final took 50 minutes to restore (2.6 ghzÂ P4, WinXP, CPUÂ at 100%).Â  Is that normal for a course this size?Â  I don't think of it as a large course.Â  It was backed up and restored using July 20 1.5.2+ (2005060220).Â  The file size is relatively small, approx 700 kb. ThisÂ week I upgraded my localhost to Aug 8 1.5.2+ (2005060222) and did my after-finals backup (backup site still 2005060220).Â  But when I tried to restore onto my localhost, after 50 minutes I got the pink error box.Â  It appears to have died in Categories in Gradebook.Â  Since the previous backup IÂ have turned on the advanced features in gradebook, added some categoriesÂ and divided the activities between them. Is there a known bug with gradebook categories in restore, or a known bug with backing up 2005060220 and restoring to 2005060222?Â  Or is the 50-minute restore time an indicationÂ that something else is a problem? Thanks, Jim.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 11, 2005, 2:46 AM",
          "AuthorName": "James Robertson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=54378&course=5",
          "role": [
            "Picture of James Robertson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Slow / hung restore",
          "Text": "Gradebook/Categories is exactly where my restore fails too. You might check out my thread from a couple weeks ago: http://moodle.org/mod/forum/discuss.php?d=27892 I'm afraid I don't have a solution for you. I managed to get most of my course back (excluding gradebook, Books, and DFWikis) by sending the backup to Eloy.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 11, 2005, 4:34 AM",
          "AuthorName": "Pamela Giles",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=48064&course=5",
          "role": [
            "Picture of Pamela Giles"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Slow / hung restore",
          "Text": "Yes,Â I hadÂ seen thatÂ thread but hadn't recognized it as the same problem -- thanks for pointing it out.Â  TheÂ comment about questionnaire causing a restore crash was mine -- by removing the questionnaire from the backup, the restore completed OK. I am not really desperate at this point because my course is still intact and IÂ can backup the database and moodle directory.Â  What concerns me is the general inability to complete a backup, which appears to be related to gradebook categories, as well as some other things.Â  While I don't need my course restored in order to recover it, I would be glad to forward it as a test case to Eloy or whoever else is working on this problem (let me know). Has this been reported as a bug, distinct from #3800 (mentioned in the other discussion)?Â  Also, I am still wondering if 50 minutes restore time is reasonable for a relatively small course. Thanks, Jim.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 11, 2005, 5:16 AM",
          "AuthorName": "James Robertson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=54378&course=5",
          "role": [
            "Picture of James Robertson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 460658,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460658",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Restoring course while keeping old user data",
          "Text": "Hi everyone, We have two Moodle instances with almost the same configurations, one of them is considered the live site, the other one is the dev or testing one. The dev site is basically the same as the live, it just doesn't have the same users for obvious reasons. We are currently restructuring one of our courses but we do it on the dev site while the live is being used by our users. We don't modify the number of activities , we mainly have lessons from which we delete and/or add pages to. Some of them have embedded H5P contents. My question is can we do a backup-restore so that we keep all the user data on the live site? For example: Sam has completed 2 lessons that have 3 and 4 pages on the live site. On the dev site we modify these two lessons in a way that they have 2 and 5 pages in the future. Can we copy these lessons from dev to live quietly? Sam shouldn't notice anything, he just continues to see that his progress is unchanged. I have tried this backup-restore process in my local environment. I did a backup of everything except user data, but when restoring, I have basically two options: to restore as a new course (this means no user data in it) or I can restore into an existing one, but in this case everyhing gets duplicated that's in the backup, and the dupes have no user data. Thank you in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 30, 2024, 5:13 PM",
          "AuthorName": "DÃ©nes ZÃ¡dori",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6567556&course=5",
          "role": [
            "Picture of DÃ©nes ZÃ¡dori"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring course while keeping old user data",
          "Text": "I revise courses and retain the student's current progress as part of my normal administrative duties. I backup the course with all conditions selected on the Backup Setting page. The Include user completion details is the setting that retains the student's current course progress. I restore the course as a new course with a slightly alternated name in the same category. (Course ABC V1 to Course ABC V2). when the restore is completed, I make any adjustments to content as needed. Activities that were adjusted I \"force\" the student to retake by updating the course completion settings, selecting the activities that need to be completed by the students. If a final quiz needs to be reattempted, I use the reset functionality to reset the quiz and all quiz attempts. Kind Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 30, 2024, 8:41 PM",
          "AuthorName": "Shirley Gregorczyk",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2328269&course=5",
          "role": [
            "Picture of Shirley Gregorczyk",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "TÃ¡rgy: Re: Restoring course while keeping old user data",
          "Text": "Thank you for your post. We are not allowed to modify any user progress using that checkbox ticking interface or any other methods, we cannot force users to retake any lessons either, that is the problem. :/ Progress is being made on the live site while we are modifying the copied course lessons on dev, and we are talking about thousands of users. We would like to do the restore at night in a couple of hours with a minimum downtime. Considering these, don't you think it is possible? If not, it seems our only way to go is to schedule a maintenance day, so that our colleagues have time to modify the course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 31, 2024, 4:10 PM",
          "AuthorName": "DÃ©nes ZÃ¡dori",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6567556&course=5",
          "role": [
            "Picture of DÃ©nes ZÃ¡dori"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: TÃ¡rgy: Re: Restoring course while keeping old user data",
          "Text": "Why not just import the newly modified lesson as a new activity that is only available for students that have not already taken the previous version? That would keep your data clean...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 31, 2024, 8:03 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "TÃ¡rgy: Re: TÃ¡rgy: Re: Restoring course while keeping old user data",
          "Text": "That might be a way, but this indicates rewriting all our reports and dependencies within the course. Thank you! I'll get back with our solution later. Should anyone have more ideas, please share it with us.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 1, 2024, 12:29 AM",
          "AuthorName": "DÃ©nes ZÃ¡dori",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6567556&course=5",
          "role": [
            "Picture of DÃ©nes ZÃ¡dori"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 239419,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=239419",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Automated backup doesn`t work",
          "Text": "The automated backup doesn`t work in my new 2.5.1 installation. IÂ´ve enabled the automated backup in courses/backups/automated... and left everything else by the default values. In the server console I typed crontab -e and wrote: */30 * * * * wget -q -O /dev/null http://www.xyz.at/moodle2013/admin/cron.php But there are no backups in the courses and there is no log in Reports/backups. I`ve changed the backup_auto_destination to \\backup where wwwrun is the owner and www the group. No success. Anyone any idea?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 22, 2013, 11:14 PM",
          "AuthorName": "Christian Wurzer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=577209&course=5",
          "role": [
            "Picture of Christian Wurzer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Automated backup doesn`t work",
          "Text": "Try running cron automatically and see what it is doing (go to www.yourmoodlesite.com /admin/cron.php. Â Also, you say you left everything default but you have to select when the backups will run. Â If you have not selected any days, then you have not told cron when to run.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 23, 2013, 6:56 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backup doesn`t work",
          "Text": "Thank you for the answer. Yes, IÂ´ve activated monday, tuesday,...friday. Right now, I`ve started the www.yourmoodlesite.com /admin/cron.php script and it says: ... \n```text\nBackup of '1314_BIU-2M' is scheduled on Mon, 23 Sep 2013 17:10:00 +0200\nSkipping 1314_BIU-2M (Does not require backup)\n\n\n....\n```\n In Reports/backup there is now a log file - yippie, but it says, that every course is skipped. The complete file is in the attachment. Thank you, Christian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 23, 2013, 8:32 PM",
          "AuthorName": "Christian Wurzer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=577209&course=5",
          "role": [
            "Picture of Christian Wurzer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backup doesn`t work",
          "Text": "I believe that's the wrong information to run. It should say something like: \n```text\n/usr/bin/php /path/to/moodle/admin/cli/cron.php\n```\n The URL you have is web based. You can copy and paste that into a browser and run it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 23, 2013, 8:58 PM",
          "AuthorName": "Tim Dyer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1599614&course=5",
          "role": [
            "Picture of Tim Dyer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backup doesn`t work",
          "Text": "So, now check your backup settings - you probably have it set to automatically skip courses if they have not been changed in so many days. Â Make sure that you uncheck all the skip options and then run again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 23, 2013, 11:03 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backup doesn`t work",
          "Text": "I have changed the option to not skip automatically ... - as Â you proposed - and entered .../admin/cron.php and the backup worked. I install a new version every year and IÂ´ve never clicked this option in the last years. Anyway, now it works. Thank you Emma! Now, I wait If my cronjob works... Please keep your fingers crossed. Christian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 24, 2013, 2:04 AM",
          "AuthorName": "Christian Wurzer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=577209&course=5",
          "role": [
            "Picture of Christian Wurzer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backup doesn`t work",
          "Text": "Will do - good luck!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 24, 2013, 4:53 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backup doesn`t work",
          "Text": "Hm, my cronjob didn`t work. I have activated the .../admin/cron.php for a parallel (from last year) 2.3 moodle (where everything worked fine) in my cronjob to see, ifÂ the backup in this moodle 2.3 installation works. So I should see, if there`s a problem with my cron tool.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 25, 2013, 1:26 AM",
          "AuthorName": "Christian Wurzer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=577209&course=5",
          "role": [
            "Picture of Christian Wurzer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backup doesn`t work",
          "Text": "Try this - first run cron as your website user - Â for example, in linux from terminal crontab -u www-data -e Then add the command with cli as noted above So it should read: */30**** /usr/bin/php /var/www/moodle/admin/cli/cron.php >/dev/null It looks like you were directing to the website instead of the actual folder plus on 2.0 plus you do need the cli reference.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 25, 2013, 4:50 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backup doesn`t work",
          "Text": "Thank you - I have made the changes an I will report what happens in the night when the backup should start.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 26, 2013, 2:17 AM",
          "AuthorName": "Christian Wurzer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=577209&course=5",
          "role": [
            "Picture of Christian Wurzer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 86831,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=86831",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Backup problem with NLN Object module",
          "Text": "A member of our staff is trying to move some courses from a Moodle installation her department shared with another onto a new installation I've set up just for her department.Â  She's doing this by backing up the courses in the shared Moodle, downloading the zip file, uploading it to the new Moodle and restoring.Â  All works brilliantly, except that it loses all the NLN objects which have been used on the courses. The NLN objects reside in a shared repository folder to which all our Moodles have access, and the path to an NLN object is the same whichever Moodle you link from. The problem seems to be that the Backup process can't handle the NLN Object module.Â  I get the opportunity to tick the box to back up NLN objects, but then on the next screen it doesn't say anything about NLN stuff.Â  On the following screen I get the following messages, the same number of times as I've got NLN objects: Notice : Undefined index: object in <path> \\www\\moodle\\backup\\backuplib.php on line 977 and Notice : Trying to get property of non-object in <path> \\www\\moodle\\backup\\backuplib.php on line 977 Having looked as the PHP code it appears that there's no code in there to back up the Object module.Â  Is there an easy fix for this, or does it require writing a whole new block of code to handle the Object module?Â  Tweaking a few lines of PHP is within my abilities, but writing a whole new block of code is beyond me. Apart from the problem with moving courses which use NLN stuffÂ from one Moodle to another this suggests that the daily backup isn't saving NLN stuff either.Â  One of our Moodles has something like 400 NLN objects in use, which would not be fun to put back in again manually, so any help to fix thisÂ would be gratefully received. TIA Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 19, 2007, 1:31 AM",
          "AuthorName": "Chris Lamb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=63562&course=5",
          "role": [
            "Picture of Chris Lamb"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup problem with NLN Object module",
          "Text": "Hi Chris, I found this post as I am experiencing the same problem. The reply on the tracker ( here ) worries me, what are the implications of this? Have you any ideas how to solve the problem? Best regards, Nick",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 5, 2008, 10:25 PM",
          "AuthorName": "Nick Gault",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=383185&course=5",
          "role": [
            "Picture of Nick Gault"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup problem with NLN Object module",
          "Text": "I didn't realise the Object module wasn't included in backups, and I wasn't aware that it was no longer maintained - this certainly is worrying.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 6, 2008, 4:10 AM",
          "AuthorName": "Tony Butler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41888&course=5",
          "role": [
            "Picture of Tony Butler"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup problem with NLN Object module",
          "Text": "The last post about this is from March 2008 however I've been working on getting the NLN Object Module to backup in our MoodleÂ 1.9.5+ (Build: 20090819)Â as it wasn't working for us. I finally figured it out then so I'm sharing for anyone who'd like NLN Objects to back up in their 1.9 Moodle. The fix is to add a function to backuplib.php located at: /moodle/mod/object/backuplib.php Add this function below the object_check_backup_mods() function ending at line 40: \n```text\nfunction object_backup_one_mod($bf,$preferences,$object_id) {\n\n        $status = true;\n\t\t\n        if (is_numeric($object_id)) {\n            $object = get_record('object','id', $object_id);\n        }\t\n\tif ($object) {\n\t        //Start mod\n\t\tfwrite ($bf,start_tag(\"MOD\",3,true));\n\t\t//Print \nlesson\n data\n\t\tfwrite ($bf,full_tag(\"ID\",4,false,$object->id));\n\t\tfwrite ($bf,full_tag(\"MODTYPE\",4,false,\"object\"));\n\t\tfwrite ($bf,full_tag(\"NAME\",4,false,$object->name));\n\t\tfwrite ($bf,full_tag(\"SUMMARY\",4,false,$object->summary));\n\t\tfwrite ($bf,full_tag(\"START_URL\",4,false,$object->start_url));\n\t\tfwrite ($bf,full_tag(\"MATERIAL_ROOT\",4,false,$object->material_root));\n\t\tfwrite ($bf,full_tag(\"IMSMANIFEST\",4,false,$object->imsmanifest));\n\t\tfwrite ($bf,end_tag(\"MOD\",3,true));\n\t}\n\t\t\n        return $status;\n}\n```\n After adding this function your NLN Objects will backup and restore fine.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 6, 2011, 2:28 AM",
          "AuthorName": "Nathan Kowald",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=976531&course=5",
          "role": [
            "Picture of Nathan Kowald"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 205241,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=205241",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Encryption/Decryption of the backup file",
          "Text": "Hello, for a specific purpose I need to encrypt all backup files. for that purpose I have the two functions encrypt_file($filename) and decrypt_file($filename). In 1.9.13 it was easy to implement those functions after zipping and before unzipping the backup files, but through the extrem changes in 2.2.2+ / 2.2.3b it's not so easy anymore. I've found the class backup_zip_contents which, in my assumption, is the Ã¤quivalent to the backup_zip function of 1.9.13. So I'll try to implement my encryption there. However, the restore procedure is not as easy to understand. I searched a lot and didn't found anything similar like the restore_unzip() function of 1.9.13. Where can I find the unzipping functions of the restore procedure?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 21, 2012, 6:26 PM",
          "AuthorName": "Jan Eberhardt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1463452&course=5",
          "role": [
            "Picture of Jan Eberhardt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 96574,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=96574",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restoring Course Issues",
          "Text": "Hi People! Moodle V. 1.9 being used here. I currently have the same course, running from two different instances of Moodle. One of the setups is a 'centralised' system running from a standard web server , while the other one (running from a USB stick) is used when on the go. What I would like to do is be able to do is backup a quiz from the USB stick instance, and then restore it to the centralised system, merging the data. Sounds easy enough - however I'm getting everything but easy! Grades have a tendency on disappearing, and quizzes within a course sometimes duplicate themselves. Has anyone implemented a succesful situaiton like this and have any advice? Does anyone have any ideas why the Backup/Restore isn't working quite right? Any advice would be muchly appreciated! Thanks, Cory",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 6, 2008, 2:32 PM",
          "AuthorName": "Cory Gordon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=348534&course=5",
          "role": [
            "Picture of Cory Gordon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 424703,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=424703",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Where are users' course records kept?",
          "Text": "Hello, After upgrading to Moodle 3.11.1, in my system with 4 courses, nearly 500 students were registered in one of my courses, I saw that they were all deleted, there is no problem in other courses. How can I restore my courses whose user registration has been deleted? should i just upload moodle data? How should I do the restore?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 16, 2021, 5:34 AM",
          "AuthorName": "Halim Asa",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1498926&course=5",
          "role": [
            "Picture of Halim Asa"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Where are users' course records kept?",
          "Text": "Do you have a course backup (.mbz file) for the affected courses? If so then the best thing will be to restore the affected course(s) using that backup files.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 30, 2021, 7:24 PM",
          "AuthorName": "Luis de Vasconcelos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=396446&course=5",
          "role": [
            "Picture of Luis de Vasconcelos",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 351507,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=351507",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup test environment and restore to production environment",
          "Text": "I have a test environment where I have courses ( scorm & quizzes). Is it possible to back up the whole site (theme, roles, prerequisites, categories, courses etc.) and restore it to the new production environment which has a fresh install of Moodle? I am using version 3.2.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2017, 10:41 PM",
          "AuthorName": "Michael V",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2177151&course=5",
          "role": [
            "Picture of Michael V"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup test environment and restore to production environment",
          "Text": "Yes, look at the documentation on migration.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 27, 2017, 11:29 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 94333,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=94333",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "site backup with Win 2003 and IIS",
          "Text": "I looked through the Backup FAQ and did a google search but I was unable to come up with any directions on the best way to do a moodle site backup when running on Win 2003/ IIS . Hey, I had no choice! The narrow minded IT guys won't let me use Linux/ Apache . moodle is running fine on this combo, but all I can find about site backups relate to linux. If someone could point me in the direction of an online document that covers this subject, I would be very grateful. Thanks very much in advance. Ken Russell Bellingham School District",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 8, 2008, 6:10 AM",
          "AuthorName": "Ken Russell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=126632&course=5",
          "role": [
            "Picture of Ken Russell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 466797,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=466797",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Automatic Backups Messed my Moodle Server",
          "Text": "Hi Moodlers, I did set up automatic backups to run every day at exactly midnight. I backed up everything, including the course logs. I directed the backups toÂ  /opts/backups folder where I intended to rsync(not done yet) with my local machine. Come early morning, the site can't be reached. I try to ssh to the server , but it keeps timing out. I had about 100 courses and 22k users. The server is Ubuntu 20.04, and moodle 4.4. Kindly help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 14, 2025, 3:59 PM",
          "AuthorName": "Charles Mugambi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2318511&course=5",
          "role": [
            "Picture of Charles Mugambi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Automatic Backups Messed my Moodle Server",
          "Text": "At a guess, you have filled the disk and run out of space. Try pinging it to see it is still online. You may need to use hosting console or rescue mode to free up space. Was everything backed up to the one machine?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 14, 2025, 7:25 PM",
          "AuthorName": "James Steerpike",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1736745&course=5",
          "role": [
            "Picture of James Steerpike",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 140111,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=140111",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Unfinished backups in 1.9.7",
          "Text": "Hello, I have recently upgraded my two Moodle instances to 1.9.7 and one of them is having issues with backup. The automated backups are failing frequently with the following email report: Summary ================================================== Courses: 4 OK: 0 Skipped: 0 Error: 0 Unfinished: 4 Some of your courses weren't saved!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 16, 2009, 11:20 PM",
          "AuthorName": "Sasikala P A",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=704232&course=5",
          "role": [
            "Picture of Sasikala P A",
            "Picture of Translators"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 146988,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=146988",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "COURSE_XXXXXXX_M/my_files in mdl_resource table after restore",
          "Text": "Hi there, so I was doing some testing and found that resources like pdfs didn't work in some restored courses. Instead of the file, I got a red box saying \"Sorry, the requested file could not be found\". So I went to the mdl_resource table in the database to see what path moodle have assigned to each file, finding that something was been added that wasn't on the original path. It's something like COURSE_XXXXXXX_M/my_files , with XXXXXXXX being a number. For example, if some file is stored in contents/file.pdf, then the path stored in the database table is COURSE_4327286_M/my_files/contents/file.pdf, instead of just contents/file.pdf. If I remove that--err--prefix, then the file can be accessed beautifully. This happens when restoring courses from moodle 1.8 to 1.8 and from 1.8 to 1.9. I have the feeling that this is somewhat dumb (like someone is going to respond with \"you just check that checkbox and that's it\"), but does anyone know how to prevent this from happening?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 30, 2010, 4:00 PM",
          "AuthorName": "JosÃ© Torres",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1063978&course=5",
          "role": [
            "Picture of JosÃ© Torres"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 438561,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=438561",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Gradebook setup not include after restore course",
          "Text": "Hi everybody. I'm using a Moodle 3.11.7 version and I have got a issue when I try to restore a particular course included in a backup file (backup file was make with default configurations). Normally when I restore any course the gradebook setup is restored correctly but in a particular course the gradebook setup is not restored fine, only main course category is created. I have compared gradebook setup and course grade settings between this course and other that itÂ  was successfully restored and I found no differences. I tried to find some solucions but I didn't find anything clear. Thanks in advace for any help you can provide. Regards, Vicente.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 22, 2022, 7:59 PM",
          "AuthorName": "Vicente CB",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3781197&course=5",
          "role": [
            "Picture of Vicente CB"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 406629,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=406629",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "After resetting course, assignfeedback_editpdf is full",
          "Text": "Hi friends, long time moodle users here. Now Moodle 3.7, going to upgrade to 3.9 soon. This year we are not going to make a new install, now we are resetting all courses. After course reset, it's eating too much space, so I reviewed with \"course size\" plugin and it says assignfeedback_editpdf plugin is over 790MB. Resetting with moosh -n course-reset xx continues in 790MB I think it should be 0MB, isn't it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 7, 2020, 5:06 PM",
          "AuthorName": "Zigor Astarbe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21927&course=5",
          "role": [
            "Picture of Zigor Astarbe"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: After resetting course, assignfeedback_editpdf is full",
          "Text": "more info: after making a course backup & restore, the assignfeedback_editpdf plugin is 0MB.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 7, 2020, 6:31 PM",
          "AuthorName": "Zigor Astarbe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21927&course=5",
          "role": [
            "Picture of Zigor Astarbe"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: After resetting course, assignfeedback_editpdf is full",
          "Text": "Hi Zigor ! (kaixo ðŸ˜‰) This bug is still present in version 3.11, but you can apply this workaround to solve this problem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 24, 2021, 1:02 AM",
          "AuthorName": "Pedro Arreitunandia Ituarte",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=77456&course=5",
          "role": [
            "Picture of Pedro Arreitunandia Ituarte"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 393743,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=393743",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Back up issue - Unfinished",
          "Text": "My question is actually two fold. On the one hand one of the backed up courses (which actually appears the be the front page and not an actual course) keeps getting the Unfinished status with back ups. That's the first issue. The second issue is that the back up settings state that a back up is made weekly but instead I am getting about 6 to 10 messages from Moodle about the back up status per day . I assume it's because of the Unfinished back up but is there a way to decrease the amount of mail I'm getting? I would expect a weekly report, not daily spam .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 21, 2019, 2:42 PM",
          "AuthorName": "Bianca Grin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2668723&course=5",
          "role": [
            "Picture of Bianca Grin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Back up issue - Unfinished",
          "Text": "Before I forget (again) the Moodle version we're running is 3.4.1+ (Build: 20180118)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 21, 2019, 4:24 PM",
          "AuthorName": "Bianca Grin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2668723&course=5",
          "role": [
            "Picture of Bianca Grin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Back up issue - Unfinished",
          "Text": "Hi, If your problem is the backup of the site homepage course (with user data/logs), you can look at: this discussion MDL-60296 HTH , SÃ©verin PS : your Moodle version isn't maintained anymore ; you should make an update",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 21, 2019, 4:56 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 362595,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=362595",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 344116,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=344116",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "File system and course backup",
          "Text": "In Moodle you can choose to have your course automated backup storage in the course backup area and/or in a specified directory. I would like to know if Moodle handles files equal for course backup files as for user files, in a Unix-like way, we could call it with Moodle hard links? Or do you double up your hard disk usage for backup files if you choose both a custom directory and the course backup area?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 8, 2016, 7:02 PM",
          "AuthorName": "Bente Olsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120901&course=5",
          "role": [
            "Picture of Bente Olsen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: File system and course backup",
          "Text": "You double it. Â The idea is to have an alternative location such as an external server for the custom directory. Well, that is my presumption - pretty sure it is correct but just realized as I wrote that that I am not 100% certain, probably 90% certain!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 8, 2016, 10:52 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ang: Re: File system and course backup",
          "Text": "I am afraid you are right, that was my first thought too, I just wanted to keep the hope.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 9, 2016, 6:16 PM",
          "AuthorName": "Bente Olsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120901&course=5",
          "role": [
            "Picture of Bente Olsen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: File system and course backup",
          "Text": "IF am understanding, would agree with Emma ... doubles. However, what does \"in a Unix-like way\" mean?Â  Do you mean like rsync?Â  IF you are thinking in terms of rsync, the answer would be no ... backups are an archive - tar.gz and the only way to get rsync like behavior with those is (am thinking ... have never done it) to open the tar.gz and replace only those files that have changed in the archive and then re-archive it.Â  If that could be done then the backups would/could either shrink or grow (most grow, I would imagine).Â Â  While some files in a backup are compressed and thus save space, digital type files ... like videos ... won't get much compression.Â  Plus, the un-archiving would/might require most of the free space ... depending. I have a preference (due to experiences with various systems that developed problems with the new file system in vr 2->) .... autobackups go to a designated directory where I can easily see their filename and size + the number of backups.Â Â  Autobackups to the file system presents a potential issue with DB matching what's physically present in filedir (sea).Â Â  That's not supposed to happen but it has!Â  Autobackups also might fail due to the shear size of the course ... digital photography .... video editing ... etc.Â Â  Help with one system that has such courses and checked on it the other day ... one course began this year as a 50 Gig backup ... it's nearing semester now and the backup is 90+ Gig and by the break will be over 100 Gig (have never really tried to restore such a course ... and am imagining there might be issues attempting that via GUI interface. Some might have 'unlimited' space (if there is such a thing), but many don't.Â Â  The very last thing one needs to happen is for the drive/partition upon which the DB files reside running out of disk space due to run away auto backups that one can't find without a DB in the 'sea of files'. My 2 cents, of course! 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 8, 2016, 11:43 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ang: Re: File system and course backup",
          "Text": "What I meant with unix-like was that Moodle do not store a file twice unless it is necessary or you force it to. Moodle links to the original file instead. Thanks for sharing possible issues with autobakups, I better be aware of that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 9, 2016, 6:22 PM",
          "AuthorName": "Bente Olsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120901&course=5",
          "role": [
            "Picture of Bente Olsen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 178045,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=178045",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Could not recode answer id random",
          "Text": "After my via crucis several months ago trying to move a Moodle site into another server ( http://moodle.org/mod/forum/discuss.php?d=161569 ), and now that I've been regularly upgrading all my installations to keep them synchronized, I would have imagined that moving courses from one 1.9.12 installation into another 1.9.12 (both in the same server) would go without a glitch. Wrong, wrong, wrong! This time backups ended fine, however, when I began the restore process of almost each and every backup file, I was greeted with and endless series of \"Could not recode answer id random...\" error messages, just as described inÂ this three year old tracker: http://tracker.moodle.org/browse/MDL-15489 I won't go through the different attempts I made to make this work, so here is what finally made it (as always, quizes were the problem): 1. Went into the course. 2. Export the grades of the participants. 3. Select Course administration > Reset. 4. Enabled only the \"Delete all quiz attempts\" option. 5. Reset the course. After doing this and rebuilding the backup files, theyÂ restored ok (I still haven't seen -and don't want to- what will happen when I try to import the grade files). Cheers!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2011, 10:11 AM",
          "AuthorName": "G. M.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1031471&course=5",
          "role": [
            "Picture of G. M."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 78100,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=78100",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup 1.6.5 and restore to new upgarded 1.8.2 server.",
          "Text": "Hi All, Here's my dilemma: I'm running a 1.6.5 moodle server with approx 5000 courses in it. I'm trying to figure out the best method of moving all the courses to the new 1.8.2 server. I've tried to backup all the courses but discovered that the backup schedule built into moodle doesn't work anymore. What can I do..... do i: 1. create a new duplicate of my 1.6.5 installation and upgrade it to 1.8.2 the migrate to the new server. 2. i back up the classes one at a time and move them that way?(not looking forward to this) 3. any other ideas? thanks in advance for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 17, 2007, 2:03 AM",
          "AuthorName": "Peter Easton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=190551&course=5",
          "role": [
            "Picture of Peter Easton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup 1.6.5 and restore to new upgarded 1.8.2 server.",
          "Text": "Pete - As long as you have a good backup of your database (primarily) and Moodle Storage (secondarily) I would certainly go with option 1. Take what you have and upgrade it. Most of the problems have been with 3rd party plugins like questionnaire, feedback, and other modules or blocks. As long as you have the 1.8 version of those modules or blocks you should not experience too much trouble. I would give it a shot on your test server (with production data) and see what happens. Let me know if you run into difficulty. Peace - Anthony",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 17, 2007, 3:21 AM",
          "AuthorName": "Anthony Borrow",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=51473&course=5",
          "role": [
            "Picture of Anthony Borrow",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 202874,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=202874",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Share a backed up course?",
          "Text": "I backed up a course with the intention of sharing it as a template with other teachers. But when other teachers Â go to the front page and click on Restore (in the side bar), the .MBZ file doesn't appear in the list they see on the Import a backup file page (but it shows up when I'm logged in). How do I share the .MBZ with other teachers? Any help greatly appreciated, Ted",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 18, 2012, 1:48 AM",
          "AuthorName": "Ted Osborne",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1195342&course=5",
          "role": [
            "Picture of Ted Osborne"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Share a backed up course?",
          "Text": "Hi Ted, Have you tried uploading the mbz file to the course backup area in Settings > Front page settings > Restore ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 18, 2012, 10:31 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Share a backed up course?",
          "Text": "One thing I've done to share courses with teachers that I can't make publicly available on MoodleShare is to upload a link to that file to my course and hide it, then I can give people non-editing teacher status to the course. They can see/ download the link, but students and guests in the course cannot.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 18, 2012, 10:48 PM",
          "AuthorName": "Jon Fila",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=672432&course=5",
          "role": [
            "Picture of Jon Fila"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 113710,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=113710",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup Error - Moodle1.9.3 - Few Courses",
          "Text": "Good morning! I run moodle 1.9.3 version, for about 65 courses are loaded there. I have given scheduled backup. The backup runs, but it could finish only around 60 courses out of 65. Even if I run cron.php, same is the situation. The backup log shows error in all these five courses. The error courses are not at the end, but in between finished courses. Kindly help me to get rid of this problem. Thank you in advance. Regards, Dr.G.Kathiravan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 11, 2009, 1:29 PM",
          "AuthorName": "Gopalan Kathiravan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=671162&course=5",
          "role": [
            "Picture of Gopalan Kathiravan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup Error - Moodle1.9.3 - Few Courses",
          "Text": "Please check the advice given in the Backup and restore FAQ , then if you still need help, post more details, such as the error message you obtain.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 11, 2009, 5:56 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 82163,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=82163",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup Issues",
          "Text": "Ok, I'm completely new to this. I've been asked to transfer all the data from one server having 1.6 to another having 1.8. I go in to Backup, select all and click Continue. After it backs up it says Creating temporary structures\nDeleting old data\nCreating XML file Writing header Writing general info Warning : Invalid argument supplied for foreach() in c:\\program files\\easyphp1-7\\www\\backup\\backuplib.php on line 1719 Then thisÂ warning repeats enlesslyÂ it seems. It creates the backup zip file but the folders inside contain nothing. Any suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 11, 2007, 11:47 PM",
          "AuthorName": "Sam Larson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=396756&course=5",
          "role": [
            "Picture of Sam Larson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup Issues",
          "Text": "You want to move an entire site, not individual courses. Read the Moodle documentation on Moodle migration . If you run into problems or have questions, go to the front page of moodle.org and use the search box. There have been numerous discussions on this subject, for example this one .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 12, 2007, 12:55 AM",
          "AuthorName": "John Isner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=104240&course=5",
          "role": [
            "Picture of John Isner"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 61590,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=61590",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Right to Left Language not working on Moodle 1.7",
          "Text": "I just installed Moodle 1.7 on a test server . It is no longer supporting the display of right to left languages such as Hebrew. I can edit in Hebrew in the editor, but it doesn't show up properly after being saved. It only shows ????? instead of the Hebrew font. I am able to install the Hebrew language pack, but it doesn't do anything as far as typing and displaying Hebrew. I tried to restore a course from Moodle 1.6 into 1.7, and all the Hebrew font don't show up, only ?????. Any ideas? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 1, 2007, 2:00 PM",
          "AuthorName": "Morah Moriah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=101229&course=5",
          "role": [
            "Picture of Morah Moriah"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Right to Left Language not working on Moodle 1.7",
          "Text": "Morah,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 4, 2007, 7:51 PM",
          "AuthorName": "john attwood",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13492&course=5",
          "role": [
            "Picture of john attwood"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 80426,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=80426",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to roll forward with images intact",
          "Text": "Hello again, I've rolled a class forward by using \"Backup\" and then \"Restore\" but at some point I lost all the images in my lessons. The images are in the class files area for the new class and I can relink to them, but is there some way to roll the class forward without breaking the links to the images? I deleted the original class. Could that have broken the image links somehow? I'm using version 1.8.2. Thanks again, Carol",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 19, 2007, 1:25 AM",
          "AuthorName": "Carol Rosinski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=361078&course=5",
          "role": [
            "Picture of Carol Rosinski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to roll forward with images intact",
          "Text": "I've been thinking about this. I can see how deleting the first class must have broken the links to my images because they were coded into the lessons using the path to the original class files.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 19, 2007, 4:33 AM",
          "AuthorName": "Carol Rosinski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=361078&course=5",
          "role": [
            "Picture of Carol Rosinski"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 385151,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=385151",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Restore courses from 2.9.2 to 3.5.5",
          "Text": "Hi, I have to restore all the courses from the old moodle site to the new moodle site. old moodle site: Moodle 2.9.2 PHP 5.4.45 MySQL 5.5.61 new moodle site: Moodle 3.5.5 PHP 7.2.16 My SQL 5.5.61 For the installation of the new Moodle site I used a new database . There are precautions to be taken?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 3:05 PM",
          "AuthorName": "Nicola Rossi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2226948&course=5",
          "role": [
            "Picture of Nicola Rossi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore courses from 2.9.2 to 3.5.5",
          "Text": "Do I have to restore all moodle users first?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 4:18 PM",
          "AuthorName": "Nicola Rossi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2226948&course=5",
          "role": [
            "Picture of Nicola Rossi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore courses from 2.9.2 to 3.5.5",
          "Text": "No.Â Â  See precautions response.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 9:41 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore courses from 2.9.2 to 3.5.5",
          "Text": "I tried to backup a course from the old site. I think something went wrong, the page kept loading but at the end it showed me a blank page. I should see a backup .mbz file in the course backup area, but I don't see anything. Where is the course backup area?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 5:41 PM",
          "AuthorName": "Nicola Rossi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2226948&course=5",
          "role": [
            "Picture of Nicola Rossi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore courses from 2.9.2 to 3.5.5",
          "Text": "\" Where is the course backup area? \" Backups are **built** in moodledata/temp/backup/ If backup fails, might check in that directory with cPanel file browser to see if there is a 'backup.mbz' file there or not. Backup File Area means in the sea of files ... moodledata/filedir/ - none of the files in there are humanly recognizable. In this case, think it's best to manually create a directory using cPanel in a web server accessible directory and call it 'coursebackups' ... no folder/directory is named that in moodlecode nor in moodledata. In the backup preferences, save to that directory. Why?Â  You can see the files and with recognizable file names. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 9:46 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore courses from 2.9.2 to 3.5.5",
          "Text": "I am in: Dashboard / Site Administration / Courses / Backup / Default Settings I don't see where to set the backup save path, maybe inÂ Automatic backup settings? Then, if I set manual, do I have to specify the days of the week? it seems strange that it is allowed to select if the folder where I want the backups of the courses to be saved resides in the same position as the moodle and moodledata folders, how can I indicate this folder? writing \"/ coursebackups\"? P.S.Â if I wanted to run backups of all the courses in series?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 13, 2019, 5:47 PM",
          "AuthorName": "Nicola Rossi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2226948&course=5",
          "role": [
            "Picture of Nicola Rossi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore courses from 2.9.2 to 3.5.5",
          "Text": "Backup defaults doesn't have a path. Automated backups do: https://docs.moodle.org/35/en/Automated_course_backup Then, if I set manual, do I have to specify the days of the week? it seems strange that it is allowed to select If set to manual it means you, which I doubt, will run the autobackup script in admin/cli/. if\nthe folder where I want the backups of the courses to be saved resides\nin the same position as the moodle and moodledata folders, how can I\nindicate this folder? writing \"/ coursebackups\"? Now we are into basic understanding of shared hosting and the slice of space you have on such systems as well as Linux .... if you do /coursebackups ... the slash in your case is at the root of shaered server - uhhh, you don't have access to that area I would hope. One has to use full paths. Since you insist on nothing but GUI (cPanel), learn your system.Â  Your hosting provider should have tutorials/docs for customers. Your assignment ... find out about full paths in your account on the shared system provided by provider. Will give one caution about autobackups ... don't select 'keep all' in the setup.Â Â  Why?Â  You don't have unlimited space and will probably forget all about checking autobackups and space.Â  Run out of space and that will affect users ability to even login. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 13, 2019, 8:29 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore courses from 2.9.2 to 3.5.5",
          "Text": "precautions - but I see you've already started ... Check old sites additional plugins.Â Â  If you have any, on the new server install compatible versions of same plugins. Assuming old shared site => new shared site in space/memory and other specs of your slice of the shared server. Might increase default PHP values for time for a script to run, memory a script can consume ... seen in Site admin menu -> Server -> PHP Info. Check backup defaults on old server.Â Â  Make sure users are included. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 9:40 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 176232,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=176232",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Restore error when moving course to another server",
          "Text": "I have a sandbox Moodle 2.0 server that is used for training faculty and new course developement.Â  I have just created a new 2.0 server that will be used this fall for our teaching system.Â  I am trying to move courses over to this new server.Â  I have backed up a course on the training server and I am trying to restore it on the teaching server.Â  When I do the restore I get this error (debugging on) \n```text\nDebug info: Column 'userid' cannot be null\n\n\nINSERT INTO mdl_grade_grades (userid,rawgrade,rawgrademax,rawgrademin,rawscaleid,usermodified,\n\n\nfinalgrade,hidden,locked,locktime,exported,overridden,excluded,feedback,feedbackformat,information,\n\n\ninformationformat,timecreated,timemodified,itemid) \n\n\nVALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)\n\n\n[array ( 0 => NULL, 1 => NULL, 2 => '100.00000', 3 => '0.00000', 4 => NULL, 5 => NULL, \n\n\n6 => NULL, 7 => '0', 8 => '0', 9 => '0', 10 => '0', 11 => '0', 12 => '0', 13 => NULL, 14 => '0', \n\n\n15 => NULL, 16 => '0', 17 => NULL, 18 => NULL, 19 => 461,)]\n```\n The source course was empty - no enrolled users - and the course seems to be fully functional, but the error itself is disconcerting.Â  Should I be concerned?Â  Is this a known problem that is being fixed?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 27, 2011, 2:52 AM",
          "AuthorName": "Wes Matchett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1275992&course=5",
          "role": [
            "Picture of Wes Matchett"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore error when moving course to another server",
          "Text": "Did you ever find a solution for this? I'm running into exactly the same issue.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 4, 2012, 11:27 PM",
          "AuthorName": "David Penner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1403641&course=5",
          "role": [
            "Picture of David Penner",
            "Picture of Core developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore error when moving course to another server",
          "Text": "I found an issue in tracker about the problem: http://tracker.moodle.org/browse/MDL-31650",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2012, 11:39 PM",
          "AuthorName": "Katja KrÃ¼ger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=146869&course=5",
          "role": [
            "Picture of Katja KrÃ¼ger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore error when moving course to another server",
          "Text": "Is this fixed in 2.3? just released a couple of days ago?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 28, 2012, 6:29 AM",
          "AuthorName": "John Reese",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1392695&course=5",
          "role": [
            "Picture of John Reese"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore error when moving course to another server",
          "Text": "sorry found the fix for 2.2.+ https://github.com/moodle/moodle/commit/3ea133094915604243be8ee858104ae9fd806638",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 28, 2012, 7:08 AM",
          "AuthorName": "John Reese",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1392695&course=5",
          "role": [
            "Picture of John Reese"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 135838,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=135838",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Backup and Import failures",
          "Text": "Hi, I've checked other postings and haven't been able to find anything like what I'm running into. I'm using Moodle 1.9.4...when I try to run a backup, it appears to work at the beginning but quickly stops the backup process, no error message, simply: Name: backup-phweb-20091021-1043.zip â€¢Creating temporary structures â€¢Deleting old data â€¢Creating XML file â—¦Writing header â—¦Writing general info It's not a timeout - the process ends in under a second.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 22, 2009, 12:49 AM",
          "AuthorName": "John Hannah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=282728&course=5",
          "role": [
            "Picture of John Hannah"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup and Import failures",
          "Text": "OK, on another system using Apache I've duplicated the error exactly. The error log reads: PHP Notice: Undefined index: code in PATH\\\\index.php on line 34, referer: http:// domain /LMS/backup/backup.php Hopefully someone will have some ideas. Thanks for any help you can offer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 22, 2009, 1:31 AM",
          "AuthorName": "John Hannah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=282728&course=5",
          "role": [
            "Picture of John Hannah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup and Import failures",
          "Text": "Just asking the usual obvious questions. You have room on the server ? zip is enabled?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 22, 2009, 1:41 AM",
          "AuthorName": "ben reynolds",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=259778&course=5",
          "role": [
            "Picture of ben reynolds"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup and Import failures",
          "Text": "Thanks for the reply - yep, plenty of room on the server and zip is enabled.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 22, 2009, 1:51 AM",
          "AuthorName": "John Hannah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=282728&course=5",
          "role": [
            "Picture of John Hannah"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup and Import failures",
          "Text": "Anyone have ideas? I'm completely stumped.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 23, 2009, 1:26 AM",
          "AuthorName": "John Hannah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=282728&course=5",
          "role": [
            "Picture of John Hannah"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 146062,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=146062",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Internal Server error when going from 1.8 to 1.9.7",
          "Text": "I've got some backups from 1.8.x that I'm trying to restore to 1.9.7 and I'm getting an internal server error. I turned on debugging, but it didn't give me any more useful information. The http error log says: [Tue Mar 16 11:17:32 2010] [error] [client xx.xx.xx.xx] File does not exist: /xx/xx/xx/xx/internal_error.html, referer: http://xx.xx.xx.xx/backup/restore.php I can unzip the file on the server and it unzips without error. Is there a way to take this unzipped set of files and turn it into a class?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 17, 2010, 2:53 AM",
          "AuthorName": "Scott Mohnkern",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=449018&course=5",
          "role": [
            "Picture of Scott Mohnkern"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 322362,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=322362",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Restore 1.9 course into 2.7",
          "Text": "I have restored a course from 1.9 into a new site 2.7. However the main items I want to keep are the forum posts which haven't come across with the backup. So I have backed it up with user data. I have downloaded the users and uploaded them to the new site. Â But when I restore the course I get the following error. The selected file is not a standard Moodle backup file. The restore process will try to convert the backup file into the standard format and then restore it. I continued with the restore and the course was created with resources. Â However ALL forum posts are missing. Can anyone advise?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 29, 2015, 9:11 PM",
          "AuthorName": "alison fordham",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=110113&course=5",
          "role": [
            "Picture of alison fordham"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore 1.9 course into 2.7",
          "Text": "Hi Alison, regret to tell you that there is no way can a restore be made directly from v1.9 to v2.7. The security structures of both version are very different but more importantly, the databases are so very different that the is few similarities, apart from names. Perhaps most important is that the way in which backup files are created and then restored uses different methodologies. However, this is not hopeless. If you have in your backups somewhere a v2.2, or if you can download a v2.2 from the Moodle.org, found on this page , install it somewhere other than your server , restore the v1.9 file then back it up again for the v2.7. That is currently the only way I know it can be done. Having said that, it is not always a straight forward operation either. If the v1.9 file has references to blocks or other plugins not used in a v2.2, for example, it may not restore properly. To get around that, unzip the original file, open the moodle. xml file in a test file editor other than Notepad, look for references to blocks and remove them. Keep the command tags, but remove the data contained within. Save the file, re-zip it then try again. This might take several attempts, but I often found that it was easier to do this than to rebuild the course itself. Good luck. EDIT: Thinking about it... the zip file should contain the images used in the course, so if what is above is too daunting, best bet is to look for the text used in the course after unzipping the file, and opening the moodle.xml file, copy and paste it, then use that to rebuild the course. There is a lot of corrective editing, which makes the above actually faster. I have done this too, so whichever suits you best.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 30, 2015, 4:36 AM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore 1.9 course into 2.7",
          "Text": "Colin, thank you for your advise. Â I will give this a try.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 2, 2015, 7:08 PM",
          "AuthorName": "alison fordham",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=110113&course=5",
          "role": [
            "Picture of alison fordham"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore 1.9 course into 2.7",
          "Text": "Unfortunately, the forum posts are linked to users and user data cannot be imported into 2.7.Â  I agree with Colin's first suggestion - your best bet would be to fire up a development Moodle 2.2 site, restore to that, back up from that and then restore to 2.7.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 30, 2015, 5:12 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore 1.9 course into 2.7",
          "Text": "I share the agony, but you really want to go to something likeÂ  2.2 and then upgrade from there. If you are using assignment, pay attention to the change/upgrade of assignment in 2.2 and after. Assignments will disappear if you don't use the upgrade tool. They will alsoÂ  drop out of place once you use the upgrade tool. They drop to the bottom of each section. Assignments need to be re-placed. After the next upgrade, they'll be OK.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 30, 2015, 7:28 AM",
          "AuthorName": "ben reynolds",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=259778&course=5",
          "role": [
            "Picture of ben reynolds"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 40605,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=40605",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Simple advice",
          "Text": "Hi, I've been chipping away at getting our moodle version upgraded. I shan't go into the comedy of errors it turned out to be :/ but I think I am at the last hurdle. I backed up before we moved over. We did MySQL from v4.x to v5 at the same time, and now I think I just need to restore backup. But this is proving less than intuative... I don't actually know where to start! the FAQ covers backups but not restoring as far as I can see....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 27, 2006, 6:55 PM",
          "AuthorName": "Jay G.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88390&course=5",
          "role": [
            "Picture of Jay G."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Simple advice",
          "Text": "If you did a database backup (with my sql dump or similar tools), doing a restore is quite simple. You just feed the file into mysql command, and it restores the contents directly (a mysql backup is just a series of commands to create the tables and insert the values, in plain SQL syntax). Say you have your backup in a file called moodle.dump, that your moodle database is called 'moodledb', that you use a username 'moodleuser' with password 'moodlepass' to connect to that database, you just need to drop all of the existing tables (or the restore will add to the existing contents), and then execute: mysql -u moodleuser -p moodledb < moodle.dump and then type the 'moodlepass' password when you are prompted to. Saludos. IÃ±aki.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 28, 2006, 4:27 AM",
          "AuthorName": "IÃ±aki Arenaza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=68632&course=5",
          "role": [
            "Picture of IÃ±aki Arenaza",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 83213,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=83213",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backing up the whole site doesn't work",
          "Text": "Hi, I've followed the instructions for backing up the whole site but I can't manage to make it work: my sql dump -h localhost -u myuser --password=mypasswd -C -Q -e -a moodle > moodle- database .sql and I've got this message mysqldump: Got error: 1044: Access denied for user 'moodleuser'@'localhost' to database 'moodle' when using LOCK TABLES any clue?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 26, 2007, 10:17 PM",
          "AuthorName": "Edu Garcia Sacristan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=253752&course=5",
          "role": [
            "Picture of Edu Garcia Sacristan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backing up the whole site doesn't work",
          "Text": "Maybe the mysql user \"moodleuser\" don't have permission LOCK TABLES for 'moodle' database. It's easy to set it with phpmyadmin, privileges section.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 27, 2007, 5:13 AM",
          "AuthorName": "Havel Lieb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=410297&course=5",
          "role": [
            "Picture of Havel Lieb"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 80766,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=80766",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "backup and restore 1.9 problems",
          "Text": "I have a course running on Moodle 1.9 Beta + (2007091900) where I backed up a course. Then I did a clean installation of Moodle 1.9 Beta + (2007092001) and I tried to restore my course into a new course. But I got this error, shown in red below: Creating new course Curso de IntroducciÃ³n (CI101) Category: Miscellaneous Creating the Restorelog.html in the course backup folder Creating users . . (New: 15, Existing: 0) Students: 0 Teachers: 0 Creating groups Creating groupings Adding groups into groupings Creating sections Creating categories and questions Copying user files User zones: 1 Copying course files. Files/folders: 2 Copying site files used in course Creating scales Creating events Creating course modules Forum \"News forum\" Forum \"Usando un foro de Moodle\" Could not restore modules! Creating roles definitions Creating course level role assignments and overrides Creating module level role assignments and overrides Creating block level role assignments and overrides Creating user level role assignments and overrides. Closing the Restorelog.html file. An error has occurred and the restore could not be completed!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 23, 2007, 6:40 AM",
          "AuthorName": "Eduardo Hernandez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=12316&course=5",
          "role": [
            "Picture of Eduardo Hernandez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 231114,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=231114",
      "NoOfResponses": 12,
      "ResponsesInList": [
        {
          "Title": "Restoring Multiple Courses Simultaneously (multi-semester issue)",
          "Text": "Hello, this is my first time posting. So basically, the site I'm running has several hundred courses offered, and we want to offer the exact same courses for several semesters to come. Â The way I've tried to tackle this is have semesters as categories, majors as sub-categories, and courses within those. From what I can tell, the only way to do this is to essentially make a copy of the courses without user data (through backup/restore) and change the date (probably by running an SQL query, unless there's some other method). Â There seems to be a batch backup method, but no batch restore, however. My question is: is there any way to do a mass restore of courses? Â Or is there perhaps an easier way to address the whole issue of multiple semesters? Â I know these are two different questions, but I'm not really sure how to approach this. I should think I'm not the first to encounter an issue like this, but a forum search hasn't yielded anything that really helps me (maybe I've used the wrong search terms...). Thank you so much for taking the time to read this. Â Moodle is an awesome tool, and I've love to be able to take advantage of its full potential someday. Best regards, Amin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 21, 2013, 10:11 AM",
          "AuthorName": "Amin Hannini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1614137&course=5",
          "role": [
            "Picture of Amin Hannini"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring Multiple Courses Simultaneously (multi-semester issue)",
          "Text": "I would love this capability too!! Â Haven't found a way to do it yet..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 21, 2013, 11:57 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Multiple Courses Simultaneously (multi-semester issue)",
          "Text": "How would admins control this? What I mean is, I don't see what the user-interface for doing this would look like. At the back end, it is quite easy to write code to make Moodle back things up and restore them. There is example code at http://docs.moodle.org/dev/Backup_2.0_for_developers#Setting_up_the_environment and http://docs.moodle.org/dev/Restore_2.0_for_developers#Automatically_triggering_restore_in_code",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 21, 2013, 3:58 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Multiple Courses Simultaneously (multi-semester issue)",
          "Text": "I'm actually only concerned about this functionality being possible rather than what an interface for it would look like, but I don't think it'd be too complicated. Â A drag and drop area, maybe, with you choosing one (or several) courses you'd like to be restored. Â I don't know how difficult it would be to code, but logistically it's straightforward enough. I will look into the code you've shared, thank you. Â On that note, though, is this the best approach to what I'm trying to do? Â To have the same course offerings for different semesters? Â I just want to make sure before I start to tinker with the php. Thanks a lot for your input!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 21, 2013, 11:11 PM",
          "AuthorName": "Amin Hannini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1614137&course=5",
          "role": [
            "Picture of Amin Hannini"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Multiple Courses Simultaneously (multi-semester issue)",
          "Text": "There are basically two approaches: 1. Backup and restore without user data. 2. Use course rest to wipe the original course for reuse. If you want to keep the old copies of the course for archiving purposes, then 1. is better.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 22, 2013, 6:26 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Multiple Courses Simultaneously (multi-semester issue)",
          "Text": "I'm going to give the automated \"tweaks\" you've mentioned a go. Â Thanks for your help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 24, 2013, 12:54 PM",
          "AuthorName": "Amin Hannini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1614137&course=5",
          "role": [
            "Picture of Amin Hannini"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Multiple Courses Simultaneously (multi-semester issue)",
          "Text": "List of courses with checkboxes - select which ones you want to restore. Or the option to select multiple files to restore at once - I think there would be a lot of people who would like this functionality.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 24, 2013, 8:20 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Multiple Courses Simultaneously (multi-semester issue)",
          "Text": "That would definitely be wonderful. I could not get the process automated (even after following the aforementioned code tweaks) and thus have had to import courses manually. Â It's taken me all of yesterday/today and I'm still not done...really wish there were a way to do this automatically. How does everyone else deal with the logistics of a university with multiple semesters?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 25, 2013, 4:58 AM",
          "AuthorName": "Amin Hannini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1614137&course=5",
          "role": [
            "Picture of Amin Hannini"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Multiple Courses Simultaneously (multi-semester issue)",
          "Text": "Hello Amin, if you are still looking for way to restore multiple courses into one or multiple Moodle instances, i am happy to share the system that i developed to do that. Let me know. Thanks, Anatoliy",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 27, 2014, 12:09 PM",
          "AuthorName": "Anatoliy Kochnev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=23304&course=5",
          "role": [
            "Picture of Anatoliy Kochnev",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Multiple Courses Simultaneously (multi-semester issue)",
          "Text": "Hello, Even if Amin is not interested, i'm sure someone will be... so don't hesitate to post all usefull information. Thanks, SÃ©verin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 27, 2014, 9:25 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Multiple Courses Simultaneously (multi-semester issue)",
          "Text": "Hello, the service is located at http://cloud.sebale.net and works best with Moodle 2.4 and higher. It is free for individual use and has a good storage space to keep backups of courses in one place. You need to be registered in order to use the service. Thank you, Anatoliy",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 1, 2014, 11:52 AM",
          "AuthorName": "Anatoliy Kochnev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=23304&course=5",
          "role": [
            "Picture of Anatoliy Kochnev",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Multiple Courses Simultaneously (multi-semester issue)",
          "Text": "Hi Anatoly, I am in need to create around 2000 courses with about 5000 documents. I created courses using bulk upload and then to create activity for adding file resourceÂ iÂ used template which created courses with empty file activity now i need to add around 5000 files (word, excel, ppt, pdf) all convert to html to all the 2000 courses.Â I have placed all converted documents to file system repository. Can u please let me know that the system you developed will be able to link those files to their corresponding courses. As manually doing this wouldmake error and time consuming. Thanks in advance Vinoth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 28, 2014, 4:21 PM",
          "AuthorName": "vinoth kannan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1715067&course=5",
          "role": [
            "Picture of vinoth kannan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 316937,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=316937",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "question X was associated with quiz YYYY but not actually used. The instance has been ignored.",
          "Text": "I just restored a backup from to our 2.9.1 site from an older 2.6.10 site that someone else manages. Â The course restored successfully but generated a long string of messages like: \"question 0 was associated with quiz 2124 but not actually used. The instance has been ignored.\" The only place where I found reference to this message anywhere with Google was the Moodle code itself and MDL-47266 . Â I can't figure out anything from that bug report... What is going on?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 17, 2015, 10:36 AM",
          "AuthorName": "Joshua Bragg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=328598&course=5",
          "role": [
            "Picture of Joshua Bragg"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: question X was associated with quiz YYYY but not actually used. The instance has been ignored.",
          "Text": "What is going on is that probably these quizzes were initally created using a restore, and the restore was buggy (there isn't a question 0, so there should never be a reference to one). Therefore, the DB contained some garbage related to this quiz which did not acutally do any harm. However, as part of the restore into Moodle 2.9.1, we are ignoring that garbage. The warning is just to let you know that has happened. You may wish to check the restored quiz a bit, to be sure that it is working correctly. But, if it is working (which is very likely) you can just ignore the warning. (If is is not working, the warnings might help debug it.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 29, 2015, 12:44 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: question X was associated with quiz YYYY but not actually used. The instance has been ignored.",
          "Text": "The quiz does seem to work fine. Â Thanks Tim.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 29, 2015, 1:02 AM",
          "AuthorName": "Joshua Bragg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=328598&course=5",
          "role": [
            "Picture of Joshua Bragg"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 49880,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=49880",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Warning: php_uname() has been disabled for security reasons",
          "Text": "When making a backup I get the following warning: Zipping backup Warning : php_uname() has been disabled for security reasons in /data/members/paid/h/a/happy-sailing.nl/htdocs/watersportcursussen/lib/pclzip/pclzip.lib.php on line 5380 Moodle still says that the backup is completed sucessfully. During the restore in a Moodle site running in a different subdomain I get the warning: Unzipping backup Warning : php_uname() has been disabled for security reasons in /data/members/paid/h/a/happy-sailing.nl/htdocs/test/lib/pclzip/pclzip.lib.php on line 5380 Both sites are hosted by Lycos in The Netherlands. With PHPinfo I saw that Lycos has this function disabled. Can anyone tell me if the above mentioned warnings mean trouble for the backup's. I backed up one course and restored it. It looks al right but I have not tested it intesively yet. Regards, Hendrik ten Hoor",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 17, 2006, 5:30 AM",
          "AuthorName": "Hendrik ten Hoor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=132414&course=5",
          "role": [
            "Picture of Hendrik ten Hoor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 255669,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=255669",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "1.9 course backups hang while zipping",
          "Text": "I am tring to backup a course in moodle 1.96. It stops in zipping file. I turned on the debugger, this what I get: line 2417 of backup/backuplib.php: call to debugging() line 443 of backup/backuplib.php: call to backup_encode_absolute_links() line 65 of mod/glossary/backuplib.php: call to full_tag() line 2268 of backup/backuplib.php: call to glossary_backup_one_mod() line 3279 of backup/backuplib.php: call to backup_module() line 60 of backup/backup_execute.html: call to backup_execute() line 135 of backup/backup.php: call to include_once()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 6, 2014, 4:30 AM",
          "AuthorName": "Irith Herman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=444161&course=5",
          "role": [
            "Picture of Irith Herman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 266577,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=266577",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Teacher cannot restore course as new course in Moodle 2.6.3",
          "Text": "Hi, I have noticed that editing teachers can no longer restore backed up course as new course. If she tries error below comes: \"The studenta role in the backup file cannot be mapped to any of the roles that you are allowed to assign.\" or for example: The questions category \"xxxx xxxxxx xxxxxx\" cannot be created by restore\" Is there some role settings to fix this or is this somekind of bug? Thanks in advance ~ Jukka ~",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 13, 2014, 4:52 PM",
          "AuthorName": "Jukka VÃ¤hÃ¤aho",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1019416&course=5",
          "role": [
            "Picture of Jukka VÃ¤hÃ¤aho"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Teacher cannot restore course as new course in Moodle 2.6.3",
          "Text": "Hello Jukka , The course backup you are restoring is taken from which Moodle version. While restoring the course please untick \"User role assignment\" and then try to restore it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 13, 2014, 5:08 PM",
          "AuthorName": "Sakshi Goel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1403539&course=5",
          "role": [
            "Picture of Sakshi Goel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Teacher cannot restore course as new course in Moodle 2.6.3",
          "Text": "Hello Sakshi, Backup is taken using same Moodle version 2.6.3 User role assignment is unticked allready because teacher cannot backup and restore user data at all and it cannot be ticked. When backing up and restoring as administrator or is it \"manager\" nowadays, everything works fine. ~ Jukka ~",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 13, 2014, 7:06 PM",
          "AuthorName": "Jukka VÃ¤hÃ¤aho",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1019416&course=5",
          "role": [
            "Picture of Jukka VÃ¤hÃ¤aho"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 51651,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=51651",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Full moodle backup",
          "Text": "Hi, I had made some backups of moodle using is funcionality but i had saw that it only makes backups of some files in a per desciplina base... How can i make full backups of moodle?Â I want to make a full backup ofÂ a moodle instalation using is own funcionality and i ask how can i do that?? thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 13, 2006, 9:26 PM",
          "AuthorName": "JosÃ© Domingos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=146829&course=5",
          "role": [
            "Picture of JosÃ© Domingos"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Full moodle backup",
          "Text": "JosÃ©, I have the same question, a backup is only be possible in a course, but i want to make a full backup of the complete moodle site. Do you have a solution already? Lauran",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2006, 8:37 PM",
          "AuthorName": "Lauran de Bever",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=8902&course=5",
          "role": [
            "Picture of Lauran de Bever"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Full moodle backup",
          "Text": "Lauran, I already answered you in the Dutch forum, but then I noticed you also posted it here. You need to backup ... all the tables from the Moodle database . I use the `dbsender.php` script, which emails a zipped copy of all the tables to my gmail account. all the files from the Moodle data directory. I use the wget command (exists for Mac, Windows and Linux) because you can configure it to only download files that were changed since the previous backup. You may be familiar with it: it's the same command used to trigger the cron script. It's not that userfriendly, you issue it from the commandline but the advantage is that you can easily include it in a script that runs automatically. More information on how to setup both scripts: http://moodle.org/mod/forum/discuss.php?d=11497 and http://moodle.org/mod/forum/discuss.php?d=11739 (Some of the posts date from Moodle 1.1.1. It may be difficult to setup, but the script has been running daily ever since without a problem !!!)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 15, 2006, 9:28 PM",
          "AuthorName": "Jan Dierckx",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=10753&course=5",
          "role": [
            "Picture of Jan Dierckx"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Full moodle backup",
          "Text": "Hi Jan, I have read both of the discussions you mentioned above. I am ready to take the final step, but I'm worried about security. In order to be able to invoke dbsender.php with wget, the script needs to be stored somewhere within the web server 's directory hierarchy. Suppose I put it in /var/www/moodle/admin. Will ANYONE be able to invoke the script? Do I need to add some code to dbsender.php to insure that only the site admin can do this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 27, 2007, 1:28 AM",
          "AuthorName": "John Isner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=104240&course=5",
          "role": [
            "Picture of John Isner"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 268181,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=268181",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Separate Capabilities/moodle/restore:restore course with \"download course backup file\" capability?",
          "Text": "Dear all, how are you doing? I thought that I would bring this up for some discussion (hopefully it has not been discussed before)... I noticed that for Moodle 2.4 (possibly 2.5, 2.6, and 2.7 too), the teacher role must have \"Capabilities/moodle/restore:restore course\" set to \"Allow\" in order to complete the backup process. This setting allows access to where the backups are store (the \"restore page\"). Because of this design, there is no way to allow teachers to download their course backups without giving them the capability to restore a course. However, there are some use cases that we might want to allow a teacher to be able to download their course backup files, but NOT allowing them to restore their courses on the production site. However, this doesn't seem to be possible for Moodle now. Do people feel this is a reasonable and common use case? Is there a work-around for this? Should I create a potential \"feature\" ticket on the moodle bug tracker? Thoughts or comments? Thanks! Wen",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 30, 2014, 1:23 AM",
          "AuthorName": "Wen Hao Chuang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=18123&course=5",
          "role": [
            "Picture of Wen Hao Chuang"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Separate Capabilities/moodle/restore:restore course with \"download course backup file\" capability?",
          "Text": "Hi, Wen. I am experiencing the same issue. Â I'd turned off restore for teachers because they were duplicating \"bad\" courses. Â However, after doing that, I discovered this problem so set it back to Allow. Â It would be great if these two things were separated. Â There's a setting for downloadcourse, but it doesn't seem to matter if restorecourse is set to prevent.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 31, 2015, 4:35 AM",
          "AuthorName": "Blair F.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=987276&course=5",
          "role": [
            "Picture of Blair F."
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 35730,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=35730",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Problem in taking Backup/Restore",
          "Text": "Hi ! I am using Moodle1.5.3. I have taken the backup of whole site through the front page backup option. But when i try to restore this on another machine, i am not able to restore my all courses. Please suggest !! Manish",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 6, 2005, 2:40 PM",
          "AuthorName": "Manish Arora",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=91030&course=5",
          "role": [
            "Picture of Manish Arora"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problem in taking Backup/Restore",
          "Text": "The front page option only backs up the \"site course\" that is to say, the news forum data etc. on your site page. You need to use the admin>>backups settings to configure an autobackup of all your courses, or something like navicat (or os versions) to backup your database or a script to take a database dump or command line access to mysql to dump the database. How many courses do you have? Timothy",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 6, 2005, 3:19 PM",
          "AuthorName": "Timothy Takemoto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4185&course=5",
          "role": [
            "Picture of Timothy Takemoto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in taking Backup/Restore",
          "Text": "I have got 2 categories each having 3 courses. Please tell me what should i do to take the backup of complete site... ThoughÂ I have set \"course files=yes\"Â in the Admin->backup settings, yet its not taking the backup of the courses.. There is no option in Moodle that can take the backup of entire site... thnx Manish",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 6, 2005, 4:08 PM",
          "AuthorName": "Manish Arora",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=91030&course=5",
          "role": [
            "Picture of Manish Arora"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem in taking Backup/Restore",
          "Text": "Hi Manish, Please check the MoodleDocs Backup FAQ which includes the question \" How do I backup my whole Moodle site? \"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 6, 2005, 4:21 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 149660,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=149660",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Unable to backup a course in Moodle",
          "Text": "Hi, I am using the Moodle 1.9.2 version where I am unable to back up the course. Tha course has morethan 2GB data. I have the issue with this course only as the backup works fine for other courses. When I try to do the backup, it takesÂ about 20 mins time. Even I couldn't receive any error message. any suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 7, 2010, 5:47 PM",
          "AuthorName": "Mohanarao Dhulipalla",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1004899&course=5",
          "role": [
            "Picture of Mohanarao Dhulipalla"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Unable to backup a course in Moodle",
          "Text": "I have had problems myself when backing up large courses. I suspect the size of the course could be one problem. I use a workaround for this, that probably will be frowned upon, but this is the way I do it when I am unable to backup any other way: go to the moodledata directory for this specific course (through my computer, not moodle) and move the entire contents (for this course only) to a temporary directory elsewhere. Now go to the course in moodle and backup as you normally would (shouldn't take long as the size will be small. If you want to keep this course, you then copy (not move) the files back to their original location. When it comes to restoring the course, you then restore within moodle and go into the file section to create the directory in the moodledata directory. after creating this, you go in back end again and copy and paste the files from the original course into the new folder, using the original structure. If you have done this correctly, you will now find all links work as they should.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 10, 2010, 6:29 PM",
          "AuthorName": "Graham Lee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=149952&course=5",
          "role": [
            "Picture of Graham Lee"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to backup a course in Moodle",
          "Text": "Hi Lee, Thank you very much. It works. Appreciate!!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 10, 2010, 11:35 PM",
          "AuthorName": "Mohanarao Dhulipalla",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1004899&course=5",
          "role": [
            "Picture of Mohanarao Dhulipalla"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 335729,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335729",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Some users missing in restored course",
          "Text": "Here's my current scenario. Sorry for the length, but it's complicated and I want to provide as much information as I can. I have a selection of 85 courses in Moodle 2.5. The site uses external database enrollments and users are authenticated via SAML. I've built a new 3.1 site. This site is connected to a Wordpress site and uses Edwiser Bridge to enroll students and do Single Sign On. Enrollment method is Manual. To get started I backed up all of my 2.5 courses without user data and restored them to the 3.1 site to build the course library and sync them to my Wordpress site. To test I did that I completed three course backups of 2.5 courses that only had 1 or 2 students and restored them to 3.1. New user accounts were created for the enrolled students, so I figured all was good. Now that we're \"going live\" I'm starting to do the final backup/restore. On the first few courses I noticed that not all users were enrolled in the restored 3.1 course. The first course has 5 students, but only 3 are showing in the restored 3.1 course. Another restored 4 of 6. What's more odd is if I look at the Enrollment Methods, I see that the Manual Enrollment method shows the correct number of enrollments. The only thing I can see different for the restored and non-restored users is their enrollments dates and recent activity dates. The non-restored users are older and recent activity is older. I can't determine an exact period of time, but maybe 30 days. I logged in to one of the account to update the recent activity date, but that didn't fix it. Next I though that maybe something was wrong with the backup or the restore. So I extracted the 2.5 backup file and the non-restoring accounts in the users. xml file look ok from what I can tell. Here's a node from the 2.5 users.xml file. We use email addresses for usernames. Anon'd here. <user id=\"2892\" contextid=\"12084\"> <username>username@example.com</username> <idnumber>username@example.com</idnumber> <email>username@example.com</email> However if I go to the 3.1 site and backup a restored course, and then extract that backup I can see the user information nodes for the non-restoring accounts are corrupted in the 3.1 users.xml file. Here's for the same user. You can see contexid is empty, astring of numbers is added to the username, idnumber is empty, and email address is encrypted or something. <user id=\"7\" contextid=\"\"> <username>eemeasures@att.net.1463590529</username> <idnumber></idnumber> <email>dac946896daeacaca915922b863354e9</email> I've looked at three courses and it's the same situation for all of the non-restoring user accounts. Perhaps something is getting corrupted on the restore process? Other than the dates, I can't see any patterns among the non-restoring accounts compared to the ones that restore fine. Any thoughts or suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 2, 2016, 1:08 PM",
          "AuthorName": "Darrel Tenter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=173098&course=5",
          "role": [
            "Picture of Darrel Tenter"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Some users missing in restored course",
          "Text": "Hi Darrel, We were experiencing a similar issueâ€”the backup files looked fine, but when we restored them to two LMSs with slightly different version numbers, only a fraction of users would be retained after the restore (and they were two different numbers of users, depending on the LMS!). Eventually, however, we tried mass exporting the list of registered users from the source LMS (via bulk user actions), and then mass importing them to the destination LMS. When we did that first, and then began restoring the courses to the destination LMS, all of the users and their associated data were retained properly. Have you already tried this method?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 23, 2016, 12:39 AM",
          "AuthorName": "Adib Masumian",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1921119&course=5",
          "role": [
            "Picture of Adib Masumian"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Some users missing in restored course",
          "Text": "I didn't try that, but it may have been what I did directly in the database. What I noticed after the restore is that the course would show a certain number of enrollments, but when I looked at the individual enrollment methods the numbers didn't match. For example it would say 10 enrollments, but the Manual enrollment method would only show 4. After a lot of thought and import/export tests I noticed that the users with the weird user names in my backup files were the ones that weren't listed in the enrollments. So I ended up looking at the users table in my database and saw the same usernames listed there. My fix was to scan through the table and remove the trailing .xxxxxxxxxx string at the end. So email@example.com.1463590529 would be email@example.com. When I did that for a particular user they would then show up in the enrollment methods. Luckily my user list was relatively small. It only took me an hour or so to work through it. I should have thought of a mass user export/import like you did. That would have put the users in place first and then just matched the imported enrollments to existing accounts. I think that there's some issue with creating users on restore when the old and new sites are on different versions. Too many variables for me to figure out though. I'm glad we both figured it out. Hopefully this will help someone else in the future.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 23, 2016, 1:31 AM",
          "AuthorName": "Darrel Tenter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=173098&course=5",
          "role": [
            "Picture of Darrel Tenter"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Some users missing in restored course",
          "Text": "One other thing I just remembered.Â In the mdl_user table all of the bad user accounts were set deleted. I set that to 0 (not-deleted), then fixed their email addresses in the username and email fields. Then they were listed in the enrolled users in the course. Just without a role. So I just added Student role there manually.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 23, 2016, 6:02 AM",
          "AuthorName": "Darrel Tenter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=173098&course=5",
          "role": [
            "Picture of Darrel Tenter"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 103486,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=103486",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backing up course errors",
          "Text": "When I click the cron.maintenance.php link in Notifications, it says error at the end of ech course, but I can't find out what the error is.Â  How can I find out what error has occured?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 15, 2008, 11:55 PM",
          "AuthorName": "Josh Scoville",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=577621&course=5",
          "role": [
            "Picture of Josh Scoville"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 182153,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=182153",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Users are not restored from 1.9 backup to 2.1 site",
          "Text": "Hi people, I'm starting \"to fight\" with version 2.1 , the first thing I try is to restore a course from a version 1.9.8 to 2.1 . The backup I have done with user data. Well, the problem is that when I try to restore it in 2.1 tells me there is no user data. I have reviewed moodle. xml , just in case , and yes it has user data . Am I doing something wrong? I need to activate a setting in the site? In both servers , origin and destination , I am admin. Thanks in advance. regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 29, 2011, 1:05 AM",
          "AuthorName": "Antonio Piedras",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=208424&course=5",
          "role": [
            "Picture of Antonio Piedras"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Users are not restored from 1.9 backup to 2.1 site",
          "Text": "Hi Antonio, no you are not doing anything wrong. You must understand that the security enhancements to v2 were a quantum leap over v1.9 and this threw up a whole range of unexpected issues and one of them was the backup/restore process. The difficulty of developing a solution was greater than anticipated so it can, currently only bring over course materials. At the MoodleMootAu in Sydney a week ago, Martin D said that the restoration of users and user materials was on track and would be expected to be included in the next version, that is 2.3 to be released in November. It is possible to bring it all up to v2.1, and that is to upgrade your current Moodle the same way as you upgraded previous versions. The issues there have mostly centred around non-core blocks and filters though. If you want to start with a clean install, a vanilla install I think the latest jargon is, then you create a new v2.1 and bring your courses into it, which is what you seem to have done. Best bet here is to wait until the end of your academic year and have it all prepared to go, so that all of your courses are active in your new Moodle but without any enrolments. Enter your students as required when when needed or do a bulk upload of all enrolments and Teachers can sort it. Most of the institutions I have spoken to are doing this beginning next December in the southern hemisphere and June/July in the northern - but by then, the whole restore package will be available, so it can be done any time.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 29, 2011, 5:02 AM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Users are not restored from 1.9 backup to 2.1 site",
          "Text": "Thanks for the information, Colin.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 29, 2011, 3:10 PM",
          "AuthorName": "Antonio Piedras",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=208424&course=5",
          "role": [
            "Picture of Antonio Piedras"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 188844,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=188844",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Which config.php to Back Up? | Moodle 2.0",
          "Text": "In some posts I've read that for manual backups, the following have to be backed up from the server : moodledata folder with its contents MySQL Database config.php file First two above, no problem with, but can anybody tell me which config.php file has to be backed up? I have one next to the moodle folder, another one inside the moodle folder. If an informed person could advise, I'd be most grateful. Thanks in advance, FranÃ§ois.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 24, 2011, 5:23 PM",
          "AuthorName": "Francois Evans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1116054&course=5",
          "role": [
            "Picture of Francois Evans"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Which config.php to Back Up? | Moodle 2.0",
          "Text": "The one inside the Moodle folder is the one being used. To be safe, back-up the whole Moodle folder.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 24, 2011, 6:37 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 352997,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=352997",
      "NoOfResponses": 12,
      "ResponsesInList": [
        {
          "Title": "Restoring Course with Deleted Users",
          "Text": "Hello! I administer moodle for a school division's learning online program and I'm hoping to get some help. Â I'd like to periodically delete the users in moodle that are not using it, either because they are no longer taking a course or because they have graduated. Â My problem is that when you restore a course that includes students but the students are deleted you cannot see any of the information for the students in the restored course. Â We need to keep these backups in case a student contests their grade and we must review their work. What are my options here? Â Is there a way to view course backups and their content without the original users still existing?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2017, 4:03 AM",
          "AuthorName": "Tyler Bogdan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1937249&course=5",
          "role": [
            "Picture of Tyler Bogdan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring Course with Deleted Users",
          "Text": "If restoring a backup that contains users for the sake of check grades, etc., why not restore to a local host version .... on a laptop for such a purpose. Â  Or a true server within LAN/WAN that's not accessible from internet (uhhhh, we don't know the total situation). Â  Those stay off production server ... no user conflcts ... no having to find and remove users long since gone. ;) 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2017, 4:49 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Course with Deleted Users",
          "Text": "Hi Ken, Thanks for the response but I'm not sure I understand. Â I've run a test on our moodle server and if I take a back up of a course then delete the student out of moodle then restore the course the student is not recreated and none of that student's data is accessible. Â Is this not typical behavior? Â For instance a quiz would say \"5 attempts\" but when you click to review the attempts you can't see information per student because the students are deleted. Are you suggesting I take a backup of the entire moodle database ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2017, 5:25 AM",
          "AuthorName": "Tyler Bogdan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1937249&course=5",
          "role": [
            "Picture of Tyler Bogdan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Course with Deleted Users",
          "Text": "Your first post said .. \" My problem is that when you restore a course that includes students but\nthe students are deleted you cannot see any of the information for the\nstudents in the restored course. Â We need to keep these backups in case a\nstudent contests their grade and we must review their work. \" Am basically suggesting why restore a course that has users long gone or that shouldn't be in or on the system any longer? Why not use a 'sandbox' site ... same version as production ... and restore those courses there? The students may have stayed on the system in other courses ... student assignments might still be in a hidden course ... as well as the students that were in that course.Â Â  So restoring a backup that had that student in the backup is also attempting to replace that students info with the account that's in the backup.Â Â  In the case of an Admin level user ... or manager level user ... Moodle might/should complain about the restore due to possible or direct conflicts with the roles of o those users. To really see what's going on with Moodle, one cannot rely on the Moodle Admin UI.Â Â  Users .... just for grins, check out your mdl_user table.Â Â  See any accounts ... username is now the users email address with .########### at end (numbers are an epoch time stamp of when the users account was changed).Â Â  How may rows are in mdl_user compared to what you see when you go off into browsing users via the Moodle Admin UI? 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2017, 6:23 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Course with Deleted Users",
          "Text": "I\"ve had the un-fortunate task (no pun intended) of trying to provide a Sheriff's department 'forensics' (ie, network and server access/records, etc.) for a student who murdered his parents.Â  That was upon request of the Technology Director of the ISD ... who actually made the request. And haven't been involved in one of the following ... but there is potential for it in some communities/ISD's ...Â  especially for students that are in competition to graduate with highest honors. Students and maybe Parents of student protest a grade ... and let's say for good measure they have legal representation + judge has granted technical reps hired by the lawyers a court order to the ISD allowing them to do their own investigation. Could it really come to that?Â Â Â  Uhhhh .... yes. I'd much rather have a sandbox server ... same version of Moodle as production, restore the course to that sandbox and then grant those technical reps full access to the sandbox. My 2 cents. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2017, 10:06 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Course with Deleted Users",
          "Text": "Hi Ken, I appreciate your take on the situation but I'm not sure a sandbox helps me... Â Perhaps I'm not explaining myself well enough. Â Consider this course of events: A student enrolls in our program, we create him a moodle account and he enrolls into an Accounting course from Jan 2017 to June 2017. At the end of June 2017 we take a full course backup of the course including the user data and retain it for our records. The student graduates at the end of June 2017 At the end of June I would theoretically d elete the student's user account from moodle, as a part of ongoing maintenance to maintain a clean user list. Six months go by and the student contests their final grade in a course. Â We still have a backup so we restore it to examine it (into production or sandbox, it doesn't matter). Â Because the user account no longer exists in moodle when we do the moodle restore the grades/ activities / blog posts etc. don't line up with an existing user and so they don't show up in the course for examination. From your previous posts it seems that you are suggesting that during the restore the user accounts contained in a backup are re-instated automatically, this has not been my experience. Â Emma's suggestion of restoring the user by updating the user database is perhaps a workable solution, as long as the users remain in the database indefinitely.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2017, 10:50 PM",
          "AuthorName": "Tyler Bogdan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1937249&course=5",
          "role": [
            "Picture of Tyler Bogdan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Course with Deleted Users",
          "Text": "The data is in the backup as long as you backed up with user data.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2017, 11:57 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Course with Deleted Users",
          "Text": "Is there a 'best practice' ... ever?Â Â  Don't think so ... too many factors.Â Â  I'll still contend that restoring a full backup of that course to a sandbox is a better way toÂ  go - but that's me ... based upon my experiences ... as shared before + things am learning about a k12 site that was in dire need of cleanup after 2 years of 0 Moodle admin - or 'if it's working, don't fix it'. :\\ Sure ... restoring a single user sounds best ... but what if the course ID has changed?Â Â  That does happen ... a course, for some reason, is going 'south' ... health check on the site points to this one course having issues with quizzes - which, if I'm not mistaken, is just part of the bigger question bank for the entire site.Â Â  Solution ... which really mask the problem ... backup course, restore course. You've not mentioned how you handle end of course ... do you do resets? or are you using the older process of no user backup, restore no user backup to another course, hide original course?Â Â  If resets, course ID has not changed.Â Â  If no user restores to new course, course may have same full name/short name, etc. but course ID is different. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 27, 2017, 2:28 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Course with Deleted Users",
          "Text": "If you need the data kept for the students, don't delete them. Â I think if you suspend them instead, you can still access their data. Â If you need to see the data for deleted students, go into the database and change the deleted field from 1 to 0, effectively undeleting them. Â Then reenroll them in the course and their grades should return.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2017, 7:01 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Course with Deleted Users",
          "Text": "Hi Emma, Un-deleting them by updating the database is a workable solution for me. Â Can I reliably count on all the student information staying in the 'user' table after they are deleted? Â Deleted users are never removed from this table?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2017, 9:18 PM",
          "AuthorName": "Tyler Bogdan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1937249&course=5",
          "role": [
            "Picture of Tyler Bogdan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Course with Deleted Users",
          "Text": "When I have had people delete students by mistake, this is what we have done to fix it and it has always worked. Â I don't know if there is any time limit (for example if you automatically delete logs etc after so much time, I do not know if that would include student info but I don't believe so).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 26, 2017, 9:59 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring Course with Deleted Users",
          "Text": "Hi Tyler, For what i know, lines are never really deleted from mdl_user (just marked as \"deleted\"). But logs are regularly purged from oldest information. What i do is that each year (you could do it twice a year), i make a complete backup of my whole Moodle (database, datadirectory and moodle files), that i archive somewhere in a secure way (for long time conservation). So, i'm always able to restore a whole Moodle, as it was some year ago if i need, and having all that existed at this time. And generally, i restore it on a special (backup) Moodle server, with cron disabled, and in maintenance mode, so that it doesn't evolve anymore, and only administrators can access it, but are able to do it quickly, if in need to verify something from last year. HTH , SÃ©verin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 30, 2017, 9:45 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 57987,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=57987",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Is block database tables backuped?",
          "Text": "I start to code simple, but useful block, thatÂ allows user to receive a digest of recent course changes. This is very useful for the student, participating in dynamically evolving courses. This block needs database table to save subscribers list. Will this table backuped and restored automatically, or I need write special code to do that (and where I need to write such code if applicable). Modules have backuplib/restorelib files, but what can do block?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 7, 2006, 9:57 PM",
          "AuthorName": "Oleg Sychev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=104931&course=5",
          "role": [
            "Picture of Oleg Sychev"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 41642,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=41642",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restore forum posts",
          "Text": "Hi all, I've tried just about everything I can think of, so I'm sure it is something minor that I've missed. That getting old thing, ha ha. I do a backup of the course, saying \"yes\" to everything. The course has multiple forums, assignments, etc.. When I do a restore, everything restores properly with the exception of the actual posts in the forums. If I look in the grades area, all grades exist for the forums. So, how do I restore with everything restored? Dave",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 14, 2006, 1:48 AM",
          "AuthorName": "Dave Bethany",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7962&course=5",
          "role": [
            "Picture of Dave Bethany"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 155939,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=155939",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Max upload limits",
          "Text": "Hi, Currently I have a max upload limit of 15MB. I am trying to restore a course I have. It has got to be my settings as I just successfully uploaded to Moodle commons. I noticed when I uploaded my course that it was set for 1 GB. Can anyone point me in the right direction?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 14, 2010, 11:41 AM",
          "AuthorName": "Rich Biel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=803749&course=5",
          "role": [
            "Picture of Rich Biel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Max upload limits",
          "Text": "I think I have it. I went back into my php.ini code within my server and increased the max upload to 1 GB it seems to be working. Cross your fingers.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 14, 2010, 12:54 PM",
          "AuthorName": "Rich Biel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=803749&course=5",
          "role": [
            "Picture of Rich Biel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Max upload limits",
          "Text": "I've done research on this a month ago, because I too was curious as to how to expand the upload limit, and I successfully found the answer. The steps are for LINUX users, ALTHOUGH, the file configuration can be done in WINDOWS, or MAC, or whichever computer you have, as long as you have the file with the appropriate contents. Since the directories are based on LINUX, you can go to your main moodle directory or WINDOWS/MAC/Whichever to locate the files (php.ini & .htaccess). Please feel free to question my answer below. To increase the file size limit you must go through 4 levels of modification. Server level Moodle site level Course level Activity level - (SERVER LEVEL) Go to /etc/php5/apache2/php.ini , php.ini is the site configuration file for Moodle. Open php.ini. Within that file, locate:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 16, 2010, 10:20 PM",
          "AuthorName": "Tim Allen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1195105&course=5",
          "role": [
            "Picture of Tim Allen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Max upload limits",
          "Text": "Hi Tim, Great information. I too have discovered the server, moodle, course file size limits after a lot of pain and aggravation. I have successfully restored courses to my own server at www.richardbiel.com/e-learning . Your information is far more concise and well written. Thanks so much!! Rich",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 17, 2010, 1:58 PM",
          "AuthorName": "Rich Biel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=803749&course=5",
          "role": [
            "Picture of Rich Biel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 213313,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=213313",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Course Backup fails 2.2.5 - Times out after 1 hour - session lock error result",
          "Text": "Hi I'm having trouble backing up 2 courses. all others working fine. When I do a backup it sits on the back up screen until I get the time out message below, I have to restart the server for it to work again. The 2 courses have about 40 activities in them all different types. Timed out while waiting for session lock. Wait for your current requests to finish and try again later. Stack trace: line 1327 of \\lib\\dml\\ sql srv_native_moodle_database.php: dml_sessionwait_exception thrown line 593 of \\lib\\sessionlib.php: call to sqlsrv_native_moodle_database->get_session_lock() line ? of unknownfile: call to database_session->handler_read() line 184 of \\lib\\sessionlib.php: call to session_start() line 473 of \\lib\\sessionlib.php: call to session_stub->__construct() line 60 of \\lib\\sessionlib.php: call to database_session->__construct() line 724 of \\lib\\setup.php: call to session_get_instance() line 418 of \\config.php: call to require_once() line 18 of \\backup\\backup.php: call to require_once() What are my options",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 8, 2012, 11:27 AM",
          "AuthorName": "Kyle Egan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1251009&course=5",
          "role": [
            "Picture of Kyle Egan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course Backup fails 2.2.5 - Times out after 1 hour - session lock error result",
          "Text": "I'm looking for an answer for this issue too. Upon 31 courses that I manage 28 was ok to back up, only 3 having issue. I use default backup option.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 19, 2012, 12:03 PM",
          "AuthorName": "Faizal R",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1424901&course=5",
          "role": [
            "Picture of Faizal R"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 162207,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=162207",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Restoring courses",
          "Text": "I have just migrated all our courses over to a new server , as the server was setup through a different company. I have restored each course manually, my problem at the moment is any hyperlinks to files are showing up as file not found even though the file is clearly visible. Any help will be gratefully received.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 13, 2010, 12:36 AM",
          "AuthorName": "ros bowstead",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=314463&course=5",
          "role": [
            "Picture of ros bowstead"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring courses",
          "Text": "Hello, Ros. If you are referring to hyperlinks in HTML pages, forum posts and the like, if the new server has a new domain name and/or subweb name (i.e \" www.bbb.com/moodle \" instead of \" www.aaa.com/virtualclassroom \") those links, that are hardcoded, point to the previous domain/subweb. You should used the script included in moodle (http:// pathToYourMoodle /admin/replace.php) to search \" www.aaa.com/virtualclassroom \" and replace it with \" www.bbb.com/moodle \" in the database . Hope this helps. Greetings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 15, 2010, 8:18 PM",
          "AuthorName": "Alejo Becerra Diaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=42303&course=5",
          "role": [
            "Picture of Alejo Becerra Diaz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring courses",
          "Text": "Alejo Thanks for this tip, I have been struggling with this on a few sites now and that simple functionality will make life much simple to replace hard coded links and image paths. Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 16, 2010, 7:28 AM",
          "AuthorName": "Richard Wallace",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1212465&course=5",
          "role": [
            "Picture of Richard Wallace"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring courses",
          "Text": "Glad to help. Of course, images not showing up is the first tip to remember that there is something else to do to make a proper migration. The procedure is explained in several places in the \"Moodle migration\" doc . Maybe you can find some other good advice in it. Greetings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 17, 2010, 11:42 PM",
          "AuthorName": "Alejo Becerra Diaz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=42303&course=5",
          "role": [
            "Picture of Alejo Becerra Diaz"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 182975,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=182975",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "backup and restore courses by category",
          "Text": "Urgent help needed!Â  I need to find a way to migrate a subset of our Moodle data to its own instance where it can then be rsync'd. Does anyone know how I can do a bulk backup and restore for a subset of courses by course category? I wonder if this can be done by using a specific my sql dump query involving category name?Â  My linux and mysql is limited so I don't even know if that is possible. We are running version 1.9.12 (lamp) THANKS IN ADVANCE",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 11, 2011, 2:51 AM",
          "AuthorName": "Susan Mangan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=118137&course=5",
          "role": [
            "Picture of Susan Mangan",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 10775,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=10775",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Are backups accessible to anyone?",
          "Text": "If course files are accessible to anyone, does that mean that automatic backups are too? If so, is it not a sort of security risk where one's entire course could be ripped off and reconstituted elsewhere?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 5, 2004, 5:58 PM",
          "AuthorName": "N Hansen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13946&course=5",
          "role": [
            "Picture of N Hansen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Are backups accessible to anyone?",
          "Text": "Course files are not accessible to anyone, you need to be a member of the course. If you specify a system path for your automatic backups that is not within the Moodle dataroot or dirroot then there is no way anyone can get to them from the web (even if they are Moodle admin).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 5, 2004, 6:11 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are backups accessible to anyone?",
          "Text": "If a Moodle admin configures automated backup with the default Save to: value, i.e., the backup files are stored in the course directory, then members of a course (including students) can access the backups. Perhaps either this should not be a default, or the automated backup configuration page should warn of the risks involved? A possible risk is that students could download a backup and view sensitive information about the course -- information they would normally not be authorized to view.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 13, 2004, 4:16 AM",
          "AuthorName": "Kingsley Kerce",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16979&course=5",
          "role": [
            "Picture of Kingsley Kerce"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are backups accessible to anyone?",
          "Text": "I think perhaps there should be no default whatsoever, and when configuring automatic backup or running a backup for the first time, the user is forced to enter a location, and is told the consequences of where they put the file. You can't have a default that would be outside the Moodle directory because for each installation the user might want it in a different place.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 13, 2004, 11:43 AM",
          "AuthorName": "N Hansen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13946&course=5",
          "role": [
            "Picture of N Hansen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are backups accessible to anyone?",
          "Text": "Hi N! One problem is there is no \" Help \" button on the backup page.Â  Therefore, directions are sparse.Â  I chose default because every other path I chose seem to be a problem.Â  Instructions are needed so Admins/Teachers would know how to backup into safe (protected) directories within or outside of the Moodle directory. [I think this would be safer??] If anyone knows how to have files backed-up into a secure directory would they please outline the procedure here.Â  It would be appreciated. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 14, 2004, 1:39 AM",
          "AuthorName": "W Page",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6650&course=5",
          "role": [
            "Picture of W Page"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Are backups accessible to anyone?",
          "Text": "Hi WP -- The procedure depends on a number of variables: the Moodle host operating system; who has access to the host filesystem; the\npermissions under which the backup process runs; which parts of the\nhost filesystem are served up by the host's web server software; etc. For instance, the following would work if: the Moodle host is Unix-based; you have access to a command shell on the host with root permission and no untrusted people do; the backup process (initiated by cron ) runs with root permission; the host's web server software is configured such that the following directory and its contents are not servable. [in a command shell on the host with root permission] # mkdir /moodle-backups # chown root.root /moodle-backups # chmod 700 /moodle-backups [then, as Moodle admin, set Save to: on the backup configuration page to /moodle-backups ] As you can see, ideally the Moodle admin should be -- or should be working together with -- an experienced system administrator of the host operating system.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 14, 2004, 3:20 AM",
          "AuthorName": "Kingsley Kerce",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16979&course=5",
          "role": [
            "Picture of Kingsley Kerce"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 31456,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=31456",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Re-start a course",
          "Text": "Suppose I ended up a course. Now, it's a new year and I want to re-start my course, with new studentes, of course. What would be the best procedure? MakeÂ a back up of the course without the students records and then restore the course? In this case, how do I deleteÂ a course? Or shoul I just delete the old students accounts? Please, advise. What happens the the contents of the forums, for instance? Moris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 27, 2005, 3:34 AM",
          "AuthorName": "Moris Polanco",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=79162&course=5",
          "role": [
            "Picture of Moris Polanco"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 385139,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=385139",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "backup-moodle2-activity Files?",
          "Text": "We recently updated to 3.6.3 and had sudden drop in free disk space.Â  Prior to the update all of the files in the autocoursebackups directory fit the format backup-moodle2-course-* now there seems to be a second, new category \"backup-moodle2-activity-*\" which has quickly gobbled up 35GB of disk space.Â  I didn't find anything in the release notes or in the community forums. What are they?Â  How do I stop them from filling up my hard drive? Natassia Stelmaszek University of Washington, USA Moodle 3.6.3 CentOS Linux release 7.6.1810 (Core)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 4:49 AM",
          "AuthorName": "Natassia Stelmaszek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2032745&course=5",
          "role": [
            "Picture of Natassia Stelmaszek"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: backup-moodle2-activity Files?",
          "Text": "In 3.6.x there is now a path for php-cli which probably isn't set.Â  Search Admin interface for path.Â  The path for php-cli suggestion you see in that config page is not an autodiscover ... it's a suggestion. CentOS 7 most likely is /usr/bin/php but double check from an ssh session into server with /usr/bin/php -v Output should have PHP version number (cli) on the first line. Then check the running of cron via command line: cd path/to/moodle/code/admin/cli php cron.php to see that something is hanging. Things check out then path to php-cli is /usr/bin/php Tis 'spring cleaning time' at your Uni?Â  Someone getting ahead of the time to cleanup? Â  Are resources in courses or courses in categories being removed? Recyclebin's for resources in courses and for courses in categories might have been the culprit in increase of disk usage.Â Â  File names you see are hints for checking for recyclebin links in courses and in categories. Query of DB something like: mysql > select component from mdl_files where component like '%recycle%'; There is also a new script for adhoc_task in moodlecode/admin/tool/task/cli/ called adhoc_task.php that you also might want to check. Soooooo ... ???? 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 6:52 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backup-moodle2-activity Files?",
          "Text": "Ken, I'm sorry but I don't see how this relates to my description of the problem. PHP 7.0.33 (cli) (built: AprÂ  2 2019 15:58:54) ( NTS ) Cron script completed correctly Cron completed at 07:37:10. Memory used 16.7MB. Execution took 0.058402 seconds I don't see a file named \"adhoc_task.php\" in the admin/cli directory.Â  PHP scripts and Cron have been running fine. Here is the tail-end of the output from:Â du ./backup-moodle2-activity* --summarize -hLc 33MÂ Â Â Â  ./backup-moodle2-activity-55-quiz55-20190412-0332.mbz 40KÂ Â Â Â  ./backup-moodle2-activity-55-quiz55-20190412-0740.mbz 39GÂ Â Â Â  tota l As you can see I now have 39G of these new type of files in my course backup directory.Â  I don't see how people deleting content would create these files.Â  I would expect that the action of deleting could change the size/content of the course backup .mbz files not create additional files.Â  What am I missing? Natassia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 11:02 PM",
          "AuthorName": "Natassia Stelmaszek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2032745&course=5",
          "role": [
            "Picture of Natassia Stelmaszek"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backup-moodle2-activity Files?",
          "Text": "Recyclebin? ... if a resource/activity (quiz) is deleted from a course, a backup of that resource/activity is made and stored in the sea of files moodledata/filedir/ https://docs.moodle.org/36/en/Recycle_bin Those recyclebin files are retained for 4 days.Â  Thus moodledata ballons a little. Also in task there are specific ones for clean up of recyclebin. \\tool_recyclebin\\task\\cleanup_category_bin \\tool_recyclebin\\task\\cleanup_course_bin which are part of cron but like other task are scheduled to run at certain times. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 12, 2019, 11:58 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backup-moodle2-activity Files?",
          "Text": "Ah, I see.Â  I don't think that I provided enough detail in my original post.Â  The problem is not filedir, the whole moodledata structure including filedir, trashdir, cache, etc., is in a different directory under /var/www and its size has not changed significantly. The directory where I am seeing the problem is /home/moodle/autocoursebackups which is the location that I specified under: Site administration > Courses > Backups > Automated backup setup, backup_auto_destination.Â  I have automated backups running four times per week so the directory is normally populated with files that are named in a manner similar to : \"backup-moodle2-course-12-japan134su16-20190331-0503-nu.mbz\". In the sixteen days since I updated fromÂ '3.6.1+ (Build:\n20181220)' to '3.6.3+ (Build: 20190322)' there have been new files added to the autocoursebackups directory that are named similarly to \"backup-moodle2-activity-261-261-20190409-0414.mbz\".Â  Could these be files that should have been saved in filedir or some other folder under moodledata but wound up here by mistake? Natassia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 13, 2019, 1:10 AM",
          "AuthorName": "Natassia Stelmaszek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2032745&course=5",
          "role": [
            "Picture of Natassia Stelmaszek"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backup-moodle2-activity Files?",
          "Text": "Ok, understood now!Â Â  That's really strange!Â Â  Autobackups take many settings from backup defaults for the site and we can see .nu. - no users - in those. But backup-moodle2-activity-261-261-20190409-0414.mbz - doesn't indicate nu in the file name plus it appears to indicate activity 261. Since that file is outside 'the sea', copy one to a test directory and uncompress it.Â Â  Look at the moodle_backup. xml file as well as other xml files for some clues - like the course id for the activity. Better yet, user that might have created it ...if present. Got any additional plugins? Indeed strange behavior ... at least to me.Â Â  Others welcome to chime in here! 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 13, 2019, 3:29 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backup-moodle2-activity Files?",
          "Text": "Resolved, more or less. I still don't know what caused it, I've been deleting old files to keep from filling up my hard drive. The problem appears to have gone away when I updated to Moodle 3.7",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 25, 2019, 2:23 AM",
          "AuthorName": "Natassia Stelmaszek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2032745&course=5",
          "role": [
            "Picture of Natassia Stelmaszek"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re: backup-moodle2-activity Files?",
          "Text": "Also having this problem -only appeared after upgrading to moodle 3.6.x? Looking at files.xml in one of the many, it appears to be in reference to a label (an active label - not recycled). Not sure why this isn't just included in the course backup in autobackup?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 19, 2019, 8:01 AM",
          "AuthorName": "Richard Schwarz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2054494&course=5",
          "role": [
            "Picture of Richard Schwarz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re: Re: backup-moodle2-activity Files?",
          "Text": "I'm still seeing this problem. The \"activity\" files seem to be associated with course administrators who are trying to re-use activities from one course in another course. In one case the system has created over twenty \"versions?\" of the same activity and all of them are backed up during the automatic course backup. I found a reference in backup.class.php but I still don't know why the backups are being created. /** * Abstract class defining common stuff to be used by the backup stuff * * This class defines various constants and methods that will be used * by different classes, all related with the backup process. Just provides * the top hierarchy of the backup controller/worker stuff. * * TODO: Finish phpdocs */ abstract class backup implements checksumable { // Backup type const TYPE_1ACTIVITY = 'activity'; const TYPE_1SECTION = 'section'; const TYPE_1COURSE = 'course'; I haven't found anything in the Site Administration menus that allows me to control the \"activity\" backup. Whatever routine is creating them is ignoring the Automated Backup Setup parameters because it keeps making backup copies of \" activities \" that haven't been altered. The references that I can find in the documentation indicate that \"activities\" can be backed up by the course admins but those should be kept in the user's private file area and not become part of the system automatic course backups. (Which is in a completely different directory) Meanwhile I have begun running a command to limit the amount of space eaten up by these files. find /home/moodle/autocoursebackups/ -ctime +21 -name \"*activity*\" -delete My gut feeling is that this problem is similar to the one that I found last year where backing up a course was treated as a change to the course so that they were perpetually included in the auto backups https://tracker.moodle.org/browse/MDL-61578 Another victim of the law of unintended consequences.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 20, 2019, 11:21 PM",
          "AuthorName": "Natassia Stelmaszek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2032745&course=5",
          "role": [
            "Picture of Natassia Stelmaszek"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re: Re: backup-moodle2-activity Files?",
          "Text": "Is this problem still actual for Moodle sites running with 3.5.x? We have the same problem with these backups that are created in our automated backup directory. Every day more than thousand files are created.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 6, 2019, 6:03 PM",
          "AuthorName": "Alain Raap",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2249010&course=5",
          "role": [
            "Picture of Alain Raap",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backup-moodle2-activity Files?",
          "Text": "I just found this tracker today that seems to explain the cause of all the backup activity files in the automated backup folder: https://tracker.moodle.org/browse/MDL-65218?attachmentViewMode=list",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 4, 2019, 4:22 PM",
          "AuthorName": "Alain Raap",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2249010&course=5",
          "role": [
            "Picture of Alain Raap",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 212866,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=212866",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Course back up fails with Publisher Test banks",
          "Text": "Has anyone used a Publisher Test Banks in their courses? I have some courses that will fail on back up where the test banks have been installed. I have turned off our automatic back ups. I have tried to do a manually and selecting the bare minimum of the back up settings. I have installed 30 Moodle Xml format test banks in one course, and it fails on manual back up. I have installed 1 Moodle xml format test bank in the course after deleting all the questions and test banks out of it. It will still fail, the file size of the test banks on average are around 10-12MB Any ideas or suggestions would greatly be appriciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 2, 2012, 9:39 PM",
          "AuthorName": "Ron Coller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1440889&course=5",
          "role": [
            "Picture of Ron Coller"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course back up fails with Publisher Test banks",
          "Text": "I am having that trouble when using question banks exported from ExamView to a Blackboard 7.1+ zip file then converted through Nash Community College Moodle XML builder program. Could the two be related?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 4, 2012, 3:36 AM",
          "AuthorName": "David Pugh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1468449&course=5",
          "role": [
            "Picture of David Pugh"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course back up fails with Publisher Test banks",
          "Text": "I am not sure how the publisher is converting their test banks, I get them in a MoodleXML format and I have tried to just do an quiz import, and it works fine. Unitl I try to back up the course. I have tried using Respondus as well and on the downloading of the Test bank it has media files attached ( download and import) What I find strange is the questions are text only for the most part, there are very few that haveÂ  images attached to them",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 8, 2012, 8:35 PM",
          "AuthorName": "Ron Coller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1440889&course=5",
          "role": [
            "Picture of Ron Coller"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 329086,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=329086",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Automated Backups, skipping courses clarification, end of term backups",
          "Text": "Currently testing Automated Backups in an attempt to backup courses at the end of each term for long term storage and legal requirements.Â  (ie 600 courses). There's 2 main settings that decide whether to skip a course or not (we are backing up non-hidden courses): 'Skip courses not modified since backup' -> my setting 'Never' ' Skip courses not modified since previous backup'. -> my setting 'unchecked' These settings appear to be redundant if I select 'Never' for the first setting? Or does one setting take priority over the other (if I select Never for the first setting and check the box for the next setting will unmodified courses be skipped or backed up?)? Do these 2 settings work together or are they independent? What is the difference between, '..since backup' and '..since previous backup'',Â  sounds like the same thing to me ? 'Include Logs' and 'Include Histories'Â  sound the same to me as well, what's the difference? Is there any benefitÂ to backup unmodified courses?Â I can't think of any reason to create a backupÂ and overwrite a backup if nothing has changed (or is their extra info potentially backed up, I don't want to miss anything?)? About half our courses are blank shells with only enrolled users, will they be skipped if the first setting is still 'Never' and checking the check box of the second setting? Are they considered never having been 'modified' if only students have been enrolled? The second setting 'Skip courses not modified since previous backup' has a note below that says 'Choose whether to skip courses that have not been modified since the last automatic backup. This requires logging to be enabled.'. Is that referring to logging in general or is there a log setting somewhere that is specific to courses and course backups? If the end of term backups work well, we are considering nightly or weekly backups (keep only 1 backups), in that case I believe the correct settings would be 'never' for the first setting, and checking the checkbox of the second setting? Thanks ==environment=== moodle 2.7, windows 2008, MySQL ,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 1, 2016, 10:53 PM",
          "AuthorName": "Paul Lindgreen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1673900&course=5",
          "role": [
            "Picture of Paul Lindgreen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 60998,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=60998",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "backup trying to backup twice both failing",
          "Text": "Hi all got a weird backup issue i have only set 1 cron job but i get an email twice saying the backup has failed of course main problem is backup failing but im thinking maybe its trying it twice each time hence failing on linux but backuping up to a mounted windows partition, another moodle has no issues backuping there thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 18, 2006, 5:36 PM",
          "AuthorName": "misterbusy .",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=61787&course=5",
          "role": [
            "Picture of misterbusy ."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 44896,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=44896",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Backup of 450 Mo course on a new platform - how to?",
          "Text": "Hello dear Moodlers, We are offeringÂ  a course about coral reefs to kids in the Caribbean - three islands actually. There is a paid version of this course - and I want to copy the exact same course from the existing (paid by Scuba divers) platform to the new (free) one with a different domain name. How do I do that? I have backed up the course on the existing platform, and have downloaded the zip file to my desktop (450 Mo! - lots of underwater videos). As the upload into MOODLE is restricted to 12 Mo, I was planning to upload via FTP directly into the new platform. Is that the right way of doing? Has someone done this before? Any precautions to observe and errors to avoid? Thank you very much, Stephan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 2, 2006, 8:47 PM",
          "AuthorName": "Stephan Becker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=37126&course=5",
          "role": [
            "Picture of Stephan Becker"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup of 450 Mo course on a new platform - how to?",
          "Text": "Is that the right way of doing? Has someone done this before? Any precautions to observe and errors to avoid? Yes, this is one of the right ways of doing it. Just make sure you set the right permissions on the uploaded file, so moodle can read and process it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 3, 2006, 9:42 PM",
          "AuthorName": "IÃ±aki Arenaza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=68632&course=5",
          "role": [
            "Picture of IÃ±aki Arenaza",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup of 450 Mo course on a new platform - how to?",
          "Text": "Thank you Inaki, I tried to do it yesterday - I have copied the zip file on the new MODDLE platform, but I cannot restore it from there to create a new course - I get the following error message (see below). You mentioned 'Just make sure you set the right permissions on the uploaded file, so moodle can read and process it' - but how do I do this? Thank you! Course restore: backup-barbados-cra_o-20060501-0830.zip Creating temporary structures Deleting old data Copying zip file Unzipping backup Checking for BlackBoard export Checking backup Error checking backup file. Invalid or corrupted. An error has ocurred",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 3, 2006, 10:30 PM",
          "AuthorName": "Stephan Becker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=37126&course=5",
          "role": [
            "Picture of Stephan Becker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup of 450 Mo course on a new platform - how to?",
          "Text": "If you can start the restoration process, then the permissions are already correctly set. It seems the backup file is somehow invalid. I'm afraid I can't help you with this, but I've seen you have posted this to the backup & restore forum, so I hope you get some help there. Saludos. IÃ±aki.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 4, 2006, 10:29 PM",
          "AuthorName": "IÃ±aki Arenaza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=68632&course=5",
          "role": [
            "Picture of IÃ±aki Arenaza",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup of 450 Mo course on a new platform - how to?",
          "Text": "Thank you very much, Inaki! Stephan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 4, 2006, 11:18 PM",
          "AuthorName": "Stephan Becker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=37126&course=5",
          "role": [
            "Picture of Stephan Becker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup of 450 Mo course on a new platform - how to?",
          "Text": "I have had this happen with some of our Blackboard courses.Â  Most of the time, exporting the course again solved my problem.Â  I had two times that it did not, and Windows XP's built-in compression couldn't even read the files.Â  I was able to use Power Archiver to unzip and rezip the courses, and then they worked. My thought was just that something happened during the download to corrupt the zip, and it didn't seem to be Moodle's import that had the problem. Thanks, Matt",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 12, 2006, 4:13 AM",
          "AuthorName": "Matt Campbell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=67965&course=5",
          "role": [
            "Picture of Matt Campbell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 87890,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=87890",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "at the end of restore, error:  Could not recode question id 1528 for state 55166",
          "Text": "I have created backups for each course on a moodle 1.7 server . I've setup a new 1.8 server and am now importing each course to the new server. At the end of each import I get the following error: Could not recode question id 1528 for state 55166 Sometimes the id number will change, but it's the same error each time. When I click \"continue\" the course has somewhat restored, but some info is missing in the headings and also if I click on an assigment, or any activity I get the error message: Course Module ID was incorrect This is happening on all courses. I've also tried on a fresh 1.7 install as well. Any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 11, 2008, 6:02 AM",
          "AuthorName": "jason goetting",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=72435&course=5",
          "role": [
            "Picture of jason goetting"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: at the end of restore, error:  Could not recode question id 1528 for state 55166",
          "Text": "Hi Jason, we experienced the same when backing up from a 1.6.5 and restoring to a 1.8.3. The only way to restore courses properly was not to include the user data for the quizzes . What I do not understand is that the \"faulty\" questions are not from this course! Even more: the categories of these questions were from complete independent other courses, and: the categories were not published. Why do we have dependencies to those? Any other ideas???",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 17, 2008, 6:49 PM",
          "AuthorName": "Marcus Hoberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36121&course=5",
          "role": [
            "Picture of Marcus Hoberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: at the end of restore, error:  Could not recode question id 1528 for state 55166",
          "Text": "This bug is reported in theÂ issue tracker ( MDL-5482 ) and seems to have a longer history (goes back to June 2006 in moodle 1.5.4). Anybody else facing this bug???",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 22, 2008, 7:44 PM",
          "AuthorName": "Marcus Hoberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36121&course=5",
          "role": [
            "Picture of Marcus Hoberg"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 90517,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=90517",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Creating metacourse infoXML error: Invalid character at line 3109",
          "Text": "I was trying to restore a course from one server to my local server on my laptop. I am preparing for major transfer. I backed up a course and I upload the zip file to a brand new site and tried to restore it. But I always get the following error message. \"Creating metacourse infoXML error: Invalid character at line 3109\" What am I doing wrong here? Can anyone help me please?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 16, 2008, 7:09 AM",
          "AuthorName": "Shin Okada",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=174898&course=5",
          "role": [
            "Picture of Shin Okada"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 165679,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=165679",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Scripting backups?",
          "Text": "Every semester, I get a torrent of course backup/restore requests. Several hundred. The process is exactly the same for all of them: Backup without any student data, the restore to an existing course deleting it first. I'm curious if anyone has had any luck scriptingÂ a process like this? Ideally, I'd just like to be able to upload a .csv file and have the server do everything in the background like we do course builds & enrollments, something like this backup,restore english101.01.fall10,english101.01.winter11 math201.01.winter11,math201.02.winter11 Am I crazy? Is this something outside of the realm of possibility?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 6, 2011, 4:30 AM",
          "AuthorName": "Mike Brinkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=305777&course=5",
          "role": [
            "Picture of Mike Brinkman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 97266,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=97266",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Course Backup",
          "Text": "I'm writing PHP page that takes in a course id and makes a backup of it, writing to where ever. This will be used on 1.8 but I'd like it to remain as compatible with future versions as possible. Keeping this in mind, which functions should I use and which should I try to avoid?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 16, 2008, 4:48 AM",
          "AuthorName": "Sojiro Sato",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=552009&course=5",
          "role": [
            "Picture of Sojiro Sato"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course Backup",
          "Text": "Rephrasing the question... I've copied parts of /backup/backup_execute.html into my script but the course backups are missing things. The functions used in backup_execute depend on a $preferences var which has various settings for what to backup. Where can I get a complete list of $preferences I can use?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 16, 2008, 11:33 PM",
          "AuthorName": "Sojiro Sato",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=552009&course=5",
          "role": [
            "Picture of Sojiro Sato"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 104394,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=104394",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Course Backup stops at sections",
          "Text": "I tried to run a course backup and it just hung after \" sections \" - no error messages. It's Moodle 1.9.2+ (Build: 20080813) The automated backups seem to be having the same problem - here's the log Any ideas anyone? Helen 03:00 AM:20 Start backup course XXXXXXXXXXXX 03:00 AM:20 Phase 1: Checking and counting: 03:00 AM:20 checking parameters 03:00 AM:20 calculating backup name 03:00 AM:20 calculating modules data 03:00 AM:20 assignment 03:00 AM:20 chat 03:00 AM:20 choice 03:00 AM:20 data 03:00 AM:20 forum 03:00 AM:20 glossary 03:00 AM:20 hotpot 03:00 AM:20 journal 03:00 AM:20 label 03:00 AM:20 lesson 03:00 AM:20 quiz 03:00 AM:20 resource 03:00 AM:20 scorm 03:00 AM:20 survey 03:00 AM:20 wiki 03:00 AM:20 workshop 03:00 AM:20 calculating users 03:00 AM:20 calculating logs 03:00 AM:20 calculating user files 03:00 AM:20 calculating course files 03:00 AM:20 calculating site files 03:00 AM:20 Phase 2: Executing and copying: 03:00 AM:20 checking temp structures 03:00 AM:20 cleaning current dir 03:00 AM:20 creating backup file 03:00 AM:20 general info 03:00 AM:21 metacourse info 03:00 AM:21 blocks info 03:00 AM:21 sections info",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 28, 2008, 3:10 PM",
          "AuthorName": "Helen Whitehead",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138606&course=5",
          "role": [
            "Picture of Helen Whitehead"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course Backup stops at sections",
          "Text": "Please can someone help? I have deleted my Moodle reinstalled - restored a backup from before the problem started and and it is STILL not backing up successfully.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 31, 2008, 6:05 PM",
          "AuthorName": "Helen Whitehead",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138606&course=5",
          "role": [
            "Picture of Helen Whitehead"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Backup stops at sections",
          "Text": "More information - a new course backs up fine UNTIL I add an image of any kind (even brand new uploaded from my server ) it which point the backup fails. This may be related to my other question on why images have disappeared? http://moodle.org/mod/forum/search.php?search=images+disappear&id=5 I have added other kinds of files (made a link to an HTM file) but that did not break the backup. So it's not that moodle can't see the moodledata directory or anything, both the htm file and the jpg are in the same place on the server. H",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 31, 2008, 8:54 PM",
          "AuthorName": "Helen Whitehead",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138606&course=5",
          "role": [
            "Picture of Helen Whitehead"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Backup stops at sections",
          "Text": "I have edited the Administration > Server > HTTP and \"Use slash arguments\" setting (now disabled) This means that the new course can function normally, but the previous courses still fail on backup. H",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 31, 2008, 9:10 PM",
          "AuthorName": "Helen Whitehead",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138606&course=5",
          "role": [
            "Picture of Helen Whitehead"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 452765,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=452765",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Error when deleting or backing up a course",
          "Text": "On Moodle 4.1.3, recently upgraded, there is one single course that doesn't complete backup anymore since I restored the entire site from the hosting backup a few days ago. This one course doesn't complete backups anymore and when I try to delete it, it also doesn't get deleted. I'll post below the logs from both actions tried (deleting it/backing it up). Hope someone can help. I can't really mess withÂ max_allowed_packet since I'm on shared hosting and don't have access to the cnf file. But since it was working before the site recovery,Â max_allowed_packet shouldn't be the problem. This is the log when trying to delete the course: Some HTML tags were opened in the body of the page but not closed. Open header/footer at: line 2656 of /lib/outputlib.php: call to xhtml_container_stack->log() line 1453 of /lib/outputrenderers.php: call to xhtml_container_stack->push() line 1979 of /lib/setuplib.php: call to core_renderer->header() line 65 of /course/delete.php: call to bootstrap_renderer->__call() Close header/footer at: line 2684 of /lib/outputlib.php: call to xhtml_container_stack->log() line 1515 of /lib/outputrenderers.php: call to xhtml_container_stack->pop() line 71 of /course/delete.php: call to core_renderer->footer() Open box at: line 2656 of /lib/outputlib.php: call to xhtml_container_stack->log() line 3298 of /lib/outputrenderers.php: call to xhtml_container_stack->push() line 3286 of /lib/outputrenderers.php: call to core_renderer->box_start() line 3036 of /lib/outputrenderers.php: call to core_renderer->box() line 389 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() Close box at: line 2684 of /lib/outputlib.php: call to xhtml_container_stack->log() line 3310 of /lib/outputrenderers.php: call to xhtml_container_stack->pop() line 3286 of /lib/outputrenderers.php: call to core_renderer->box_end() line 3036 of /lib/outputrenderers.php: call to core_renderer->box() line 389 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() line 2700 of /lib/outputlib.php: call to debugging() line 1586 of /lib/outputrenderers.php: call to xhtml_container_stack->pop_all_but_last() line 1513 of /lib/outputrenderers.php: call to core_renderer->container_end_all() line 3062 of /lib/outputrenderers.php: call to core_renderer->footer() line 389 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() There are no more open containers. This suggests there is a nesting problem. Open header/footer at: line 2656 of /lib/outputlib.php: call to xhtml_container_stack->log() line 1453 of /lib/outputrenderers.php: call to xhtml_container_stack->push() line 1979 of /lib/setuplib.php: call to core_renderer->header() line 65 of /course/delete.php: call to bootstrap_renderer->__call() Close header/footer at: line 2684 of /lib/outputlib.php: call to xhtml_container_stack->log() line 1515 of /lib/outputrenderers.php: call to xhtml_container_stack->pop() line 71 of /course/delete.php: call to core_renderer->footer() Open box at: line 2656 of /lib/outputlib.php: call to xhtml_container_stack->log() line 3298 of /lib/outputrenderers.php: call to xhtml_container_stack->push() line 3286 of /lib/outputrenderers.php: call to core_renderer->box_start() line 3036 of /lib/outputrenderers.php: call to core_renderer->box() line 389 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() Close box at: line 2684 of /lib/outputlib.php: call to xhtml_container_stack->log() line 3310 of /lib/outputrenderers.php: call to xhtml_container_stack->pop() line 3286 of /lib/outputrenderers.php: call to core_renderer->box_end() line 3036 of /lib/outputrenderers.php: call to core_renderer->box() line 389 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() line 2671 of /lib/outputlib.php: call to debugging() line 1515 of /lib/outputrenderers.php: call to xhtml_container_stack->pop() line 3062 of /lib/outputrenderers.php: call to core_renderer->footer() line 389 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() Deprecated: str_replace(): Passing null to parameter #3 ($subject) of type array|string is deprecated in /home/u929530127/domains/imagineingles.com/public_html/lms/lib/outputrenderers.php on line 1546 Error reading from database Debug info: MySQL server has gone away SELECT count(r.repositoryid) FROM piwp_files f LEFT JOIN piwp_files_reference r ON r.id = f.referencefileid JOIN piwp_backup_ids_temp bi ON f.id = bi.itemid WHERE bi.backupid = ? AND bi.itemname = 'filefinal' [array ( 0 => '38709d55e699b89a3620c534df2df661', )] Error code: dmlreadexception Stack trace: line 494 of /lib/dml/moodle_database.php: dml_read_exception thrown line 293 of /lib/dml/moodle_read_slave_trait.php: call to moodle_database->query_end() line 1398 of /lib/dml/my sql i_native_moodle_database.php: call to mysqli_native_moodle_database->query_end() line 1683 of /lib/dml/moodle_database.php: call to mysqli_native_moodle_database->get_records_sql() line 1756 of /lib/dml/moodle_database.php: call to moodle_database->get_record_sql() line 1967 of /lib/dml/moodle_database.php: call to moodle_database->get_field_sql() line 522 of /backup/util/dbops/backup_controller_dbops.class.php: call to moodle_database->count_records_sql() line 2282 of /backup/moodle2/backup_stepslib.php: call to backup_controller_dbops::backup_includes_file_references() line 34 of /backup/util/plan/backup_execution_step.class.php: call to backup_store_backup_file->define_execution() line 186 of /backup/util/plan/base_task.class.php: call to backup_execution_step->execute() line 191 of /backup/util/plan/base_plan.class.php: call to base_task->execute() line 145 of /backup/util/plan/backup_plan.class.php: call to base_plan->execute() line 567 of /backup/controller/backup_controller.class.php: call to backup_plan->execute() line 132 of /admin/tool/recyclebin/classes/category_bin.php: call to backup_controller->execute_plan() line 185 of /admin/tool/recyclebin/lib.php: call to tool_recyclebin\\category_bin->store_item() line 5137 of /lib/moodlelib.php: call to tool_recyclebin_pre_course_delete() line 78 of /course/delete.php: call to delete_course() Coding error detected, it must be fixed by a programmer: Invalid state passed to moodle_page::set_state. We are in state 3 and state 3 was requested. Debug info: Error code: codingerror Stack trace: line 1119 of /lib/pagelib.php: coding_exception thrown line 1557 of /lib/outputrenderers.php: call to moodle_page->set_state() line 3062 of /lib/outputrenderers.php: call to core_renderer->footer() line 389 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() This is the log when trying to backup the course: Debug info: MySQL server has gone away SELECT count(r.repositoryid) FROM piwp_files f LEFT JOIN piwp_files_reference r ON r.id = f.referencefileid JOIN piwp_backup_ids_temp bi ON f.id = bi.itemid WHERE bi.backupid = ? AND bi.itemname = 'filefinal' [array ( 0 => '8b16b997897dd1c32faa02ffaaa5a762', )] Error code: dmlreadexception Stack trace: line 494 of /lib/dml/moodle_database.php: dml_read_exception thrown line 293 of /lib/dml/moodle_read_slave_trait.php: call to moodle_database->query_end() line 1398 of /lib/dml/mysqli_native_moodle_database.php: call to mysqli_native_moodle_database->query_end() line 1683 of /lib/dml/moodle_database.php: call to mysqli_native_moodle_database->get_records_sql() line 1756 of /lib/dml/moodle_database.php: call to moodle_database->get_record_sql() line 1967 of /lib/dml/moodle_database.php: call to moodle_database->get_field_sql() line 522 of /backup/util/dbops/backup_controller_dbops.class.php: call to moodle_database->count_records_sql() line 2282 of /backup/moodle2/backup_stepslib.php: call to backup_controller_dbops::backup_includes_file_references() line 34 of /backup/util/plan/backup_execution_step.class.php: call to backup_store_backup_file->define_execution() line 186 of /backup/util/plan/base_task.class.php: call to backup_execution_step->execute() line 191 of /backup/util/plan/base_plan.class.php: call to base_task->execute() line 145 of /backup/util/plan/backup_plan.class.php: call to base_plan->execute() line 567 of /backup/controller/backup_controller.class.php: call to backup_plan->execute() line 136 of /backup/util/ui/backup_ui.class.php: call to backup_controller->execute_plan() line 176 of /backup/backup.php: call to backup_ui->execute()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 20, 2023, 7:38 PM",
          "AuthorName": "Daniel Silva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5672803&course=5",
          "role": [
            "Picture of Daniel Silva"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error when deleting or backing up a course",
          "Text": "x-powered-by: PHP/8.2.5 Error reading from database Debug info: MySQL server has gone away Can you set max_allowed_packets higher ... to minimum of 5000? Must have Moodle 4.2.3 to run PHP 8.2 See footnote 7 of: http://www.syndrega.ch/blog/#php-and-dbms-compatibility-of-major-moodle-releases 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 20, 2023, 11:36 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error when deleting or backing up a course",
          "Text": "Hi, I have a similar problem when I try to delete a course. This is my log: Some HTML tags were opened in the body of the page but not closed. Open header/footer at: line 2656 of /lib/outputlib.php: call to xhtml_container_stack->log() line 1453 of /lib/outputrenderers.php: call to xhtml_container_stack->push() line 1979 of /lib/setuplib.php: call to core_renderer->header() line 65 of /course/delete.php: call to bootstrap_renderer->__call() Close header/footer at: line 2684 of /lib/outputlib.php: call to xhtml_container_stack->log() line 1515 of /lib/outputrenderers.php: call to xhtml_container_stack->pop() line 71 of /course/delete.php: call to core_renderer->footer() Open box at: line 2656 of /lib/outputlib.php: call to xhtml_container_stack->log() line 3298 of /lib/outputrenderers.php: call to xhtml_container_stack->push() line 3286 of /lib/outputrenderers.php: call to core_renderer->box_start() line 3036 of /lib/outputrenderers.php: call to core_renderer->box() line 390 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() Close box at: line 2684 of /lib/outputlib.php: call to xhtml_container_stack->log() line 3310 of /lib/outputrenderers.php: call to xhtml_container_stack->pop() line 3286 of /lib/outputrenderers.php: call to core_renderer->box_end() line 3036 of /lib/outputrenderers.php: call to core_renderer->box() line 390 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() line 2701 of /lib/outputlib.php: call to debugging() line 1586 of /lib/outputrenderers.php: call to xhtml_container_stack->pop_all_but_last() line 1513 of /lib/outputrenderers.php: call to core_renderer->container_end_all() line 3062 of /lib/outputrenderers.php: call to core_renderer->footer() line 390 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() There are no more open containers. This suggests there is a nesting problem. Open header/footer at: line 2656 of /lib/outputlib.php: call to xhtml_container_stack->log() line 1453 of /lib/outputrenderers.php: call to xhtml_container_stack->push() line 1979 of /lib/setuplib.php: call to core_renderer->header() line 65 of /course/delete.php: call to bootstrap_renderer->__call() Close header/footer at: line 2684 of /lib/outputlib.php: call to xhtml_container_stack->log() line 1515 of /lib/outputrenderers.php: call to xhtml_container_stack->pop() line 71 of /course/delete.php: call to core_renderer->footer() Open box at: line 2656 of /lib/outputlib.php: call to xhtml_container_stack->log() line 3298 of /lib/outputrenderers.php: call to xhtml_container_stack->push() line 3286 of /lib/outputrenderers.php: call to core_renderer->box_start() line 3036 of /lib/outputrenderers.php: call to core_renderer->box() line 390 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() Close box at: line 2684 of /lib/outputlib.php: call to xhtml_container_stack->log() line 3310 of /lib/outputrenderers.php: call to xhtml_container_stack->pop() line 3286 of /lib/outputrenderers.php: call to core_renderer->box_end() line 3036 of /lib/outputrenderers.php: call to core_renderer->box() line 390 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() line 2672 of /lib/outputlib.php: call to debugging() line 1515 of /lib/outputrenderers.php: call to xhtml_container_stack->pop() line 3062 of /lib/outputrenderers.php: call to core_renderer->footer() line 390 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() Table \"xapi_states\" does not exist Debug info: Error code: ddltablenotexist Stack trace: line 673 of /lib/dml/moodle_database.php: dml_exception thrown line 1353 of /lib/dml/moodle_database.php: call to moodle_database->where_clause() line 53 of /backup/util/dbops/backup_structure_dbops.class.php: call to moodle_database->get_recordset() line 370 of /backup/util/structure/backup_nested_element.class.php: call to backup_structure_dbops::get_iterator() line 88 of /backup/util/structure/backup_nested_element.class.php: call to backup_nested_element->get_iterator() line 118 of /backup/util/structure/backup_nested_element.class.php: call to backup_nested_element->process() line 104 of /backup/util/plan/backup_structure_step.class.php: call to backup_nested_element->process() line 186 of /backup/util/plan/base_task.class.php: call to backup_structure_step->execute() line 227 of /backup/moodle2/backup_activity_task.class.php: call to base_task->execute() line 191 of /backup/util/plan/base_plan.class.php: call to backup_activity_task->execute() line 145 of /backup/util/plan/backup_plan.class.php: call to base_plan->execute() line 567 of /backup/controller/backup_controller.class.php: call to backup_plan->execute() line 132 of /admin/tool/recyclebin/classes/category_bin.php: call to backup_controller->execute_plan() line 185 of /admin/tool/recyclebin/lib.php: call to tool_recyclebin\\category_bin->store_item() line 5136 of /lib/moodlelib.php: call to tool_recyclebin_pre_course_delete() line 78 of /course/delete.php: call to delete_course() Coding error detected, it must be fixed by a programmer: Invalid state passed to moodle_page::set_state. We are in state 3 and state 3 was requested. Debug info: Error code: codingerror Stack trace: line 1119 of /lib/pagelib.php: coding_exception thrown line 1557 of /lib/outputrenderers.php: call to moodle_page->set_state() line 3062 of /lib/outputrenderers.php: call to core_renderer->footer() line 390 of /lib/setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() I have Moodle 4.3.3 in aÂ Rocky Linux 9.2 PHP:8.0.30 databaseÂ recently migrated to MariaDB 10.11.5 Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 15, 2024, 4:53 PM",
          "AuthorName": "Web Hercules",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2527103&course=5",
          "role": [
            "Picture of Web Hercules"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error when deleting or backing up a course",
          "Text": "Finally I solved the problem. For some reason table xapi_states had disappeared. I imported the table from other database.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 16, 2024, 8:23 PM",
          "AuthorName": "Web Hercules",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2527103&course=5",
          "role": [
            "Picture of Web Hercules"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error when deleting or backing up a course",
          "Text": "I am having the same problem where none of my scheduled tasks are running, oddly this started April 1st and I don't remember performing any activity on the server on that day. I am getting the following error \"Deprecated: str_replace(): Passing null to parameter #3 ($subject) of type array|string is deprecated in /var/www/moodle-qa.bavirtual.co.uk/lib/outputrenderers.php on line 1546\". I am running php 8.1.3, the latest moodle 4.3.3, and mariadb v10.11.5 on ubuntu 18.04. mysql >SHOW VARIABLES LIKE 'max_allowed_packet'; returns 16777216. Before April 1st everything was running as normal with this configuration and my xapi_states table is there (empty). Any help would be greatly appreciated... Best, Mustafa",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 19, 2024, 9:17 PM",
          "AuthorName": "Mustafa Hajjar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4314663&course=5",
          "role": [
            "Picture of Mustafa Hajjar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 100574,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=100574",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "backup procedure stops 1.9.1+",
          "Text": "Hello, I'm using Moodle 1.9.1+ 20080521 impossible to backup the frontpage , here's the report 07:03 AM:14 Start backup course E-learning Ecole IntÃ©grÃ©e 07:03 AM:14 Phase 1: Checking and counting: 07:03 AM:14 checking parameters 07:03 AM:16 calculating backup name 07:03 AM:16 calculating modules data 07:03 AM:16 assignment 07:03 AM:16 chat 07:03 AM:16 choice 07:03 AM:16 data 07:03 AM:16 forum 07:03 AM:16 glossary 07:03 AM:16 hotpot 07:03 AM:17 journal 07:03 AM:17 label 07:03 AM:17 lesson 07:03 AM:17 quiz 07:03 AM:17 resource 07:03 AM:17 scorm 07:03 AM:17 survey 07:03 AM:17 wiki 07:03 AM:17 workshop 07:03 AM:17 book 07:03 AM:17 calculating users 07:03 AM:18 calculating user files 07:03 AM:18 calculating course files 07:03 AM:18 calculating site files 07:03 AM:18 Phase 2: Executing and copying: 07:03 AM:18 checking temp structures 07:03 AM:18 cleaning current dir 07:03 AM:18 creating backup file 07:03 AM:18 general info 07:03 AM:22 blocks info 07:03 AM:23 sections info 07:03 AM:23 user info 07:03 AM:25 blogs 07:03 AM:25 scales 07:03 AM:25 groups 07:03 AM:25 groupings 07:03 AM:25 groupings_groups 07:03 AM:25 events 07:03 AM:25 gradebook 07:03 AM:25 modules 07:03 AM:25 forum 07:03 AM:25 glossary 07:03 AM:26 label No problem wilth the other courses. Can someone help me ? Jean-Claude",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 3, 2008, 2:37 PM",
          "AuthorName": "Jean-Claude HENNAUX",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=147964&course=5",
          "role": [
            "Picture of Jean-Claude HENNAUX"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 213807,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=213807",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Moodle Restore fails with \"Trying to restore user xxx from backup file will cause conflict\"",
          "Text": "I am planning an upgrade of our Moodle 2.13 (running on Xampp+Windows). So I did a fresh 2.1.3 install (Xampp+Windows) on another box. I was able to restore the entire site, along with users into this installation fromÂ  a production site backup few weeks ago. I deleted a course (Course A) in test installation. Now I want to restore this course and hence I made a backup of Course A from the production server , including user data.Â  Now, when I try to restore this course as a new course in the test installation it givesÂ  me errors, \"Trying to restore user xxx from backup file will cause conflict\" for all users enrolled in that course. I checked users. xml file in the backupÂ  for any descrepencies in email addresses (I did check only 3-4 records, for which users the above error message appeared). The email addresses are indentical.Â Â  This is driving meÂ  nuts as I need to get this sorted as soon as possible. Any help would be greatly appreciated. Thanks and Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 15, 2012, 4:07 PM",
          "AuthorName": "Lakshman Liyanage",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1302734&course=5",
          "role": [
            "Picture of Lakshman Liyanage"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle Restore fails with \"Trying to restore user xxx from backup file will cause conflict\"",
          "Text": "I've seen this when I was doing a similar thing on my test & development sites. Â The conflict was only on my admin account at the time so I had to change the users.xml file so the username was different. I then removed the duplicate account later, note that I was happy to do this because it was all test & development sites not a production one! I believe the issue is because the usernames already exist on the restore-to site. Â Do you need the user data? Â If not, I would uncheck the user data and restore the course activities without it.Â Otherwise you could delete the users on the new test site and try the restore again - it sounds like this is a test installation? Cheers Teresa",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 21, 2012, 10:55 AM",
          "AuthorName": "Teresa Gibbison",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22575&course=5",
          "role": [
            "Picture of Teresa Gibbison"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Restore fails with \"Trying to restore user xxx from backup file will cause conflict\"",
          "Text": "Hi Teresa, Thank you very much for your reply. I am a bit confused now-- I though the user details has to match, meaning there has to be identical user details in the siteÂ as well as the backup you are trying toÂ restore, NOT thatÂ user details have to be different, so thereÂ  are no \"duplicate\" accounts.Â  IfÂ earlier is the case, then, IMHO this is crazy!Â  One would never be able to restore a Â course on a production site, if the course gets deleted accidentally.Â Â  Users are shared between courses,Â  hence you cannot delete user accounts from the production site to restore the backup - Surely you will want to restore the course with all user data, if the course was accidentally deleted in a middle of a semester? So rephrasing my original question, how do you restoreÂ back a deleted course onto a production site with user data? Thanks and Kind Regards Lakshman",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 21, 2012, 1:27 PM",
          "AuthorName": "Lakshman Liyanage",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1302734&course=5",
          "role": [
            "Picture of Lakshman Liyanage"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle Restore fails with \"Trying to restore user xxx from backup file will cause conflict\"",
          "Text": "I'm sorry to confuse you - I haven't done this for some time and as mentioned I was restoring from a separate development site and receiving a conflict with my Admin account.\n\nTake a look at the restore file for details about the site the backup is coming from. My recollection is that if that is different Moodle will 'conflict'. I haven't had issues restoring into the same site but you're suggesting you're doing it from a separate one?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 22, 2012, 10:07 AM",
          "AuthorName": "Teresa Gibbison",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22575&course=5",
          "role": [
            "Picture of Teresa Gibbison"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 36969,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=36969",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "complete backup (is that all?)",
          "Text": "Hi everyone and apologies if this has been discussed before, but I haven't been able to find it in recent posts. I've read all the info I've found on complete sites backup, and so far I understand that the 3 parts you must backup are: - moodle folder (to save languages, themes...) - moodledata folder (to save all uploaded files) - database : you export the db to a single *. sql file (with all the users' information) You download everything and store for example in a CD. My question is: am I forgetting something important to restore a whole site if necessary? Is a folder, a file or whatever not included above and should be? Thank you very much in advance. Bye",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 2, 2006, 6:17 PM",
          "AuthorName": "Luis PÃ©rez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100239&course=5",
          "role": [
            "Picture of Luis PÃ©rez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: complete backup (is that all?)",
          "Text": "This is it, as far as I know. Saludos. IÃ±aki.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 2, 2006, 9:13 PM",
          "AuthorName": "IÃ±aki Arenaza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=68632&course=5",
          "role": [
            "Picture of IÃ±aki Arenaza",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: complete backup (is that all?)",
          "Text": "Thanks a lot, IÃ±aki!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2006, 3:56 PM",
          "AuthorName": "Luis PÃ©rez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100239&course=5",
          "role": [
            "Picture of Luis PÃ©rez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 214264,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=214264",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "trying to restore user 'admin' from backup file will cause conflict",
          "Text": "friends,\nInitially I had installed moodle 2.2.2 in one pc and taken backup for all the courses.\nAfter wards I installed moodle 2.3.1 in another pc. when I restore course backup files I got following error message\ntrying to restore user 'admin' from backup file will cause conflict\n\nI thought it may be version difference and I reinstalled actual moodle 2.2.2.\nEven after installing same moodle 2.2.2 when I got same error message.\nCan any one please tell solution for my problem.\nMy thanks in advance.\nregards,\nM.Murugan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 20, 2012, 6:52 PM",
          "AuthorName": "murugan m",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=662828&course=5",
          "role": [
            "Picture of murugan m"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: trying to restore user 'admin' from backup file will cause conflict",
          "Text": "Please see the Backup and restore FAQ for possible solutions to the error message.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 21, 2012, 11:30 AM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 130335,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=130335",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "due dates on assignments",
          "Text": "In my old version of Moodle, when I would backup then restore the class to use in another semester, I could change the start date of the new course and the assignment due dates would automatically update too.Â  I cannot get the current version to do that.Â  Any suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 14, 2009, 11:03 PM",
          "AuthorName": "Dr. Connie Waters",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7176&course=5",
          "role": [
            "Picture of Dr. Connie Waters"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: due dates on assignments",
          "Text": "Same problem here! Help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 20, 2009, 1:31 AM",
          "AuthorName": "Melinda Kraft",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=10272&course=5",
          "role": [
            "Picture of Melinda Kraft"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 47119,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=47119",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "All backups fail at \"Checking Parameters\"",
          "Text": "All my course backups are failing with the following message, the backup process seems to be going through each course OK, but they all have the identical problem. Have looked through the list, but ahve seen nothing similar. Sunday, 9 April 2006, 02:10 AM 02:10 AM:03 Start backup course Year 7 Technology Mandatory 02:10 AM:03 Phase 1: Checking and counting: 02:10 AM:03 checking parameters",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 5, 2006, 6:26 AM",
          "AuthorName": "Simon Bryan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7202&course=5",
          "role": [
            "Picture of Simon Bryan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 169006,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=169006",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Course backup hangs and makes CPU Spike",
          "Text": "Hi All, I am seeking some suggestions as we have recently started experiencing some issues when executing a course backup.Â  The job will cause a long-running mysql connection and the Apache process will consume the CPU indefinitely.Â  The backup file is never created in any form (unless I am looking in the wrong place / for the wrong partial nameÂ for some temp files prior to zipping). When this occurs, I have cycled the Apache process to free the CPU.Â  ThatÂ also appears to clear the my sql connection.Â  What we are finding (unless coincidental since it has only happened twice)Â is that hours later Apache gets locked out of mysql because of too many failed connections.Â  Other than the failures in the Apache logs I cannot find any details onÂ the failed mysql connections themselves. We are running Moodle 1.9 on RedHat with MySQL 5.1.Â  And we are also running two separate Moodle instances on separate instances of Apache.Â  Any input on the following would be helpful: -Is there some config / particular logs to check (or increased logging level without getting buried with excess)?Â The mysql logs are not showing me anything. -Should something else also be done when cycling the Apache process to clear the hang?Â  Are those jobs perhaps still queued and sucked into cron at a later time possible invoking the secondary issue? -Is there something more than just SHOW FULL PROCESSLIST that can monitor the connections, connection history, current number of failed connections, etc? Thank you for the help, Kyle",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 17, 2011, 1:34 AM",
          "AuthorName": "Kyle Hill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1230078&course=5",
          "role": [
            "Picture of Kyle Hill"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course backup hangs and makes CPU Spike",
          "Text": "So the mysql aborted connections appears toÂ haveÂ been an issue introduced separately via improper host aliasing.Â  Ensuring log_warnings was on; and using show status, flush status, etc helped there.Â Â We also now haveÂ monitoring alerts set on some of the status variables. But the failing courseÂ backup issue still remains.Â  We did not have nightly course backups on so I turned them on to see if those logs might help shed some light.Â  They all show Unfinished or Error for statusÂ and they stop at a similar point: ... ï»¿Phase 2: Executing and copying: checking temp structures cleaning current dir creating backup file general info And that's where the log ends.Â  I do not see anything in Messages, Cron 's log (other than the job kicking off). I am going to start digging into code but I figured I would reach out to the forum since I am not already familiarized.Â  Other than redirecting the Cron job's standard and error output does anyone have any other suggestions?Â  ï»¿Any debug tricks for stepping through this? Thank You, Kyle",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 14, 2011, 11:19 PM",
          "AuthorName": "Kyle Hill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1230078&course=5",
          "role": [
            "Picture of Kyle Hill"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 220668,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=220668",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "problems in restoring 1.96 to 2.14",
          "Text": "I was advised to restore prior to 2.14 and then to 2.3 I installed moodle 2.14 and restored a course . 1. All activities were transferred Â but to the Weekly outline and not into weeks. 2. urlÂ activity Â does not work: By clicking on the link that is what I received ... 404 Not Found The server can not find the requested page: 50.63.144.56/~irit/moodle1/mod/url/%20%20%20 http://fbf-classroom.com/Classroom/Authanticated/fbfPlayer.aspx?Key=B123B123 (port 80) Please forward this error screen to 50.63.144.56's WebMaster . Apache /2.2.23 (Unix) mod_ssl/2.2.23 OpenSSL/1.0.0-fips mod_auth_passthrough/2.1 mod_bwlimited/1.4 FrontPage/5.0.2.2635 Server at 50.63.144.56 Port 80 3. In the assignment activity: No links have been created without the address line of blankets click on it to go to link 4. i turned on the debugger this what i get: above the page Warning : Creating default object from empty value in /home/irit/public_html/moodle1/blocks/navigation/block_navigation.php on line 198 Warning : Creating default object from empty value in /home/irit/public_html/moodle1/blocks/settings/block_settings.php on line 13 underÂ Weekly outline Warning : Creating default object from empty value in /home/irit/public_html/moodle1/course/lib.php on line 3057",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 27, 2013, 2:43 AM",
          "AuthorName": "Irith Herman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=444161&course=5",
          "role": [
            "Picture of Irith Herman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 154489,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=154489",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Problems with an paralell backup, the themes are not visible",
          "Text": "Good afternoon to all. I'll try to explain myself the best that I can in english. We have an instalation of a Moodle instance (1.9.8) and we're making a backup in the same server in alternative paths (and then in another server also) /var/www/moodle = /var/www/moodlebackup /var/moodledata = /var/moodledatabackup and also a backup of the database . Named moodlebackup We make the copy with a rsync that executes as a cron task every night. Till then all is ok... if I go into the moodle instance, make a change and then execute the script that sincronyzes all... the moodlebackup instance has this change also.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 21, 2010, 10:06 PM",
          "AuthorName": "Koro Gabiola Colina",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=874661&course=5",
          "role": [
            "Picture of Koro Gabiola Colina"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 35290,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=35290",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Archiving uploaded documents",
          "Text": "I will be installing moodle soon on a new account and I'm concerned about how quickly the uploaded documents will eat up the alotted disk space on our hosting account. What I would like to do is keep the discussion / classroom threads permanently online for archival purposes even after the class has ended so students can log in and check their previous work if they like. I also want to keep a permanent record of all the word docs that have been uploaded, but keep that record on an offline server (with no disk space contrainsts). So ideally three months after the class has ended all the uploaded docs will be removed from the online server and transferred to the offline server. How would I go about doing this? Will this break the links that are on the classroom boards or is there a built in feature to do this? (If the student tries to access an archived word doc I will create a custom error page that notifies them that their file has been archived and that they should contact the admin to obtain a copy). Hopefully this all makes sense. I appreciate any help you can offer, this is a very important issue for us. Thank you! Nurhan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 29, 2005, 3:43 PM",
          "AuthorName": "Nurhan Thompson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=95302&course=5",
          "role": [
            "Picture of Nurhan Thompson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 93240,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=93240",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How can I more forum posts from one site to another",
          "Text": "I can use BACKUP and RESTORE to move the forums but the posts do not appear to transfer. Thanks in advance for any assistance, Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 24, 2008, 2:21 PM",
          "AuthorName": "Peter Evans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=286321&course=5",
          "role": [
            "Picture of Peter Evans"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 232845,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232845",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Archival course backups no longer valid after 2.0 migration",
          "Text": "After having spent hours pouring over the posts in the Backup and Restore forum I am finally resigned to the fact that all of those end of course backup files we have stored as archives from the last four years on our version 1.9 Moodle site are now not worth the storage they consume since we have migrated to a 2.0 version. Â Before I purge the archives of all 1.9 backups can anyone refute my assumption that they can no longer be used as course archives (i.e. as a record of the goings on in the course- grades, submissions, email, messages, quizzes, etc.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 19, 2013, 9:40 PM",
          "AuthorName": "Donnie Collins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=699145&course=5",
          "role": [
            "Picture of Donnie Collins"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Archival course backups no longer valid after 2.0 migration",
          "Text": "I've had few problems with restoring 1.9 course backups into moodle version 2.3 or 2.4. No, you cannot bring over course enrollments or grades but then why would you want to do that anyway? I maintain a running 1.9 that faculty can access at a different URL so that they can check old grades etc. In fact, I've had fewer problems with the version 2 backup/restore than before -- it's amazingly flexible, predictable and rock solid. For example, someone accidently deleted an assignment from a course; I was able to backup just that assignment from a different moodle 2 system and restore it with disturbing anything else. Brilliant!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 19, 2013, 10:30 PM",
          "AuthorName": "Mark Pearson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9068&course=5",
          "role": [
            "Picture of Mark Pearson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Archival course backups no longer valid after 2.0 migration",
          "Text": "Hi Donnie, Another reason for keeping your backup files is that if for any reason you need to access the user data, you can always install Moodle 1.9 on a computer, restore the necessary course(s), then upgrade the site to Moodle 2.2. You will then be able to backup and restore the course(s) complete with user data to your live site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 19, 2013, 11:15 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Archival course backups no longer valid after 2.0 migration",
          "Text": "Wouldn't that depend upon your situation?Â  As a former employee of an Education Service Center (an ESC) in Texas, which acquired ISO Certification, document/records retention policy (for 'legal'/other reasons) was 5 years. If taking one's content from a 1.9 and migrating to a 2.x, yes, limited restore.Â  One might only really interested in the content/ activities /structure in/of a course so one doesn't have to 'start over' or re-invent the wheel not the students work/grades, etc.. If one were under guidelines such as mentioned, not only would one need to keep the 1.9.x backups, but also acquire an archive of the 1.9.x Moodle code/site and have the ability to restore should a serious legal question arise. Before dumping all those 1.9 backups, check with your entities records/retention requirements/policy.Â  Better safe than sorry! ;) 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 19, 2013, 10:54 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Archival course backups no longer valid after 2.0 migration",
          "Text": "Good point Ken. In an educational context as a Moodle admin I'm feeling that one should always have an archival copy of older moodle codebase + database + data in order to remake the system should the need arise.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 23, 2013, 10:01 PM",
          "AuthorName": "Mark Pearson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9068&course=5",
          "role": [
            "Picture of Mark Pearson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 66665,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=66665",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Problem with headlines of topics when importing a course",
          "Text": "Hello When we areÂ inÂ course \"X\"Â and we want toÂ import to it course \"Y\"Â - we do succeed butÂ we can't see the topics headlinesÂ of that course which we imported - theÂ \"Y\" one. (the place where IÂ can edit summary) These topics headlinesÂ Â Â are displayed in course \"\"Y\" properly but afterÂ importing it to course \"X\" they disappeared and the rest of the material is displayed well. Is there a way to import a course without having this problem? thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 12, 2007, 5:24 PM",
          "AuthorName": "Miki Alliel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=72173&course=5",
          "role": [
            "Picture of Miki Alliel",
            "Picture of Translators"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problem with headlines of topics when importing a course",
          "Text": "We are having the same issues with backups and restores as well as with imports. It seems to only be the information in the summary section of a course. Have you obtained a resolution to this problem yet?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 8, 2008, 7:43 AM",
          "AuthorName": "Van Howell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=276275&course=5",
          "role": [
            "Picture of Van Howell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 153026,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=153026",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "maintenance mode for moodle with shell script",
          "Text": "Hi, I want to put my moodle 1.8.x by using a shell script, into the maintenance mode. Can anyone give me a hint? Best Regards, Heinz",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 28, 2010, 2:21 PM",
          "AuthorName": "heinz krischeu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1161306&course=5",
          "role": [
            "Picture of heinz krischeu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: maintenance mode for moodle with shell script",
          "Text": "Could anyone give me a hint?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 29, 2010, 2:24 PM",
          "AuthorName": "heinz krischeu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1161306&course=5",
          "role": [
            "Picture of heinz krischeu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: maintenance mode for moodle with shell script",
          "Text": "Hi Heinz When you enable Maintenance Mode an html file called 'maintenance.html' is added to the site files, .../moodledata/1/ maintenance.html When you disable MMode the file is removed. I wanted to keep a message handy for next time so created a \"maintenance.html\" file in the site files area to reference another time...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 6, 2010, 10:04 AM",
          "AuthorName": "Teresa Gibbison",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22575&course=5",
          "role": [
            "Picture of Teresa Gibbison"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: maintenance mode for moodle with shell script",
          "Text": "Hi Teresa, thank you for your answer. Indeed this was very helpful. Some german beer are waiting in germany. Best regards, Heinz",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 6, 2010, 1:49 PM",
          "AuthorName": "heinz krischeu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1161306&course=5",
          "role": [
            "Picture of heinz krischeu"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 116799,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=116799",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Problema con el tamaÃ±o del archivo a restaurar",
          "Text": "Hola como estan Estoy migrando mis plataforma tengos \"x\" cantidad de cursos para restaurar (pase de moodle 1.8.3 a 1.9.3.), mi hosting esta en un Linux. Los cursos pequeÃ±os p.e. de hasta 35 MB no hay problema pero ya los mas grandes 60 - 230 MB me da error al tratar de restaurarlos. Saben si hay algÃºn lÃ­mite al respecto o que debo hacer para poder hacerlas bien Les agradezco su ayuda. Saludos",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 19, 2009, 5:14 AM",
          "AuthorName": "Jose Manuel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=145922&course=5",
          "role": [
            "Picture of Jose Manuel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 396974,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396974",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Auto Backup file download",
          "Text": "Our teachers cannot download the course backup file that is in the automatic backup files section, when they go to Course Management>Course Settings>Restore . I've made sure that Download Files From Backup (moodle/backup:downloadfile) is set to Allow. Also Manage Files (moodle/backup:managefiles) is set to Allow. I'm not sure if I'm missing another permission or not. An interesting work-around is they can click the Manage files button, click on the back up file and then click the Download button. That works, but why wouldn't the Download link in the files area work? Thanks for any ideas.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 13, 2020, 3:56 AM",
          "AuthorName": "Chris Swaffield",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=251134&course=5",
          "role": [
            "Picture of Chris Swaffield"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 77974,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=77974",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "restoring 1.5.3 course to 1.8",
          "Text": "I am concluding a hosting agreement at the end of this month where five of my courses are being hosted on a Moodle 1.5.3 system. I am going to be taking over the hosting of the courses on a Mac system running Moodle 1.8. My web host has been very kind and has backed up the courses and sent me the following file/folders for each of the five courses: - moodle. xml - course_files (folder) - moddata (folder) - user_files (folder) How do I get those five courses running on my system? Can I restore a 1.5.3 course to 1.8? How do I do that? Is it even possible? Any help would really be appreciated. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 15, 2007, 4:27 AM",
          "AuthorName": "Mike Ealy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=345766&course=5",
          "role": [
            "Picture of Mike Ealy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: restoring 1.5.3 course to 1.8",
          "Text": "Mike, We have been doing interim upgrades on 1.5 sites first to Moodle 1.6 and then to 1.8 latest. At 1.6 Moodle introduced unicode, which initially had some problems when upgrading the db. We have continued this practice and it seems to work well as it gives you a chance to check your courses for problems before upgrading further. With just 5 courses this shouldn't be a problem for you. Easiest way might be to just do a \"Backup\" on all 5 courses, plus the site front page , and then \"Restore\" on the new site. You should also get a backup from your provider of the moodledata folder and you current 1.5 db.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 15, 2007, 9:46 PM",
          "AuthorName": "Bryan Williams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=10226&course=5",
          "role": [
            "Picture of Bryan Williams"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 111860,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=111860",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Problema en restauraciÃ³n con registros de scorm",
          "Text": "Hola a todos y gracias, He restaurado un curso despues de haber necho una copia de seguridad, pero veo en la tabla de logs que no tengo ningÃºn registro que haga referencia a scorm referente al curso restaurado. Alguien sabe algo de esto?? Un saludo y gracias.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 4, 2008, 10:45 PM",
          "AuthorName": "diego garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=83106&course=5",
          "role": [
            "Picture of diego garcia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 64228,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=64228",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Conspicuous abscence of zip file.",
          "Text": "Hello, I host a Moodle with Freehostia. A colleague is having trouble backing up one of his courses. The script gets as far as saying it's \"Zipping backup\", but no file ever appears, nor do any error messages. If I was hitting any of the host's filesize limits, surely I'd see an error message?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 7, 2007, 12:16 AM",
          "AuthorName": "Giles Greenway",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=231773&course=5",
          "role": [
            "Picture of Giles Greenway"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Conspicuous abscence of zip file.",
          "Text": "Hi, I'm having the same problem (in Moodle 1.7). This is what appears after about 10 minutes when I run a backup of the course (all my courses have the dsame problem). Name: backup-b2-20070217-1622.zip Creating temporary structures Deleting old data Creating XML file Writing header Writing general info Writing course data Course Info Metacourse Blocks Sections Writing users info. . . . . . Writing categories and questions. . . . . . . . . . . . . . . . . . . . . . . . . . . . Writing logs info. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . Writing scales info Writing groups info Writing events info Writing gradebook info Writing modules info Assignments Forums Labels Quizzes Resources Moodle Graded Assignments Copying user files Copying course files Zipping backup I've tried raising the size limit and the timeout as suggested in this post http://moodle.org/mod/forum/discuss.php?d=61847 but it didn't change anything. Any help would be appreciated, thanks! Mara",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 18, 2007, 7:04 AM",
          "AuthorName": "Mara Simon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=197506&course=5",
          "role": [
            "Picture of Mara Simon"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 30031,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=30031",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "How to do a batch restore of many courses at once?",
          "Text": "Hello, We've been running more than one\nMoodle simultaneously for our university, and with different courses\nbeing served on each one. We're now merging\nthem all into a single instance of Moodle, and how we're doing it is\nwe're taking the course backups and restoring them manually, one by\none, to the destination Moodle. It's not a very efficient process. Is there a way to do a\nbatch restore, or similar thing? I found this post on removing users from courses at the end of a semester , which seems similar to my question in that it deals with modifying the information for a large number of courses at once, but it's not what I'm looking for. Thanks. Pedro",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 3, 2005, 12:27 PM",
          "AuthorName": "Pedro G. Acevedo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=74257&course=5",
          "role": [
            "Picture of Pedro G. Acevedo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to do a batch restore of many courses at once?",
          "Text": "Hello Pedro, We're trying to do a batch restore of many courses at once. At the moment, we're looking for information about this, but unfortunately, we don't find this information. If you want, we could collaborate to resolve this problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 6, 2005, 6:52 PM",
          "AuthorName": "Ãngel RodrÃ­guez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=70231&course=5",
          "role": [
            "Picture of Ãngel RodrÃ­guez"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to do a batch restore of many courses at once?",
          "Text": "I'd like to, Ãngel, but right now I just don't have the time to learn the ins and outs of how Moodle is coded. However, I see that someone else is working on batch uploading courses in a text file , which may be applied to this problem. I suppose you could write code to somehow export an entire course to text in the format specified by Lee Asson in the link, though I see it [still] doesn't support things like resources and forums. Good luck, and I'll keep you in mind if I decide to dig into this myself. Pedro",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 8, 2005, 11:58 PM",
          "AuthorName": "Pedro G. Acevedo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=74257&course=5",
          "role": [
            "Picture of Pedro G. Acevedo"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 114941,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=114941",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Repetitive Error registering - How do I repair this - Google analytics ???",
          "Text": "Below are details to a repetitive error report that I have been getting since January 4th, 2009 - is there a means of repairing this error - the report of January 4th is the correct one as it gets an OK ... however, the 7th and forward reports that I have collected are showing a cut off or stopping of report after Phase 2 - Executing and copying - and ends with logs on every occasion. Anyone tell me how to fix or repair this information ... thank you for your time and help .. Jennie ====================================== copy of logs from back up - forward backups are all like the 7th below .. incomplete ... Wednesday, 7 January 2009, 12:42 AM 12:42 AM:13 Start backup course Education: Technology: Diversity: Affordable: Getsmartmoodle 12:42 AM:13 Phase 1: Checking and counting: 12:42 AM:13 checking parameters 12:42 AM:14 calculating backup name 12:42 AM:14 calculating modules data",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 28, 2009, 10:04 AM",
          "AuthorName": "Jennie Lawrence",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=610119&course=5",
          "role": [
            "Picture of Jennie Lawrence"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 54655,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=54655",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Selecting location of course backups",
          "Text": "Hello, Moodle 1.5.4 in a Fedora box. I'd like to backup individule courses to seperate locations. Where do I do this? If I am in the couse and choose backup I can name the backup what ever I want, but where do I put the path?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 22, 2006, 2:24 AM",
          "AuthorName": "Eric Kemsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=61260&course=5",
          "role": [
            "Picture of Eric Kemsley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 210763,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=210763",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "course restore",
          "Text": "I have what I hope is an easy questions. I am an fairlly new admin on our 2.3 server . A teacher sent me a course backup file from another server, she wants me to use it to create a new course for her. Should I create a course and then from within that course restore from the bacup file? Is the best way to do this to upload the file to my private files area and access it from there? I have not been able to find step by step directions on how to do this in moodle docs . Any help you can give me would be appreciated. PS: this is an old 1.8 backup zipped file that I am attempting to restore on a 2.3 moodle server. I've been told that it may not work but I can give it a try. Is there any chance restoring such an old backup would create problems beyond the course I am trying to restore? Thanks so much for your help. Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 7, 2012, 6:55 AM",
          "AuthorName": "Ken Russell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1356790&course=5",
          "role": [
            "Picture of Ken Russell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: course restore",
          "Text": "A 1.8 backup zip might be too 'removed' for the current version to successfully restore.Â  Might stand a better chance at restoring to a 1.9 'sandbox' ... which I'll be glad to offer should you like to try that first. http://moodle.tcea.org/sandbox/ Contact me via IM in this system if you go that route.Â  I'll have to set you up with appropriate levels to 'get 'er done'! ;) Once restored to the 1.9, then, make a 1.9 backup and try the restore to the 2.3. To avoid legacy files in the 2.3, create a minimal course.Â  What one calls it really doesn't matter.Â  Minimal means no options chosen during course set up cept those required.Â  When you get to the point in the process of assigning users, instead, go to the Course admin menu and restore.Â  Use the 1.9.x backup zip file to restore, but the important option is to 'restore to this course' (the one you are currently in). Moodle will first attempt to convert the course to a 2 backup (.mbz) and use that to restore.Â  One can find what Moodle does in /moodledata/temp/backup/ - even if it fails (might be able to re-cover at least files that were contained in the 1.8 course). 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 7, 2012, 7:54 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: course restore",
          "Text": "Hello, all: It may seem strange to be answering my own post, but it looks lilke I have just been sent a 2.1 mbz version of this file, so I am going to use that. I'm still a little unclear on how best to restore a file for a course when the backup is from another server, whether I start by creating a course and restoring it from within the course, or whether that is an unnecessary step and I should be starting at some other point, but I don't know what point that should be. Any suggestions on this would be helpful. Thanks agian.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 7, 2012, 7:57 AM",
          "AuthorName": "Ken Russell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1356790&course=5",
          "role": [
            "Picture of Ken Russell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 205617,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=205617",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Automated backup is working fine but...",
          "Text": "I've tested the automated backup and it work fine but still the script excuted at other day, here is the problem: I tell the server to excute the backup on Tuesday at 16:35 but it's been excuted on Thursday at 9:35 I'm sure that the server local time is correct and also the TimeZone what I've missed?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 27, 2012, 2:53 PM",
          "AuthorName": "Emadof Tosen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1425007&course=5",
          "role": [
            "Picture of Emadof Tosen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 335842,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335842",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "Interesting backup and restore conundrum",
          "Text": "Primary Question: I remember in Moodle 1.9, when the restore to new course was proceeding there was a line that actually gave text-based information as to what step it was on. Though Moodle 2.x doesn't seem to have that, I figure there is a way to still dig down somewhere to see it. I am pretty shaky at SSH, bit confident in Control Panel. If there is a Moodle or Control Panel way to do it I would jump for joy. But this is a conundrum important enough to solve to do SSH if needed. I need to get over being intimidated by making a mistake there and crashing something anyway. I am one of those teachers that learned as we grew types (we are going into our 12th year of the project) Â instead of being a server side guru. It makes me feel like I have many holes in my skill set, but my time is loaded down with admining, building, and teaching, so there isn't a daily need for the server side stuff and it is lost in competing with other time needs. Want to help more? ... If anyone wants to jump in with further suggestions, please do. Here is the needed background if you want to help more ... We are having issues with our math course backups and restores specifically. All other courses, even some bigger in terms of mb are backing up and restoring fine. So there is some commonality to these math courses I am trying to track down. Here is the behavior in backups Â ... Automated backups work on all of them. Manual backups stalls at the 99% point in the backup for about 80% of them. Here is the behavior in the restore to new course of the few math courses that do backup fine ... Of the manual backups that did work and of the automated restores, the restore gets to 25% and hangs. The spinning progress wheel in the browser tab stops as well, so it appears Moodle/server is no longer working on anything. This occurs in about ten minutes or less and is well below our timeout settings on the server. No errors in error log. It just stops. Looking into the course shell that is created (title of corse restore in progress) shows it successfully makes the empty course shell but transfers no data at all into it. Nothing on the course page and nothing in the question bank. This makes me wonder if it is failing at some sort of check done prior to adding content. For the non-math courses that successfully restore, they move past this screen at the 25% mark and the screen changes in the way it looks with the progress bar actually starting over at 0%. It would seem an entirely different stage is occurring here as it transitions into adding content. Math courses just are not kicking over into it. Details about these math courses: All of them have between 2000 and 4,000 questions in the question bank with each having a few subcategories throughout in how it is structured. Our next closest course in question bank size that restores fine has about 2500 questions also with nested subcategories. II can see question bank size as being a possible cause of the issue. The same size question banks all backed up and restored fine in Moodle 1.9 when we used them beofre. Today we have some experimentation on if we can split the full year courses into semester courses and drop the number, but without being able to backup and restore to a new course, you might see how that isn't an easy task to tackle. The math courses are the only courses that have had Latex copy-pastes into the questions and answers. I wouldn't think that would make a difference since the questions do behave fine in quizzes, but in the off chance it might be important, I will mention it. Some experimenting that we have already done has led us to find that one source of backups failing was in the way the cloze questions can be coded throws off the html because it interprets the greater than symbol as html instead of a character. Â We replaced those particular question types with the character code for greater than and less than and that cleared several of the courses to then start backing up correctly. We are using the same process of narrowing down the questions into small groups of question pools to see if any other issues of like nature could be causing problems. I am not in these math builds, so I am bringing in the lead builder into the trouble-shooting since she will be very familiar with any out of the norm methods that might be used across all of the math courses. I know last year she was building using Word as the question template and we discovered it was adding in hundreds of megabytes worth of formatting gobbledy-gook. That was just in one course and we did clear that. I know she is not using Word now, but it is possible she is using some other question templating outside of Moodle for new questions and importing questions in from that. We will be meeting after the holidays to follow up on this possibility. Details about the Moodle and server environment: Moodle 2.9 which was a fresh install just a bit over a year ago on a dedicated 4-core, 16 GB RAM server. Centos, LAMP We have the max execution time up to a whopping 10,000 seconds to give some of the other courses enough time to backup and restore. I did one, not a math course, last night that took over an hour but it restored fine. It wasn't large in terms of mb (11.8), but the question bank is pretty big and takes up most of that. We use links to content housed outside the course to reduce the total mb since we get many copies of the same course over time. We had a 1.9 Moodle before, but we opted to rebuild courses over upgrading to it since we knew we would need to touch about every question and course page anyway to set images to responsive (we are using a Bootstrap-based theme) and to add the hint-levels to take advantage of the redo feature for quizzes. Questions from 1.9 went through a custom-coded process to convert them to what was needed for 2.9. Essentially, it added the hint levels with some templated feedback and made images responsive. Â Courses with those have backed up and restored fine for all but the math courses. From reading this you might get a feel for what an intense build year this has been and will continue to be for at least another year. Yes, we builders are exhausted. lol. I am open to server setup mistake or performance issue suggestions if there is any chance that could be an issue. Maybe something with the Latex handling since that would be math specific, database ( MySQL ) settings, etc. The new school year is right around the bend and I am sure hoping we can find the source of trouble in time to get new course copies. We can use the fall-back of continuing to use last year's copy for maybe one more year's worth of student load, but not more than that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 5, 2016, 12:48 AM",
          "AuthorName": "Tammy Moore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=75167&course=5",
          "role": [
            "Picture of Tammy Moore"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Interesting backup and restore conundrum",
          "Text": "ï»¿ Wow! That was painful to read ... can't imagine how painful it must have been to write, but very good description. I admin more than one CentOS server with similar specs but maybe not the number of users/courses.Â Â  Still though, (hate to tell ya this, but you asked ...) your server usage sounds like it's reached a stage where some things might be better accomplished from the command line. Before I dive into that, believe it or not, am gonna ask you to do something in the GUI admin side of your site. There is a hidden tool that might help some ... http://yoursite/admin/tool/health/ Imagine it will take a long time to run on your system so be patient.Â  Might consider putting the site into maintentance mode OR run health check at a non-prime time - think I'd try the latter first. If the tool discovers any health issues you will get dialog boxes with statements about the problem and a button to \"view solution\". Just so happens I have a sandbox Moodle 2.9.highest (as of today) running on CentOS server and just ran the health tool. One box says: Only multianswer and random questions should be the parent of another question You have questions that violate this in your databse. You will need to investigate to determine how this happened. Now remember, your server may NOT/probably WON'T say exactly that but WILL have other. Clicking the button for \"View Solution\" will present to you either a box that says something to the affect ... dunno, try the quiz forum or it might (hopefully) present to you an SQL query you can run (from the mysql> prompt - which means command line). The sql queries may/may not fix all, but you are closer to better health than you were before! ;) The above may/may not fix issues with backups, however, I can tell you it's been my experience on one heavily used Moodle 2.9 that command line tools found in moodlecode/admin/cli/ have become necessary in backing up courses with large number of users and large number of quizzes. Hate put you into overload mode right away, so how about running the health tool first, before diving into CLI tools that will help. Just one more thought ... have decided it's not worth comparing 1.9 to 2.x and now 3.x.Â Â  Those days a gone.Â  Concentrate on what issues you see before you and resolving those problems.Â  Old behaviors of 1.9 will probably never return (may they rest in peace) ;) Do have suggestions for using CLI which will follow this posting and after hearing back from you about health. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 5, 2016, 2:16 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interesting backup and restore conundrum",
          "Text": "Part II ... command line tools.Â Â  One major advantage ... takes apache out of the loop ... just php and mysql involved in whatever they do. First, some of the scripts in moodlecode/admin/cli/ take defaults from how the admin user has setup things like backup.Â Â  If in the UI admin interface, one has selected options for course backups such that those backups are essentially no user, no grades, no work by students, etc. etc. ... ie, a reset course. Create a directory outside of Moodle code/data to hold the backups - something like /home/backups/ would do nicely.Â Â  Why outside of Moodle data?Â  So you can see IF it does complete ... the tail end of the backup routine takes what it has built in /moodledata/temp/backups/[sometiempdirectory]/backup.mbz and actually 'copies' it to destination ... which, by defaults is normally 'file area' ... which is in \"the mess\" ofÂ  filedir (new filing system) where there are no humanly recognizable names of files and where one cannot 'inspect' a backup file. One can backup a single course ... will try that first. So, know the course ID ([#] in example below) of one of those troubled courses and set the defaults to backups such that the backups would be essentially NO user backups (like reset courses), and then from the command line as root user: cd /var/www/html/[moodle] or /poathtomoodlecode/ php backup.php --courseid=# --destination=/home/backups/ [ENTER KEY PRESSED HERE] What you should see is similar to this: == Performing backup... == instantiating backup controller 9d45061642731167bd5c34ea43e246f0 setting controller status to 100 loading controller plan setting controller status to 300 applying plan defaults setting controller status to 400 setting file inclusion to 1 checking plan security setting controller status to 500 setting controller status to 700 saving controller to db calculating controller checksum d02d16ae506741789a9acbfe49f455b8 loading controller from db setting controller status to 800 setting controller status to 1000 saving controller to db Writing /home/backups/backup-moodle2-course-17-moogoojoo-20160704-1333.mbz Backup completed. If that fails ... then the above did NOT reach 1000 but stopped at some other number/point, thenÂ  one will have to inspect where/how it failed and here again the only way to do that is via command line. **IF it fails** cd /var/www/moodledata/temp/backup/ Looks for a directory that is long and has a bunch of letters numbers in it. Does that directory have a backup file in it? .... like: backup-something.mbz If the .mbz file is there, then the backup failed at the very last step (that 99% point you see in the GUI).Â Â  That last step is *copying* the backup .mbz file to it's destination.Â  Known issue with any courses that's in the Gig range and OS using 'copy'.Â Â  Would be willing to bet it's a good backup.Â Â  One can manually move the .mbz file to /home/backups/ thusly. In /var/www/moodledata/temp/backup/d02d16ae506741789a9acbfe49f455b8 (long directory name will be different this one is an example) mv backup-something.mbz /home/backups/ Notice that's the 'move' command. ls -l /home/backups/ and one should see the .mbz file in /home/backups/ and the .mbz file is no longer in the (remember example directory) d02d16ae506741789a9acbfe49f455b8 Ok, once backup is 'out there', how does one restore it? A file system repo can be setup in any course that points to /home/backups/.Â Â  Then the .mbz file can be restored without having to download it just to turn around and upload it. Now if the .mbz file doesn't exist, need to check for the existence of a moodle_backup. xml ... not there?Â Â  Then what is there?Â  Are there are .xml files with related directories .... files.xml is related to the contents of the files directory, as an example. At this point couldn't describe exactly what, but think you might find, if one were to compare the number of quizzes in the course via the Moodle UI of the course and what one sees in the tempdirectory/quiz and quiz.xml file one will see items missing (quiz ID numbers).Â Â  Those would be suspect quizzes to check in the Moodle UI then. That's about it ... given info ... more specifics would require access. One last suggestion ... something you didn't mention you tried ... breakup the backup of those troubled courses.Â  The first run of the backup do NOT select ALL the quizzes/ sections ... stop at half way point .... 52 sections ... stop at Section 26 and run the backup - name it with 'sec1-26' in the backup name.Â  If that completes, then run backup again only this time selecting Section 27 to the end - using 'sec27-end' in the backup file name. Restoring of that course, would then have to be done twice and to the same course (this usually leads to having to re-order things and might not be desired way to go). Am certain others have different suggestions/ideas. ;) 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 5, 2016, 2:55 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interesting backup and restore conundrum",
          "Text": "Thanks so much! I mentioned the 1.9 data really more as extra info in this thread, but I certainly was whinny about a year ago when I was in the thick of the transition, so touchÃ©' I earned the comment. It was way too little time, too little sleep, new level of server tools with the dedicated server to figure out, and a big jump in terms of learning how the new version worked compared to ancient 1.9. I have felt ashamed of the few posts I made during that time. they definitely shoed the stress I felt. You, however, have always been the first to jump in to help. You are the greatest help here at Moodle.org. thanks. Â I have had a year to get most of the workload done, I get more than the four hours of sleep I was getting a year ago, and I have grown to love Moodle 2.9. Now, apologies aside, lol, to the task ... It is no doubt a bad sign, but the Health Check never finished. I set up a Moodle 29 on my own computer over a year ago just to play around with theming a little while waiting for our real server to be provisioned and set up that we planned to use for Moodle 2.9. I realized that using it instead of the production server for doing some personal training runs at command line level work would be wise. Plus, I could practice in the day without worrying about server load with active students and be more alert (not a night owl). I used one of the successful math course backups and did find out through that process that our max_allowed_packet was not adequate. Once I bumped that up to an insane number I was able to successfully restore the Algebra 2 course onto my personal Moodle 29. I then ran a health check on my own 29 to see if the successfully restored course cause any health check errors to be thrown. None other than the fact I never did set up the cron for my own little MAMP server. Today, more practice at cli. Tonight, when the site settles down, I plan to try again for the real restore on the production server now that the max_allowed_packet is as high as was needed to do the restore successfully on my test Moodle. Then I will try again at a backup and see if the increase helps there too. I will report in again and update how it all went.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 5, 2016, 9:55 PM",
          "AuthorName": "Tammy Moore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=75167&course=5",
          "role": [
            "Picture of Tammy Moore"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interesting backup and restore conundrum",
          "Text": "Oh, no need to apologize for wishing to see some older behaviors of 1.9 ... I too!Â  Unfortunately, 'progress' generally means more resources.Â Â  The newer issues need to be addressed to continue to have a functioning Moodle server.Â Â  That's kinda what I was trying to get across. ;) Sounds like some tool to check the health of and settings for the DB is in order.Â Â  Unfortunately, one of the better tools for this is command line. Yes, max_allowed_packets setting is/has been known to be an item to tweak.Â Â  Back when restoring 1.9 backups to early versions of 2.x found another ... number of open files - open_files_limit=6000 (number was a guess).Â Â  Maybe needed when converting the 1.9 file system to the newer 2.x file system, but I've now made that a 'standard tweak' on any new installation of Moodle DB. With 2 and 3 and beyond ... one also needs to check into innoDB tweaks. A tool that will help: mysqltuner.pl - a perl script.Â Â  When run it does offer suggestions as toÂ  what settings need tweaking (always upwards) to optimize DB performance. If running a Moodle as an 'all-in-one' (DB and file storage on same server as moodle code), I pay close attention to the balancing act between apache and the DB server. Example of output items from mysqltuner.pl [OK] InnoDB data size / buffer pool: 184.6M/13.0G [!!] Maximum possible memory usage: 13.5G (86% of installed RAM) If you note the second example, seems I have tweaked the DB settings too much on the server from which these example items come. Dropped connections ... MySQL has a default of 151 for Max number of connections and on busy sites I\"ve had to increase that to handle the load.Â Â  One 'client' (an ISD) didn't let me know they were going to allow usage of student devices to make up for ISD's inability to provide a true 1-1 for all students.Â Â  That sort of thing, however, might be different with your Moodle ... truely asynchronous ... not a like a school whose students from one class (say 25 of them) would hit a moodle course at the same time and hammer away at it for the remainder of the class period.Â Â  Could always tell when the 'change classes bell' rang ... big drops ... 5-10 minutes later ... right back up there. Ok, enough about that ... are you backing up courses to restore them to use as new courses (same prof) for next semester ... or something like that? Are there courses where one could simply use reset after archiving a full course backup to get some classes ready for the next semester? 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 5, 2016, 11:43 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interesting backup and restore conundrum",
          "Text": "As to the question about resets vs restores - More than half of the students are in at your own pace option courses since we max out in capacity for our live online courses fast. We can get some really big enrollments in these, so they take a while to 'cool off'. Biology this year was over 1000 students. Other science courses were not far from hitting 1000. I have made new copies annually and moved the current courses off to an archive folder to give students already working time to finish. Typically in a year to two years all students have retired out past the 365 days since last activity point and then I delete that copy from the server. Not bellyaching, just noting that courses with near 1000 enrollees in Moodle 2 did give us a learning curve this year. Teachers had page load time outs as enrollment numbers grew that we did finally track down to the Grade Me block add on. We are now using Marking Manager with great success in those big courses. Changes to the grade book, forget it. It just was not doable. There were other things as well. This coming year, we are considering shifting to multiple course copies released throughout the year and keep the enrollment size down in each one. Â That opens up a whole new kettle of fish, but we want to give it a go. The roll out of multiple copies through the year may actually mean these cool off faster that the single large enrollments. Resets instead of new copies, maybe. Course copies that are for the live, online classes usually run anywhere from 50 to up to 400. Those have more solid end points because they are synchronous. Conceivably, these could eventually reach a point where a reset is all that is needed. Though, it may be a year or two to finish shaking out errors yet from rebuilding the courses, so we are now entering the phase of having a master course copy so we can make fixes as we find problems. So many things found in an active course cannot be fixed while students are in it whether is is that the course enrollment is too large to make a change to the grade book or it is something in a quiz and once a student has started it we are locked out of changes unless we dump all the student work in that activity up to that point. Acknowledged Training Need - What I need is a really good course, even better if it is Moodle specific. I can see a message \"If the number is too high, ...\" or increase the size of ...\" in recommendations, but if I don't know what \"too high is\" or have some sense of scale for how much to increase something by I can way overshoot or not nearly set something high enough to see a performance gain. Plus, I don't know things well enough to realize repercussions to watch for since so much is inter-related. Plus, I want to learn the whys as much as the what. I want to get over fearing the server side stuff and get as comfortable with is as I am with Moodle's innards. There isn't anything locally available since I live very rural. I am going to have to figure out how to find the online training I need; though, I am not even quite sure what my search term I need. LAMP Stack training? Maybe full Stack, or maybe Database Training? Changes I Have Made - Thanks for the heads up on max number of connections. I now have that set to 200 up from the default of 151. Here is a good example of following a recommendation to increase something, but not knowing what scale to increase by. I figure 200 is a safe number to try and yet see a performance improvement. That with the dramatic increase I made in max_allowed_packets I hope will give us enough tweak to find success tonight when I make the next attempt at a restore and give another try with one of the course backups that has been stalling. Plans in the works: I have researched the MysqlTuner and plan to install it and give it a try. I also remembered seeing a recommendation page in PHPMyAdmin and thought I would browse it. I saw a lot of recommendations related to tables not being properly indexed and things related to Innodb buffer pool. I will dig in and try to learn and understand those and see if I can get myself ready to tackle improving things there. I also want to dig in and get a handle on MyiSAM engine vs InnoDB. Another area is to look to moving to Amazon's elastic web if that can give us more resources at peak than staying with standard servers. It is that or go to the next step of renting another server to split off the database from the web server. We need more hamster wheels for peak use. We often pegged out our CPU/4 cores at peak hours of the day last school year.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 6, 2016, 3:58 AM",
          "AuthorName": "Tammy Moore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=75167&course=5",
          "role": [
            "Picture of Tammy Moore"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interesting backup and restore conundrum",
          "Text": "Those details you've given are important and definitely related ... thanks.Â  Much discussion/questions but you seem to have a handle on how it's used and are already aware of some issues ... just not clear resolutions (yet).Â Â  That will come. I wouldn't be surprised if you were contacted by someone at Moodle Partner! ;) However, some more sharing related to training needs in administering a Moodle server and a prelim comment ... rare is the case where the Moodle Admin user is also the Operating System Server Admin and a DB person as well.Â Â  Most of the time there might be at least 3 persons involved ... Moodle Admin (inside Moodle UI), Server Admin (OS) and a DB Admin.Â Â  Wearing all those hats could get 'heavy' on ones head. How did you find out you needed to tweak max packets? Surely you got that from either Debugging in Moodle OR from server logs or a combination thereof. Example: in debugging restoring a course one saw 'Server has gone away'. Google search: 'server gone away MySQL'Â Â  Notice I left out Moodle. If you did exactly that search the first hit should be something from mysql.com. Â  Maybe Percona Blog (good resource for MySQL DB info). Â  That would be a technical page but that's what one needs. One will notice that piwiki, drupal, maybe faqs from Amazon related to the topic.Â Â  There are hosting providers who have rather extensive docs/faqs etc. for their customers that are available for anyone to read.Â  Sometimes, one can find some nuggets in the others not specifically related to Moodle.Â Â  One just has to be aware of translations (not language, but OS specific) ... their system vs your system. So not sure there is a Moodle related specific training site for those things that make Moodle go in a typical LAMP stack - Linux, Apache , MySQL, PHP (but there's also now some Python related items in the latest Moodle 3.1 and search as well as Java Runtime and an office suite - if one wanted all the bells and whistles). Would be great, but like documentation, might be valid for a while, but then rather quickly falls into platform/version specifics and, sigh, out of date. Maybe the best option is to learn how to fish.Â  Do think I see that phrased differently in those descriptions of ohhh, say ISTE's Standards for students and teachers ... 'problem solving' etc. Here's a short list of my 'tools'.Â Â  Most command line because I want to use them on a live server and in realtime if at all possible (examples below might be specific to CentOS).Â Â  They are not in order of importance ... those will eventually filter themselves to the anyone's top 10. Learning how to create bash shell scripts for repetitive investigations and task. Example: an 'update' script to update the moodle code using git as well as running the php scripts found in /moodlecode/admin/cli/ Learning system information tools that come with OS - top, ps, df, du, tail, head etc. as well as tools that would be involved in backups: tar, rsync, mysqldump. Learning where the logs are kept ... apache access/error, MySQL/ MariaDB logs (multitail, tail -f, fgrep (searching logs). That's a very short list ... am certain that others could contribute. Do know this ... the more one does something the greater the chance it will eventually be internalized.Â Â  If at all possible be proactive ... not reactive. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 6, 2016, 6:51 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interesting backup and restore conundrum",
          "Text": "Since your Learning Plan involves DB ... More on DB and tuner - just sharing ... from perspective of a Moodle Admin who doesn't hold any DB credentials. Before beginning any tweaking .... *do a mysqldump of the DB*. Recommendations from MySQLtuner should not be applied blindly and without research. There are some changes/additions/tweaks to config that should be used in combination with another tweak and should be increased gradually.Â  best reference is/are the docs from the source of the software. Using MySQL 5.5? .Then use the MySQL site for that version. https://dev.mysql.com/doc/refman/5.5/en/ Try to focus when you do read the technical ... try not to get distracted or off into a tangent which you may not need at present. Something can be tweaked to high which leads to diminishing returns. After making tweaks, MySQL daemon (server/service) must be restarted. So one command needed for this is related to restarting MySQL services safely/properly which is dependent upon OS.Â Â  IF, your tweaks have actually lead to MySQL failing to restart, no problem ... just edit the my.cnf file again and comment out your added parameters.Â Â  Start service. Research some more. Right after restarting strongly advise checking the MySQL error log to see if everything appears to be OK. Consider putting Moodle site in maintenance mode while you tweak and restart. If you made tweaks that was designed to increase the memory usage of MySQL, use tools that would show that: top with ctrlF + P on centos as an example. Database server now running under your tweaks needs some time (actually being used) before you to run tuner again to evaluate your tweaks. There's a lot one could write about this. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 6, 2016, 8:28 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interesting backup and restore conundrum",
          "Text": "Many thanks to Ken Task! Even though I am still hitting the wall with the course restores I have learned so much and the site is better for it. I have experienced lot of growth in SSH skills for this troubleshooting effort going from total newbie to at least now being able to get to and run the cli scripts, update my.cnf using nano, what and how to run SQLTuner, and more. Best of all, my command line terror has abated somewhat. lol For the sake of others that may hit the same issue, I wanted to post an update of what I tried and what I plan to try next. Failed restore behavior summary : Most courses restore fine. Large question bank courses fail at the 25% progress point with the Chrome tab spinning wheel disappearing being a very reliable indicator of failure. This failure happens within two minutes of reaching the 25% restore progress bar point. All timeout settings I can find are well above 2 min. Every once in a while I will get the behavior where it pauses at 25% then zooms to about 65% and fails. When it does get that far, there are actually questions in the quiz bank, though they do not have their categories. Nothing but the course shell everywhere else. One new oddball course has popped up that may or may not be related: Chem course restored fine. That new copy was updated with some hint levels added. Then it was going to be kept as a master. I then made a copy of that one for a seating copy and it failed like the other courses described above. I tried again both with the master course and even with the course that worked fine to restore to the master in the first place. Now even it fails at 25%. I saved the copy of the master to my hard drive and tried it on a local MAMP Moodle install and it installs fine there. . I hope there is a clue in these details which will lead to the root cause of the restores failing. The following have been tried ... â˜‘ Settings that have been updated SQL: Each confirmed after a SQL restart with a show variables like '' query in SQL. innodb_buffer_pool_size increased to sqltuner recommendation of over 9GB key_buffer_size is increased to greater than 17 mb per SQLTuner recommendations max_heap_table increased to 16 mb tmp_table_size increased to 16 mb max_allowed_packet is at SQL max of 1073741824 max_connections=300 well above default of 151 php: restarted mssql.connect_timout=5000 (default was 5) mssql.timeout=6000 (default was 60) mysql.connect_timout=6000 (default was 60) PHP max execution time=2160 (this was actually increased when the server was set up) â˜‘ Barracuda and Innodb is in place There was a recommendation on the command line Moodle page to use Barracuda if the site is large , so I switch us over from a default of Antelope to Barracuda. I ran the cli script mysql_compressed_rows and it confirms we now are all Barracuda. I read in a post here at Moodle.org by Joshua Bragg that he hit the same wall and thought he had settings all high enough as well and still his restores failed. He used MOOSH for the first time and it did the job for him. That is my next thing to try.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 26, 2016, 11:58 PM",
          "AuthorName": "Tammy Moore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=75167&course=5",
          "role": [
            "Picture of Tammy Moore"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interesting backup and restore conundrum",
          "Text": "Welcome.Â Â  What is it 'they' say ... You Go Girl! ;) (not trying to be sexist so please, not the intent). On your way to be becoming a CLIN (command line ninja)!Â Â  It's a 'trip' ... but well worth the journey if administering a Moodle. Would be nice if when moodle records in the .log file the stages it's reached in backing up/restoring *IF* those numbers (100,200,300,400, etc.) had 'text' hints ... even if just ONE word - like quiz or assign etc. Â  That's enough of a humanly understandable clue to help the Admin level user inspect troubled courses. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 27, 2016, 1:06 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interesting backup and restore conundrum",
          "Text": "Here is an update - One thing we suspected was involved in the issue was the large number of quizzes (150 to 180) and the large quiz bank (smallest math course had over 5000 questions with some math courses having over 7000). So one of the avenues of testing has been to keep trimming down the size to see if we could then get a successful copy. Today we literally got our very first successful restore to a new course copy for any of our math courses. It was a quarter the number of weeks of the original and only 2100 questions including labels. So now we are getting a sense of the top end of the question bank size. We are disappointed that Moodle 2 (or maybe still some server setting) has capped our courses down so tight to having to work in course quarters, but a step forward in this issue we have battled for 6 weeks is a cause to celebrate. We also went ahead and moved the server to the next tier up with full host server support and I moved us from 16 GB RAM to 32. They did a server optimization and that immediately moved one of the courses that we couldn't back up into successfully backing up. Though that was a full course copy and it did not restore. All the backups did speed up. Whereas we did have a few that would take close to an hour to backup before, now the longest we wait is ten minutes (of the ones that do work). So in this chapter of what feels like a novel length adventure, ends with some progress toward the goal of getting past the math course gremlin. We still have a ways to go yet, but there is some faint glint of light from the end of the tunnel.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 25, 2016, 12:12 PM",
          "AuthorName": "Tammy Moore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=75167&course=5",
          "role": [
            "Picture of Tammy Moore"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interesting backup and restore conundrum",
          "Text": "First of all, congrats!Â  Know it's been painful and has required much of your valuable time away from that for which you use Moodle - teach! I suspect that the quiz banks themselves might be in need of repair. Now that server has a lot more resources, don't forget about trying to run the 'health check' tool by URL .Â Â Â  Suggestions provided for quiz fixes can be applied via ssh session at the mysql> prompt. And, IF running a 2.9> version of Moodle, there a script in sitecode/admin/cli/ called fix_orphaned_question_categories.php whose help says: Fix orphaned question categories. This scripts detects question categories that have had their context deleted, thus severing them from their original purpose. This script will find the orphaned categories and delete the unused questions in each category found.Â  Used questions will not be deleted, instead they will be moved to a rescue question category. Might be a good thing to run and might result in shorter backup times, more accurate backups which means on the flip more accurate restores as well. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 26, 2016, 2:29 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Interesting backup and restore conundrum",
          "Text": "I know last year she was building using Word as the question template and we discovered it was adding in hundreds of megabytes worth of formatting gobbledy-gook. Hi Tammy, I'm not a fan of Word for generating HTML, but recent versions (since 2010?) support saving as Filtered HTML . I just tried it on a short letter, and the filtered version was 12Kb, as against 78Kb for the \"normal\" HTML version.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 12, 2016, 10:11 PM",
          "AuthorName": "Peter West",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2078600&course=5",
          "role": [
            "Picture of Peter West"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 88692,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=88692",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Setting HTML format as default before importing course",
          "Text": "We are new to Moodle and are stuck on something that surely must have a simple solution. In importing courses from Blackboard zip files to Moodle all the pages that contain \"<OBJECT>\" tags are broken until we manually (!) set the page format from \"Moodle autoformat\" to \"HTML format\" for each and every imported page. This is clearly not going to scale given the number of courses and pages involved. Is there a setting that we can use to make HTML format the global default, at least during the process of importing courses? Or perhaps the default for all pages of a course after it is imported? Thanks for your help! Alan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 23, 2008, 2:20 AM",
          "AuthorName": "Alan Zaitchik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=465994&course=5",
          "role": [
            "Picture of Alan Zaitchik"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 194677,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=194677",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Database Errors",
          "Text": "Hello all! We're trying to backup our Moodle 1.9 and transfer it over to 2.1.2. While importing our 1.9 database into our local server with the 2.1.2 installation, we received this error: http://screencast.com/t/9F2jCUNz3 And was directed to this link, which apparently doesn't exist in the Moodle support. http://docs.moodle.org/22/en/error/moodle/ddltablenotexist Does anyone have some insight on this? Please let me know -- thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 26, 2012, 4:49 AM",
          "AuthorName": "Ame D",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1416881&course=5",
          "role": [
            "Picture of Ame D"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Database Errors",
          "Text": "Hi Where is the screencast? I see only an error message, 'Table \"mnet_enrol_course\" does not exist' and a stack trace. If you meant that, it would have been more convenient for everybody, if you just cut-and-paste that text in the forum post. So it hat to do with http://docs.moodle.org/22/en/MNet . Do you have other sites connected to your site through Mnet authentication? You say, \"trying to backup our Moodle 1.9 and transfer it over to 2.1.2. While importing our 1.9 database into our local server with the 2.1.2 installation\". What are you trying to do? Upgrade a 1.9 installation to 2.1? Can you show the instructions you are following? http://docs.moodle.org/21/en/Upgrading_to_Moodle_2.1 does not mention such steps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 7, 2012, 5:20 AM",
          "AuthorName": "Visvanath Ratnaweera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41095&course=5",
          "role": [
            "Picture of Visvanath Ratnaweera",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 17728,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=17728",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "dump all backups to a single folder",
          "Text": "Hi everyone I'm having trouble configuring the backups to be in a single folder.Â  No matter what path I put in, I get the error \"Path does not exist on this server \" Here is the path I was trying /home/cherryh1/public_html/ecampus/moodledata/backup that is the path for the $cfg-> dirroot = but no matter how I shorten it, nothing works. Any ideas...what am I missing.Â  My server is unix thanks Jennifer",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 26, 2005, 11:23 PM",
          "AuthorName": "Jennifer LaVoie Constant",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=15827&course=5",
          "role": [
            "Picture of Jennifer LaVoie Constant"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 130218,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=130218",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Migrating moodle site from one computer to another",
          "Text": "Hi folks I have moodle set up on an XP machine using XAMP and it is running well and being used well. The old machine wont be able to handle it much longer so we want to migrate the site off onto a new dedicated server on which I have loaded Windows server 2003 32 bit and XAMP. Is it just a matter of copying the moodledata folder from one machine to the other along with the config.php?? Any help would be greatly appreciated Richard",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 13, 2009, 7:58 AM",
          "AuthorName": "Richard Allan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=176521&course=5",
          "role": [
            "Picture of Richard Allan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Migrating moodle site from one computer to another",
          "Text": "Hi, you have also to change config.php and backup and restore the database , see: http://docs.moodle.org/en/Moodle_migration katja",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 18, 2009, 3:54 PM",
          "AuthorName": "Katja KrÃ¼ger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=146869&course=5",
          "role": [
            "Picture of Katja KrÃ¼ger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Migrating moodle site from one computer to another",
          "Text": "Cheers and thanks for that. I will give it a go next week when back at that school.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 18, 2009, 4:54 PM",
          "AuthorName": "Richard Allan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=176521&course=5",
          "role": [
            "Picture of Richard Allan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 108661,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=108661",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "All Files Links No Longer work after Restore",
          "Text": "Good Afternoon Al We are having an issue today. I had to do a restore over the weekend. The restore was from Friday nights backup and went through with no errors. Now all of our links to files and images no longer work. I seen several posts about this type of thing but they haven't been the issue as mine. Can anyone shed some light on this issue for me? Thanks Ed",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 21, 2008, 2:19 AM",
          "AuthorName": "Edward Roche",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=244859&course=5",
          "role": [
            "Picture of Edward Roche"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: All Files Links No Longer work after Restore",
          "Text": "Alan Sorry for lack of info. I did a DB restore through MySQL on Saturday morning of Friday night's backup. We didn't change any directory, file or URL names or paths. The only thing that got changed was our DC/ LDAP server IP address. We use LDAP for Moodle logins and everyone is logging in with no issue. If into the course - files there is nothing listed for any course. I looked in the DB and in the resource table it looks like the links are still there. I did do a right click and copy the img source path and opened another browser and pasted the URL in that browser and got the same error \"Sorry, the requested file could not be found\". I double checked the course folder to make sure the files was still there and they are all there. Hope this helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 21, 2008, 3:25 AM",
          "AuthorName": "Edward Roche",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=244859&course=5",
          "role": [
            "Picture of Edward Roche"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: All Files Links No Longer work after Restore",
          "Text": "Alan I found the issue. Somehow the drive letter for where the Moodle data changed itself in the config.php file. I fixed it and bang it was fixed. Thank you for taking the time to read most post! Ed",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 21, 2008, 3:59 AM",
          "AuthorName": "Edward Roche",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=244859&course=5",
          "role": [
            "Picture of Edward Roche"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 108336,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=108336",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "backup more then 1 course",
          "Text": "Hi, I would like to make a backup of my courses. I managed to backup a course using the standard method. But isn't there a way to backup more then 1 at a time? If I have 30 courses do I have to backup each one manually? My intention is not so much as to backup, but more as to use this functionality as a import/export workaround. Meaning I have a moodle instalation as default. It has all the courses and users. It's the one I worked with untill now. I installed a new one on another computer and I would like to copy the courses(only the courses, not the users/grade) on it so that I don't have to create the courses on the fresh instalation.. I can do this using backup -copy zip on the fresh moodle - restore. It works this way but as I said, I have a lot of courses and it would take to much time. Is theer any other possibility for achieving this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 16, 2008, 4:27 PM",
          "AuthorName": "Vaduvoiu Tiberiu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=689814&course=5",
          "role": [
            "Picture of Vaduvoiu Tiberiu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 117569,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=117569",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Course info problem in backup procedure",
          "Text": "Hi, all. In the procedure of backup course in Moodle 1.9.4, appeared the following information: Creating temporary structures Deleting old data Creating XML file Writing header Writing general info Writing course data Course info Incorrect string \"needed\" in $status->info, please fix the code (table:user; old_id:2). line 552 of backup/lib.php: call to debugging() line 2873 of backup/backuplib.php: call to backup_getid() line 736 of backup/backuplib.php: call to write_role_assignments_xml() line 2962 of backup/backuplib.php: call to backup_course_start() line 60 of backup/backup_execute.html: call to backup_execute() line 135 of backup/backup.php: call to include_once() Any ideas? TIA Monico",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 28, 2009, 12:25 AM",
          "AuthorName": "Monico BriseÃ±o",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1281&course=5",
          "role": [
            "Picture of Monico BriseÃ±o",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course info problem in backup procedure",
          "Text": "Yes, it does that in developer debug mode for some reason. I don't know why. It does not actually seem to do any harm.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 3, 2009, 10:42 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course info problem in backup procedure",
          "Text": "Tim, thanks for your reply. Yes, you are right, information appeared when debug mode is on. Cheers Monico",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 3, 2009, 11:44 PM",
          "AuthorName": "Monico BriseÃ±o",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1281&course=5",
          "role": [
            "Picture of Monico BriseÃ±o",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 130843,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=130843",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Enrolment Key is not restored from Course Backup",
          "Text": "Does anybody know why the Enrolment Key is not restored, i.e. the setting is empty after the restore, even if the original course had one set. I am asking because I do bulk import of courses using a course backup as template to restore. See here, if you are interested in my Code: http://moodle.org/mod/forum/discuss.php?d=128317 I added also a version of the script that can be used as batch/cron job to do the import silently. So after the bulk import every course has an empty enrolment key, despite the course template used having one. Depending on the answer, I will have to code this feature myself or maybe the code of the restore could be changed to include restoration of the key. Any hints are appreciated, Rosario",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 21, 2009, 8:58 PM",
          "AuthorName": "Rosario CarcÃ²",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=77708&course=5",
          "role": [
            "Picture of Rosario CarcÃ²"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 439512,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=439512",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "H5P",
          "Text": "Salam Alykom, I backed a course and restored it. Everything was OK except that H5P exercises were not restored What can the problem be?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 15, 2022, 12:24 PM",
          "AuthorName": "Ahmad Amer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1321492&course=5",
          "role": [
            "Picture of Ahmad Amer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 211894,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=211894",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moving course backup from moodlerooms to moodle 2.2",
          "Text": "Hi, I have two versions of moodle. I have moodlerooms and moodle 1.9. I need to backup a current course from moodlerooms and inmport it in moodle. Is this possible? Can I restore a course that was created in Moodlerooms in moodle? Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 21, 2012, 3:18 AM",
          "AuthorName": "Alexander Perez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1192912&course=5",
          "role": [
            "Picture of Alexander Perez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moving course backup from moodlerooms to moodle 2.2",
          "Text": "Hi Alexander, To ensure a successful restore of your course backup, you need to make sure that the version of Moodle you are restoring the course to is the same, or newer, than the one the course was backed up on. The version of Moodle which your site is using can be found if you login as an administrator and go to Settings > Site administration > Notifications . It should be exactly the same in your Moodlerooms Moodle site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 21, 2012, 3:53 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moving course backup from moodlerooms to moodle 2.2",
          "Text": "As Helen says the target Moodle site version should be the same or higher than the original. However, I have Restored Courses into a slightly earlier version (e.g. 2.2.2 to 2.2.1) and had a warning message, but the restore was OK - just basic documents. With more sophisticated activities it may not work. The other factor here is that if you have non-standard modules and plugins in the source site this may cause problems during restore if they do not exist in your target site.Â  The way around this is to deselect these activities during the Backup process, or install the same plugins in your target site. This is always a consideration when using plugins, or indeed a specificÂ  distribution of Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 21, 2012, 4:04 PM",
          "AuthorName": "Stuart Mealor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21336&course=5",
          "role": [
            "Picture of Stuart Mealor"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 203714,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=203714",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "trying to understand the backup process in moodle 2.x",
          "Text": "In moodle 1.9 restore of a course used theÂ  /usr/moodle/mod/forum/restorelib.php, Im having a time locating this same file in Moodle 2.2.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 30, 2012, 12:07 AM",
          "AuthorName": "Mr. Marc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=119727&course=5",
          "role": [
            "Picture of Mr. Marc"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: trying to understand the backup process in moodle 2.x",
          "Text": "mod/forum/backup/moodle2/* http://docs.moodle.org/dev/Backup_2.0_for_developers http://docs.moodle.org/dev/Restore_2.0_for_developers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 9, 2012, 3:48 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 253560,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=253560",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backing up Turnitin assessments with Moodle Direct",
          "Text": "All, Throwing this in here mostly for feedback because it is really becoming an issue for me and wondering if anyone is in the same boat. At the end of each semester, I take a manual back up of the courses, and then reset all of them. This means that staff will have a clean slate to work on when they get back from leave, student data is removed, and I have a copy of all the student work on CD/shared drive etc. However, the Turnitin assignments sit on the server in the States, and I cannot seem to be able to keep a copy of the Grademark reports from Turnitin that the staff have created. Staff can do bulk downloads of either the original documents, as PDFs or in Moodle Direct v2, of the Grademark reports (currently in the testing phase here), and so I can too, but currently I believe that this would involve going to each course, finding each of the assessments, making a copy - you all know the drill. The job, with the back ups and restes would take somewhere in the region of 6 weeks as there is only me doing it for about 400 courses. It is a legal requirement of the country I am working in that all student work be kept for 10 years, along with staff feedback etc. And I cannot have all that information sitting in the server for that long as it would soon implode. Please - any thoughts, suggestions, work arounds - greatly appreciated. Even something to show my boss that i am not just trying to avoid work ;) Using Moodle 2.5.1, Turnitin Direct Plugin v1 (although planning to upgrade today to v2 - all going to plan)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 5, 2014, 3:23 PM",
          "AuthorName": "Davin Scampton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1616114&course=5",
          "role": [
            "Picture of Davin Scampton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 213745,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=213745",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Detailed Backup Logs",
          "Text": "When a schedule backup is done the Backup report shows that some course is unfinished. Is there a way to see a detailed log of the backup process for a particular course?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 14, 2012, 2:04 AM",
          "AuthorName": "Paul Mohabir",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1513427&course=5",
          "role": [
            "Picture of Paul Mohabir"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 131786,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=131786",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Automated backups fail at the categories & questions point",
          "Text": "Hi, Since upgrading to moodle 1.9.5 from 1.6 (on debian linux) we have a problem with our scheduled backups where some courses fail at the categories & questions point.Â  The backup logs for a failing course show 01:26 PM:23 blocks info 01:26 PM:23 sections info 01:26 PM:23 user info 01:26 PM:24 categories & questions 01:26 PM:24 End backup course Unit 1 - Health, Safety and Welfare - ERROR!! It's only a few courses that fail, none of which are very big, and while some fail consistently at this point, some work one day and not the next. Manual backups of the failing courses always work. Does anyone have any idea what's going wrong here?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 3, 2009, 6:52 PM",
          "AuthorName": "Martin Plummer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=40881&course=5",
          "role": [
            "Picture of Martin Plummer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Automated backups fail at the categories & questions point",
          "Text": "Hello, We are having the same problem after upgrading from Moodle 1.6.3 to 1.9.5. Though it only appears on one course, so it's not a dramatic problem but still an annoying one. I don't know if the problem could be caused by the fact that the course seems to have two question categories named as 'Default'. Any hints on how to solve this would be appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 16, 2009, 3:45 PM",
          "AuthorName": "Jukka VÃ¤Ã¤tti",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=975064&course=5",
          "role": [
            "Picture of Jukka VÃ¤Ã¤tti"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 323761,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=323761",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Restoring a 2.9 backup onto a 2.4 server",
          "Text": "I would very much appreciate some guidance on my restore issue: I am experiencing problems restoring my 2.9 course (built on gnomio) onto a 2.4 server . The 26.575 Mb mbz file uploads, but when I click restore, after some time I receive the error message below. I had thought that any 2.+ version would be backwards compatible? I guess if the restore is not possible, I will need to resort to a cut and paste exercise ... Many thanks in anticipation of a speedy response! ++++++++++++++++++++++++++++++++++ Error Message: error/tmp_backup_directory_not_found More information about this error Debug info: Error code: tmp_backup_directory_not_found $a contents: [tempdir]/backup/b1071f10a5419639459b659e8c968c9c Stack trace: line 140 of /backup/util/helper/convert_helper.class.php: convert_helper_exception thrown line 284 of /backup/util/helper/backup_general_helper.class.php: call to convert_helper::detect_moodle2_format() line 188 of /backup/util/ui/restore_ui_stage.class.php: call to backup_general_helper::detect_backup_format() line 67 of /backup/restore.php: call to restore_ui_stage_confirm->display()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 25, 2015, 5:25 PM",
          "AuthorName": "Brenda Mallinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=8356&course=5",
          "role": [
            "Picture of Brenda Mallinson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring a 2.9 backup onto a 2.4 server",
          "Text": "I have been trying to backup partial areas of the 2.9 course, and then upload into 2.4. Perhaps this is a more useful error? Although this came during the backedup file upload to 2.4 - did not get as far as the restore. Invalid JSON string<pre>\nBad Request\nYour browser sent a request that this server could not understand. Apache /2.2.15 (CentOS) Server at 41.93.37.2 Port 80\n\n</pre>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 27, 2015, 12:11 PM",
          "AuthorName": "Brenda Mallinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=8356&course=5",
          "role": [
            "Picture of Brenda Mallinson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring a 2.9 backup onto a 2.4 server",
          "Text": "Restoring a 2.4 backup to a 2.9 Moodle should work OK. But i'm not sure at all what you want to do (2.9 => 2.4) is possible! And that's to avoid saying i'm pretty sure it's impossible...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 27, 2015, 6:30 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring a 2.9 backup onto a 2.4 server",
          "Text": "Thanks, Severin! Yes, it should be a simple backup and restore exercise. I suspect the issue is with the remote 2.4 server settings, as even with my tedious copy and paste routine, there are some files that just won't upload. These files are .ppt, pdf and an image. May have something to do with file size? even though the server (and course) upload file limit is 100MB, and these files are on the large side but only up to about 4 MB. What a waste of time and energy ...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 27, 2015, 8:09 PM",
          "AuthorName": "Brenda Mallinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=8356&course=5",
          "role": [
            "Picture of Brenda Mallinson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restoring a 2.9 backup onto a 2.4 server",
          "Text": "You cannot go backwards with restoring.Â  2.4 to 2.9 - ok.Â  2.9 to 2.4 will not work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 29, 2015, 11:26 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 141508,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=141508",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Cron Job and SMTP Errors",
          "Text": "I am trying to run the con.php file to start the automatic backups. However, when I run it, it takes a very long time. The problem is when the cron job executes it is trying to send emails to all of our students from the Journal Activity. The Error displayed is: Processing journal entry 570 ERROR: SMTP Error: The following recipients failed: user@domain.org Error: Journal cron: Could not send out mail for id 570 to user 1782 (user@ domain .org) The reason for this error is our students do not have email accounts so fake email accounts were entered for the students. Is there a way to remove this step from the cron job so that it does not attempt to email the students during the Journal cron?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2010, 12:10 PM",
          "AuthorName": "Greg DiFiore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057971&course=5",
          "role": [
            "Picture of Greg DiFiore"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cron Job and SMTP Errors",
          "Text": "Another issue i noticed with the cron job, is when I run it, I get through to this: Finished activity modules Starting blocks Processing cron function for rss_client.... 0 feeds refreshed (took 0.018658 seconds)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2010, 12:37 PM",
          "AuthorName": "Greg DiFiore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057971&course=5",
          "role": [
            "Picture of Greg DiFiore"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron Job and SMTP Errors",
          "Text": "Hi Greg, You could just set the email account as disabled in the users profiles. Jason",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2010, 1:27 PM",
          "AuthorName": "Jason Cashel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120485&course=5",
          "role": [
            "Picture of Jason Cashel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron Job and SMTP Errors",
          "Text": "OK, I can disable them to stop those errors. Does anyone have ideas why the cron.php file will not run all the way through. It fails at the must be an admin page.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 14, 2010, 9:20 PM",
          "AuthorName": "Greg DiFiore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1057971&course=5",
          "role": [
            "Picture of Greg DiFiore"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 25672,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=25672",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Backup problems with Moodle 1.5 beta",
          "Text": "Hi, moodlers. Several days ago, we installed Moodle 1.5 beta. We are tasted each part of it. When we tasted the backup utility for each course and the entire Moodle site. We found several problems:Â  1) When we started the backup utility, none sequence windows appeared. 2) None course backup file appeared on its section inside of the course format. The same happen when we want to apply the entire site. Any idea? TIA MÃ³nico",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 14, 2005, 11:26 PM",
          "AuthorName": "Monico BriseÃ±o",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1281&course=5",
          "role": [
            "Picture of Monico BriseÃ±o",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup problems with Moodle 1.5 beta",
          "Text": "Hi Monico, first of all, I think that your should install the latest 1.5+ version because it has many improvements over 1.5Beta. If the problem persist, please, send it here again with as many information as possible (exact steps, screenshots...).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 15, 2005, 2:19 AM",
          "AuthorName": "Eloy Lafuente (stronk7)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3176&course=5",
          "role": [
            "Picture of Eloy Lafuente (stronk7)",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup problems with Moodle 1.5 beta",
          "Text": "Gracias, Eloy por tu respuesta tan rÃ¡pida. Seguro que asÃ­ lo haremos. Saludos MÃ³nico",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 15, 2005, 8:33 AM",
          "AuthorName": "Monico BriseÃ±o",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1281&course=5",
          "role": [
            "Picture of Monico BriseÃ±o",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 89379,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=89379",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to select a destination folder on another machine",
          "Text": "I would like my backups to be saved on a different machine than the one that is running Moodle. \\\\server1\\Common\\Systems\\Backup is the folder address that I type in to Windows Explorer to get to the folder I want to use for the backups. When I put this address into Moodle, it says, \"Some settings were not changed due to an error: Path doesn't exist in your server !\" I added \"Everyone\" to the permissions to make sure it wasn't a permissions error. What am I missing? Both machines are on the same network and both are running Windows 2000. Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 31, 2008, 10:34 AM",
          "AuthorName": "Scott Bartley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=431049&course=5",
          "role": [
            "Picture of Scott Bartley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to select a destination folder on another machine",
          "Text": "If anyone wants this info, I figured this out with help fromÂ my IT guy. The folder saved in Moodle has to be on a drive local to that machine. We made a .bat file that copies the local folder onto another machine. Finally we made a Windows Scheduled Task that runs the .bat file a few minutes after the scheduled time that Moodle creates the backup. The syntax of the file had to be tweaked a few times to get it to work. I'm not an expert on scripts, so there may be a more efficient example, but this one works. Replace \"server1\" and \"anothermachine\" with the name of your moodle server and the second machine to which you wish to copy the backup files. The path saved in Moodle in Administration->Courses->Backups is D:\\Support\\backup\\moodle which corresponds to \"\\\\server1\\d$\\Support\\backup\\moodle\\\" in the script in my example, and \"\\\\anothermachine\\common\\Systems\\Backup\"Â is the folderÂ locationÂ on the other machine.Â Everything from the \"xcopy\" to the \"/y\" is on one line in case the forum creates an artificial line break. Add the word \"pause\" before the exit line if you need to see it in action for testing/troubleshooting purposes. Copy and paste this text below into Notepad and then change the file extension from .txt to .bat. After you've gotten it to work, use the task scheduler to fire it 10 minutes or so after your scheduled time in Moodle. xcopy \"\\\\server1\\d$\\Support\\backup\\moodle\\*.*\" \"\\\\anothermachine\\common\\Systems\\Backup\" /y exit",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 6, 2008, 10:02 AM",
          "AuthorName": "Scott Bartley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=431049&course=5",
          "role": [
            "Picture of Scott Bartley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 122930,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=122930",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup Fails When Quizzes are Included",
          "Text": "The automated backup fails during the backing up of quizzes with user data, but only for one course. I can perform a manual backup successfully if I do not include the Quiz Data, but still include the Quiz User Data. I attached the backup process with Debugging set to Developers Level. The last line of the automated backup report reads; Include Quizzes with user data Notice : Undefined index: in /var/www/caiumoodle/Moodle/question/backuplib.php on line 499 Fatal error : Call to a member function get_question_options() on a non-object in /var/www/caiumoodle/Moodle/question/backuplib.php on line 499",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 8, 2009, 10:51 PM",
          "AuthorName": "Thomas Bachert",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=530545&course=5",
          "role": [
            "Picture of Thomas Bachert"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 173066,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=173066",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Backing up questions only",
          "Text": "I want to copy the question bank from one course to another (not quizzes, just the questions). The backup options allow quizzes only. Is there a way to copy just the question bank (i.e., the categories and the questions that fall under each)?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 10, 2011, 4:44 AM",
          "AuthorName": "Nancy Gleaton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=987290&course=5",
          "role": [
            "Picture of Nancy Gleaton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Ang: Backing up questions only",
          "Text": "Hi Nancy You can share questions between courses (which is what I assume will solve your problem) if you store them in a context that can be reached from those courses. So if your questions is located in a categori in a course, you can move them to a category at a higher level, eg. site level. Read more in Moodle Docx about Question categories Be aware that participants (normally teachers) have to have the appropiate permissions. See How to let teachers share questions between courses",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 11, 2011, 5:00 PM",
          "AuthorName": "Bente Olsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120901&course=5",
          "role": [
            "Picture of Bente Olsen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backing up questions only",
          "Text": "Use the quetsion bank import/export for this, using Moodle XML format.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 11, 2011, 9:10 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 167195,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=167195",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle 2 Can't BackUp a restored course",
          "Text": "Hi! I'm having a problem and I can't find the solution; I installed moodle 1.9.x created a course and populated it with stuff including a mod that is basically lesson but with another name (to make some random clustered quizes that have some different behavior from normal lessons) so far so good; then, I installed a moodle 2 on the server and made the same thing with the new (moodle2's) lesson module, I then copied the config.php from the moodle 1.9.x to upgrade it (I changed the name of course) and I upgraded. PhP complained about a couple of extensions (mbstring, xmlrpc, soap, gd and intl) but nothing major and the upgrade was complete, I checked the course an it worked! the new modified lesson worked as expected, horray! Now, I'm trying to backup said course so I can restore it on a fresh moodle 2 and that is where I have problems; the back up module works with moodle 2 courses normally but my 1.9.x to 2.0.1 course just gives me a blank screen, no nav, nothing just white. I have php errors on and they \"should\" be logging themselves on the /var/log/httpd/error.log file but they show nothing, I have debuging On (moodle) and still nothing is showing. Does anybody have any suggestions on how to track the error? or better yet, a possible fix? Im working on CentOS 5.4 and PhP 5.3 Any and all help will be appreciated. Thanks UPDATE: I got this error after setting level to developer (duh!) \"Fatal error: Class 'backup_autoeval_activity_task' not found in /var/www/html/moodlefuturo/backup/util/factories/backup_factory.class.php on line 107\" I going to try and follow that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 26, 2011, 1:57 AM",
          "AuthorName": "Eduardo Tello",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=882228&course=5",
          "role": [
            "Picture of Eduardo Tello"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2 Can't BackUp a restored course",
          "Text": "So........ I figured it out: The files kept their original names; embarrasing I konw... That's why the system was looking for autoeval_XXXXXXX and the file was named lesson_XXXXXXXXX I have been able to backup the courses, lets just hope I can restore them Best wishes ED",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 27, 2011, 2:12 AM",
          "AuthorName": "Eduardo Tello",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=882228&course=5",
          "role": [
            "Picture of Eduardo Tello"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2 Can't BackUp a restored course",
          "Text": "Update: I Have been able to restore the courses on fresh moodle 2.0.1 install. As far as I understand that makes my courses fully Moodle 2 compliant does anyone know if this is an incorrect appreciation? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 27, 2011, 6:44 AM",
          "AuthorName": "Eduardo Tello",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=882228&course=5",
          "role": [
            "Picture of Eduardo Tello"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 124098,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=124098",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Fatal error: Class 'message' not found",
          "Text": "I did a backup on a Moodle 1.9.4 and I want to restore it on a Moodle 1.9.1+ I got the message: Fatal error : Class 'message' not found in /home/ciberesp/public_html/junta/backup/restorelib.php on line 7302, any idea?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 23, 2009, 12:13 AM",
          "AuthorName": "Josep Ramon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=65045&course=5",
          "role": [
            "Picture of Josep Ramon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Fatal error: Class 'message' not found",
          "Text": "OK, I fix it! I changed the code $message = new message() for the code $message = new object() like the last version code of restorelib.php thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 23, 2009, 1:54 AM",
          "AuthorName": "Josep Ramon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=65045&course=5",
          "role": [
            "Picture of Josep Ramon"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 404021,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=404021",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Import course data from one exact course",
          "Text": "Hi, I have some courses as a tempalte in separate course category. Empty courses are created on a regular basis, into whic h I import content from tempaltes courses. I use backup / Import course data. Is it possible to set the sourcecourse id so that I don't have to select a source course from a list of all courses? Many Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 25, 2020, 8:02 PM",
          "AuthorName": "Andrej StanÄÃ­k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1128996&course=5",
          "role": [
            "Picture of Andrej StanÄÃ­k"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Import course data from one exact course",
          "Text": "Check out this plugin - it is what I use and it makes it so much easier. https://moodle.org/plugins/local_course_templates",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 26, 2020, 10:54 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 188371,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=188371",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "User data from deleted students",
          "Text": "We are using Moodle 1.9 and have a large Moodle site. We have to delete users from time to time, due to space and speed issues. We use LDAP authentication too and have recently changed the username from a name/surname combo, to the student ID number (which was never recorded on Moodle before). My problem is this: I have had to delete some users due to space Some users have logged back in, but now have new IDs due to LDAP usernames changing Some users need access to archived uploaded documents, attached to assignments How can I extract user data (uploaded files)Â from an archive zip file without restoring it into Moodle which no longer recognises the user? Many thanks for your help on this. Thanks Karen",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 18, 2011, 10:36 PM",
          "AuthorName": "Karen Williams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=75976&course=5",
          "role": [
            "Picture of Karen Williams"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: User data from deleted students",
          "Text": "Hi What about setting up a \"dummy\" site? Â Just do a fresh install of 1.9.x and don't connect it to your LDAP (could even be in a sub directory of your current site although better on another server - perhaps best on a local server) and unzip into it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 19, 2011, 3:45 AM",
          "AuthorName": "Stuart Morrison",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1375053&course=5",
          "role": [
            "Picture of Stuart Morrison"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: User data from deleted students",
          "Text": "Hi Karen, When you say, \"delete some users\" are you deleting them through Moodle or physically removing them from the user table? Â If the former, I wonder how much space you're saving since they're not actually deleted but marked for deletion. When we encountered this problem we did not delete the users through Moodle but set them to manual with a cryptic password. Â If they attempted to log into moodle again with the same account name using ldap, they were unable to do so. Â Those instances were manually rectified allowing them access to their original material. You mention \"due to ldap usernames changing\" so this may not be of benefit to you. Bob",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 19, 2011, 9:58 PM",
          "AuthorName": "Bob Puffer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5845&course=5",
          "role": [
            "Picture of Bob Puffer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 333986,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=333986",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup and import into other CMS",
          "Text": "I am a high school teacher using a system called NEO CMS. Â It has an import feature for Moodle. In Moodle, I create a Moodle backup (not an IMS Common Cartridge) and then import it into NEO. Â It creates the classes, but it doesn't bring over any attachments or resources that I have included in the lessons. I've tried backing up with both Moodle and IMS Common Cartridge. Â NEO allows me to import using either format. Is that just a problem with the NEO software or am I doing something wrong when I create a backup with Moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 31, 2016, 11:52 PM",
          "AuthorName": "Scott Yamahata",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2094860&course=5",
          "role": [
            "Picture of Scott Yamahata"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup and import into other CMS",
          "Text": "Sounds like a problem with NEO. Test.Â  If you can un-tar/un-zip a Moodle backup on a local machine and it un-tars or un-zips without error ... and one has or sees a moodle_backup. xml file in the un-tarrd/un-zipped extraction then Moodle did it's job.Â Â  Another test ... restore the backup to the Moodle you are using only to a different course or another Moodle instance of same or higher version. Again, IF Moodle can do that/those, your moodle is functioning as it should ... wouldn't you agree? Thus, contact NEO support and inquire there. Good luck! 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 1, 2016, 7:42 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 144369,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=144369",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Manual backups on a terribly outdated, crashing Moodle",
          "Text": "We're shamelessly running Moodle 1.8.3 on a dying server . We've migrated to a server running 1.9.5 with every course but one, which I'll call Course 101. The backup fails for this course, but that's not really a surprise as changing the error log level fails, and even visiting the System Paths page. Earning my pay as a sysadmin for the day, I am obliged to conclude there may be something amiss. Is there a way to extract the contents of Course 101 from Moodle's database and its data directory? And even better, is there a way to import it into Moodle 1.9.5? I would ideally like to salvage all the current user grades as well as the course materials, but I'll take whatever feedback I can get. Thanks for your time, Paul",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 23, 2010, 12:59 AM",
          "AuthorName": "Paul Nuffer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88360&course=5",
          "role": [
            "Picture of Paul Nuffer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Manual backups on a terribly outdated, crashing Moodle",
          "Text": "I am not sure of a manual way to take a backup of a course; but yes there are other ways to do a complete migration from moodle 1.8 to 1.9. please refer to the links below: http://moodle.org/mod/forum/discuss.php?d=114300 http://docs.moodle.org/en/Upgrading_to_Moodle_1.9 http://docs.moodle.org/en/Upgrading PLEASE NOTE: I have notÂ used these steps or done them. These steps directly involveÂ database changes, so i would recommend that these are first performed on a test copy first before applying to the live data. Also please ensure that there is a backupÂ done applying these steps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 23, 2010, 2:46 PM",
          "AuthorName": "Nilesh Shinde",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=621861&course=5",
          "role": [
            "Picture of Nilesh Shinde"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 368332,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=368332",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "error_log_logger.class.php empty",
          "Text": "I can't believe I am the only one having this problem but can't find anything on it: I can't backup or restore, I get and error message telling me it cant access error_log_logger.class.php . When I look at the file system I see that file is empty. I go to the github repository and get the code that should be in that file and put it in. Backups and restore work beautifully. Then at some point (probably a cron routine) the file contents disappear again and we are back to square one. Whats going on here? This happens with two installations, one 3.3.2Â  and the other a pretty fresh virgin installation 3.4.1 Help!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 2, 2018, 9:24 PM",
          "AuthorName": "Rob Mills",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1584420&course=5",
          "role": [
            "Picture of Rob Mills"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: error_log_logger.class.php empty",
          "Text": "Hi Rob, I don't know or understand why this file becomes empty on your installations, but it shouldn't. In my opinion, it's not really a Moodle problem, but more a web server problem. For security purposes, Moodle directory (and subdirectories and files) should be read only. You should look seriously at how are your installation handled, and what can lead to this problem (cli scripts, corruption...). Perhaps looking at the date/time of last modification could also help. SÃ©verin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 4, 2018, 10:56 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 195298,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=195298",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Course Duplication Error",
          "Text": "I'm using Backup / Restore to duplicate a course and I get the following error during Backup.Â  Restoring the file works, but 25% of my blocks are gone. This happens with another unrelated course as well. Can anyone point me in the right direction? ================================================= Skipping ' database ' enrolment plugin. Will be implemented before 2.0 release line 1360 of /backup/moodle2/restore_stepslib.php: call to debugging() line 131 of /backup/util/plan/restore_structure_step.class.php: call to restore_enrolments_structure_step->process_enrol() line 103 of /backup/util/helper/restore_structure_parser_processor.class.php: call to restore_structure_step->process() line 125 of /backup/util/ xml /parser/processors/grouped_parser_processor.class.php: call to restore_structure_parser_processor->dispatch_chunk() line 91 of /backup/util/helper/restore_structure_parser_processor.class.php: call to grouped_parser_processor->postprocess_chunk() line 148 of /backup/util/xml/parser/processors/simplified_parser_processor.class.php: call to restore_structure_parser_processor->postprocess_chunk() line 92 of /backup/util/xml/parser/processors/progressive_parser_processor.class.php: call to simplified_parser_processor->process_chunk() line 169 of /backup/util/xml/parser/progressive_parser.class.php: call to progressive_parser_processor->receive_chunk() line 253 of /backup/util/xml/parser/progressive_parser.class.php: call to progressive_parser->publish() line ? of unknownfile: call to progressive_parser->end_tag() line 158 of /backup/util/xml/parser/progressive_parser.class.php: call to xml_parse()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 3, 2012, 6:30 AM",
          "AuthorName": "Cole Tarbet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1420138&course=5",
          "role": [
            "Picture of Cole Tarbet"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course Duplication Error",
          "Text": "Caused by the default course setting that only shows 10 course blocks on the page.Â  Solved by changing this value to 15.Â  Definitely a BUG.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 4, 2012, 1:48 AM",
          "AuthorName": "Cole Tarbet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1420138&course=5",
          "role": [
            "Picture of Cole Tarbet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 217684,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=217684",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Problems with images in activity modules when restoring a course backup",
          "Text": "Hi, I backed up my course from Moodle version 2.3.3. When I restored it in another server with the same version of Moodle, images in lessons and questions don't show up. I tried to check what was happening. In the editing window, I select the empy space where the image is supposed to be, and I can see the path, vgr.:Â src=\"http://facmed.buap.mx/moodle/file.php/59/Imagenes/segmentosPulmon.JPG\" . Am I going to need toÂ re- upload the imagesmanually ? Thanks Luis",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 10, 2012, 6:08 AM",
          "AuthorName": "Luis VÃ¡zquez de Lara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1046676&course=5",
          "role": [
            "Picture of Luis VÃ¡zquez de Lara"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 107495,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=107495",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moving backup folder",
          "Text": "I just started using Moodle this week.Â  At this time, it is installed on my desktop computer.Â  (At some point we may move it to the school's server )Â  I am the only teacher using it at this time, and also have administrator rights.Â  I just performed a backup of my course, but I cannot find how to move the backed up data to another location.....such as a USB flash drive.Â  I would like to have the backup somewhere else besides on my computer in case it crashes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 5, 2008, 12:29 AM",
          "AuthorName": "Kim Conant",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=580258&course=5",
          "role": [
            "Picture of Kim Conant"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moving backup folder",
          "Text": "Depends on your browser. Right click on the file and choose Save Target As . . . or whatever, then navigate to your chosen location.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 5, 2008, 1:30 AM",
          "AuthorName": "ben reynolds",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=259778&course=5",
          "role": [
            "Picture of ben reynolds"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moving backup folder",
          "Text": "Kim - It's pretty easy. Enter your course. In the Administration section, click Restore. You will be presented with a list of save files. Locate the backup file you made and click on the file name. A dialogue box will open giving you the choice of opening the file or saving it. Choose save and click Ok. Depending on your computer's settings, the backup file will now save as a zip file in the default folder you have designated for Downloads. If you need to use this \"backed up\" backup, you will need to use the Restore option and Upload this zip file first, and you can then complete the Restoration. Good luck. DF",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 5, 2008, 2:40 AM",
          "AuthorName": "Don Fitzmahan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=163923&course=5",
          "role": [
            "Picture of Don Fitzmahan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 228963,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=228963",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup failed on courses with google drive files attached",
          "Text": "Hi, Among courses I have to backup (Moodle 2.4.3) those with Google drive files attached on activities failed with this error: 'Internal Server Error The server encountered an internal error or misconfiguration and was unable to complete your request. Please contact the server administrator, postmaster@moodle1.jeremiecoste.com and inform them of the time the error occurred, and anything you might have done that may have caused the error. More information about this error may be available in the Â server' There is no errorsÂ log through Administration/report/logs I have checked Google drive settings are ok. Is it a usual behavior for activties with files in Google drives ? any advises are welcome Thanks in advance for your answer JÃ©rÃ©mie Coste",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 21, 2013, 4:11 PM",
          "AuthorName": "Jeremie Coste",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1550919&course=5",
          "role": [
            "Picture of Jeremie Coste"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 169773,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=169773",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Auto backups stopped when SSL installed",
          "Text": "I am on a WIndows machine with an Apache server - Moodle 1.9.7 Auto backups (through the Courses in Admin) were working fine until the district operations group installed an SSL certificate. At that time they said they cleaned up some stuff that wasn't being used and they changed the official path from elearning.everett.k12.wa.us to moodle.everett.k12.wa.us since moodle is their official name for the machine. cron.php runs when I invoke it through the URL and individual manual backup work fine. After reviewing documentation and searching the forums I am lost. LIke many I am a teacher trying to do admin work. Any ideas how I can fix this to work again? Or do I have to go through the documentation and figure out how to set up a cron job on the server? Thanks, LauriBeth Hull",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 26, 2011, 12:57 AM",
          "AuthorName": "LauriBeth Hull",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=18116&course=5",
          "role": [
            "Picture of LauriBeth Hull"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Auto backups stopped when SSL installed",
          "Text": "just a though, have you tried running /admin/replace.php to verify the domain transfer was complete?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 28, 2011, 10:09 PM",
          "AuthorName": "Danny Wahl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1039872&course=5",
          "role": [
            "Picture of Danny Wahl"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 258135,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=258135",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course Backups Not Deleting",
          "Text": "We ran into a problem with course backups not deleting in Moodle 2.3.2. We have selected to keep only 1 backup. We saw bug report MDL-33531 and realized the issue started occurring once we had selected \"include course shortname in backup.\" To resolve it we upgraded to Moodle 2.6.2 as it seemed that backups had been significantly improved in the 2.6 version. The existing backups were still not being deleted when course backups ran. We deleted all backups, unchecked \"include course shortname in backup\" and let the backups run again. Backups are still not being deleted and curiously the course shortname is still included in the backup. We checked and the database clearly indicates no shortname is selected. Has anyone run into a similar issue? We are out of ideas at this point. We will either need to turn off course backups entirely or schedule a time each week to delete the old backups before new backups run so they don't build up on the server .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 10, 2014, 9:41 PM",
          "AuthorName": "Janet Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=489721&course=5",
          "role": [
            "Picture of Janet Smith"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 263541,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=263541",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup",
          "Text": "How to take Moodle Full Backup daily using commands in ubuntu server ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 8, 2014, 4:29 PM",
          "AuthorName": "aravind krishna",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1812307&course=5",
          "role": [
            "Picture of aravind krishna"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup",
          "Text": "Does this help? http://docs.moodle.org/27/en/Site_backup Basically 3 parts need backup but maybe not daily (depends upon size of site/how often used/etc).Â  Below examples for a CentOS/RHEL/Fedora flavored boxen - adjust locations for Ubuntu and preferences. 1. code directory (doesn't change daily only when site is updated or upgraded) tar -cvf /home/backup/moodle-code[vr#]-$(date +%Y%m%d%-H%M%S).tar /var/www/html/moodle where [vr#] is the version of moodle. 2. the DB - my sql dump with a date/time stamp in the file name to get daily mysqldump -u root -p'[yourmysqlpassword]' moodle > /home/backup/moodle$(date +%Y%m%d%-H%M%S).sql This could be run from cron job. 3. the data directory (daily could require a dedicated drive/resource for creating a backup as in use of tar.Â  rsync might be a better choice IF space is limited) tar -cvf /home/backup/moodle-data-$(date +%Y%m%d%-H%M%S).tar /var/www/moodledata One could use tar to backup only that which is needed to restore ... moodledata/filedir moodledata/geoip (if using) moodledata/moodleorgca.crt (if using) moodledata/repository (if using) All above should be executed by root user or in your case sudo. Consider the above to be a 'poor man's solution' - and each of the above could be placed into manually created scripts so that busy admin user can quickly 'get 'er done'.Â Â  In /usr/local/bin/ have four scripts owned by root user and executable by root user only: backupcode, backupdb, backupdata, backupall 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 8, 2014, 8:19 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 455173,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=455173",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup activity logging - Delete backup",
          "Text": "Hi All, Just wondering if I'm missing something. When a user creates a manual backup of a course, the logs include that user created a backup. However, when they delete that backup, there appears to be no logging at all. Recently we noticed a couple of course backups vanishing from the system. We have a screenshot of the backup file before it was deleted so we know we're not hallucinating, but we don't know how to find what happened. One of the sysadmins tried querying a few tables, but no joy. I very much doubt it was system initiated, but I need to know which user to educate. 1) Has this happened to anyone else? 2) Is the lack of logs considered a bug? 3) Do you know anywhere else we can look for information within the database ? Thanks Adam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 7, 2024, 5:41 AM",
          "AuthorName": "Adam Barbary",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=939137&course=5",
          "role": [
            "Picture of Adam Barbary"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup activity logging - Delete backup",
          "Text": "I think I can answer my own question. I'm currently on 4.2, it appears that 4.3 is logging the activity. I will just have to await our next upgrade cycle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 7, 2024, 8:36 AM",
          "AuthorName": "Adam Barbary",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=939137&course=5",
          "role": [
            "Picture of Adam Barbary"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 205869,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=205869",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Backup file size mysteriously reduced",
          "Text": "I have been succeffully backing up since I started building my course, and each time the file has been getting larger--as one would expect. It got to 11.6 megs. But then on the following day the file only showed 2.8 megs. Is this something I should be worried about? I haven't changed any of the settings. I'm in 2.2. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 30, 2012, 10:35 PM",
          "AuthorName": "Michael Brady",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1457040&course=5",
          "role": [
            "Picture of Michael Brady"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup file size mysteriously reduced",
          "Text": "Michael, Its possible that the cron script has purged some data from your site. For example, you might have things set to automatically unenroll or delete students after a certain date. Or maybe grades have expired and been purged.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 2, 2012, 12:04 AM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup file size mysteriously reduced",
          "Text": "Doug, I don't think so. I'm a novice, but I'm setting this class up to be used at an unknown time in the future, so we have not done anything with dates yet. All the date settings have been left in the default settings. Mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 2, 2012, 5:00 AM",
          "AuthorName": "Michael Brady",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1457040&course=5",
          "role": [
            "Picture of Michael Brady"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 453034,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=453034",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Automated backups: how to remove all?",
          "Text": "We have had our Moodle on a inhouse hosting, and the automated backup function has made course copies, and witj many teachers reusing their courses, unerolled students haven't taken their assignments with them, all attachments are still there. We moved our server to be hosted elsewhere, and they have a site backup, making the course backup redundant, but we'll pay extra for all those backup files that we can't reach anymore. So my question is: how do I get rid of every automated course backups? Is it by tweaking the backup function to delete old backups, but how preventing it to make new ones? Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 28, 2023, 5:43 PM",
          "AuthorName": "Peter Ahlroos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1913878&course=5",
          "role": [
            "Picture of Peter Ahlroos"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 235323,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=235323",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "error/activity_task_coursemodule_not_found",
          "Text": "Hi all, I tried to backup a course in Moodle 2.0.4 and encountered following message error/activity_task_coursemodule_not_found . Can somebody help me to solve this problem? Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 23, 2013, 3:31 PM",
          "AuthorName": "nilesh k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1466140&course=5",
          "role": [
            "Picture of nilesh k"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: error/activity_task_coursemodule_not_found",
          "Text": "Hi Nilesh Are you using Task chain module https://moodle.org/plugins/view.php?plugin=mod_taskchain before at your site which is now deleted. If Yes, Please install it again and try to backup again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 23, 2013, 5:36 PM",
          "AuthorName": "Sakshi Goel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1403539&course=5",
          "role": [
            "Picture of Sakshi Goel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error/activity_task_coursemodule_not_found",
          "Text": "Hi Sakshi No, I am not using any Task chain moduleÂ module in my moodle course. You have any other solution??? When I enable Debugging. I got following extra info. about above error Stack trace: line 104 of /backup/util/factories/backup_factory.class.php: backup_task_exception thrown line 124 of /backup/moodle2/backup_plan_builder.class.php: call to backup_factory::get_backup_activity_task() line 148 of /backup/moodle2/backup_plan_builder.class.php: call to backup_plan_builder::build_activity_plan() line 169 of /backup/moodle2/backup_plan_builder.class.php: call to backup_plan_builder::build_section_plan() line 93 of /backup/moodle2/backup_plan_builder.class.php: call to backup_plan_builder::build_course_plan() line 163 of /backup/util/factories/backup_factory.class.php: call to backup_plan_builder::build_plan() line 61 of /backup/util/plan/backup_plan.class.php: call to backup_factory::build_plan() line 336 of /backup/controller/backup_controller.class.php: call to backup_plan->build() line 126 of /backup/controller/backup_controller.class.php: call to backup_controller->load_plan() line 82 of /backup/backup.php: call to backup_controller->__construct() Thanks for help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 26, 2013, 1:19 PM",
          "AuthorName": "nilesh k",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1466140&course=5",
          "role": [
            "Picture of nilesh k"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error/activity_task_coursemodule_not_found",
          "Text": "Hi Nilesh Here is something for you http://docs.moodle.org/21/en/error/moodle/activity_task_coursemodule_not_found , exactly the same you are getting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 26, 2013, 2:37 PM",
          "AuthorName": "Sakshi Goel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1403539&course=5",
          "role": [
            "Picture of Sakshi Goel"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 117380,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=117380",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore course to new site",
          "Text": "Can I use the restore course to put a course that I did a backup up to a new Moodle site?Â  Old site to new site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 26, 2009, 5:17 AM",
          "AuthorName": "Larry Jones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=796638&course=5",
          "role": [
            "Picture of Larry Jones"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore course to new site",
          "Text": "Yep, that should work. I've done that in the past: develop a course on one site, create a backup, and have the backup restored on a different site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 26, 2009, 5:45 PM",
          "AuthorName": "Pauline McNamara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=620925&course=5",
          "role": [
            "Picture of Pauline McNamara"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 184061,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=184061",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Migration went wrong",
          "Text": "Hello, Recently I have performed a migration from server to server (not the first one unfortunately) and I: 1. Copied over the database 2. Copied and replaced the moodledata directory. However Even if the resources appear to be there, once I click on a link I get \"File Not Found\" error. I'm using MySQL 5.1.56 , PHP 5 and Moodle version 1.9.13. What can I do to make it work pls?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 25, 2011, 10:49 PM",
          "AuthorName": "William Farrugia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=522357&course=5",
          "role": [
            "Picture of William Farrugia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Migration went wrong",
          "Text": "Did you follow the directions at http://docs.moodle.org/19/en/Moodle_migration? Make sure you updated the config.php file appropriately and ran the admin/replace.php step otherwise many of your relative links may be wrong.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 25, 2011, 11:55 PM",
          "AuthorName": "Stephen Martin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=334681&course=5",
          "role": [
            "Picture of Stephen Martin"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 177822,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=177822",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Backup failing for courses that contain scorm objects (trace included)",
          "Text": "I'm not sure if the problem is specific to our setup. Our Moodle is 2.02, on Windows, IIS , MS- SQL , (ms native driver for php). Courses that contain scorm objects don't get backed up. Oddly, the process just hangs rather than erroring, until it's killed by fastcgi timeouts. Extending the timeout just extends the wait. I've done some work tracing the issue. As far as I can tell, moodle sends a particular query to the mssql server , which just hangs there-- no response, no error, no timeout. The query is sent while the backup process is doing something with the files contained in the scorm object. In the function inÂ  backup_structure_dbops.class.php public static function move_annotations_to_final($backupid, $itemname) { ......lines if (! $DB->record_exists('backup_ids_temp', array('backupid' => $backupid, 'itemname' => $itemname . 'final', 'itemid' => $annotation->itemid))) { *******Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  $DB->set_field('backup_ids_temp', 'itemname', $itemname . 'final', array('id' => $annotation->id)); } } the ***** line is where it hangs. Tracing this execution through set_field_select and do_query shows theÂ query that hangs In do_query (mssql native version) $result = sqlsrv_query($this->sqlsrv, $sql); At this pointÂ $sql=\"UPDATE #mdl_backup_ids_temp SET itemname = N'filefinal' WHERE id = '3'\" Adding a timeout to the sqlsrv_query line allows the process to terminate. In the php_logs I can see Message: [Microsoft][SQL Server Native Client 10.0]Query timeout expired<br> UPDATE #bhi_backup_ids_temp SET itemname = N'filefinal' WHEREÂ id = '3' [array ( 0 => 'filefinal', 1 => '3', Any ideas???",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 21, 2011, 12:02 PM",
          "AuthorName": "Gregor McNish",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=479174&course=5",
          "role": [
            "Picture of Gregor McNish"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup failing for courses that contain scorm objects (trace included)",
          "Text": "Am getting a similar error.Â  Please vote. http://tracker.moodle.org/browse/MDL-28162",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 3, 2011, 4:54 PM",
          "AuthorName": "James Cracknell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=101573&course=5",
          "role": [
            "Picture of James Cracknell"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup failing for courses that contain scorm objects (trace included)",
          "Text": "I've updated to 2.04, now there is no error -- but files aren't being backed up at all. I'm still trying to work out exactly what's going on.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 4, 2011, 3:15 PM",
          "AuthorName": "Gregor McNish",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=479174&course=5",
          "role": [
            "Picture of Gregor McNish"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 198371,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=198371",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Backup cycle lasting more than 24 hours",
          "Text": "I never had particular problems with my course-backups. They started some months ago, and I really have a medium sized site, over 15'500 users and more than 5'000 courses, nearly 600 GB of Moodle-Data, which includes the backup files of every course. I know, I could save 300 GB of Data-Space if I would not create the backup-zip files and deleting them. But it is really simpler to restore a single course if a teacher misses something than rewinding back the whole database and Moodle-Data Directory by a restore from tape. On a dynamic system like Moodle, rewinding back is only good for a complete server loss. I did already three migrations of the Moodle server onto newer hardware, which can be done in the same way you would do to recover the server from a total crash. But I never experienced a total crash. So what I need is the automatic course-backups to restore single files or courses that have been messed up with Word-HTML or even Apple-Mac-HTML-Code, when users simply copy/paste from those programs directly into the HTML-Fields of Moodle. This is quick and does not interfere with the running system. At the moment the backup procedure hangs at the cron-lock and finishes only a few courses at a time, despite max_memory and max_excution time having been risen in php.ini to phantastically high values. As you can see in the open Tracker issue, the problems started when the whole backup cycle began to take/last more than 24 hours: http://tracker.moodle.org/browse/MDL-11309 And at the moment being it lasts forever. An I have no clue why. Any hints? Rosario ( Edited by Visvanath Ratnaweera - original submission Wednesday, 14 March 2012, 06:09 PM Split from the thread \" Cron Execution can last 5+ hours\" http://moodle.org/mod/forum/discuss.php?d=114464 )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 15, 2012, 2:09 AM",
          "AuthorName": "Rosario CarcÃ²",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=77708&course=5",
          "role": [
            "Picture of Rosario CarcÃ²"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup cycle lasting more than 24 hours",
          "Text": "O thanks for moving it here. Rosario",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 15, 2012, 10:25 PM",
          "AuthorName": "Rosario CarcÃ²",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=77708&course=5",
          "role": [
            "Picture of Rosario CarcÃ²"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup cycle lasting more than 24 hours",
          "Text": "Oooh, it took me until this week to SEE where the BUG was. In SLES 11 you have TWO php.ini files, one in /etc/php5/apache2, which was the one I tuned during the last 5 years. Two years ago I had switched from calling Moodle's cron-job via apache to php-command-line. But everything worked fine until last year, when my backups began to last for ever and ever. Despite tuning max_memory and max_executiontime, I ended up with my backups not being finished at all and every backup showing an error. Last week, to my surprise, I entered /etc/php5/cli and saw there was ANOTHER php.ini with installation defaults. So I tuned it with the same values 30 secs and 1024M memory and my backups began to run normally again. 12 hours actually to create backups of 280GB of data. Rosario",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 30, 2012, 10:35 PM",
          "AuthorName": "Rosario CarcÃ²",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=77708&course=5",
          "role": [
            "Picture of Rosario CarcÃ²"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup cycle lasting more than 24 hours",
          "Text": "A week ago I had to change the data disk to offer more space. So I copied the whole data disk after having deleted all the backup-zip-files to gain time/speed for the whole data transfer (300 GB instead of 600 GB). Once the new data disk in place, I started the automated Moodle-Backup and it took only 3 hours. The second one took again more than 12 hours. So I suppose deletion/rotation of the existing zip-files could slow down the whole process. I will repeat the procedure this week deleting all backup-zip-files with a linux shell script, which takes about 10 minutes to complete. Then I will report back. Rosario",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 14, 2012, 7:13 PM",
          "AuthorName": "Rosario CarcÃ²",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=77708&course=5",
          "role": [
            "Picture of Rosario CarcÃ²"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup cycle lasting more than 24 hours",
          "Text": "It definitively takes 12.5 hours, no matter whether I delete the zip-files with the shell. Rosario",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 18, 2012, 5:48 PM",
          "AuthorName": "Rosario CarcÃ²",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=77708&course=5",
          "role": [
            "Picture of Rosario CarcÃ²"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 156629,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=156629",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup File Empty when Downloaded",
          "Text": "I'm using Moodle 1.9.5 and am having trouble with the backup files created. Scenario 2: (Backup without user data) Followed the Backup/Restore FAQ and all worked great. Got the \"backup completed successfully\" message. There is a backup file in Files section that is 10.4mb. Clicked the file to download . When I download zip to my computer it is 0kb. Any idea what is going on here?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 25, 2010, 10:16 AM",
          "AuthorName": "Tim Lyno",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=910006&course=5",
          "role": [
            "Picture of Tim Lyno"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 341343,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=341343",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "automated backup never completing",
          "Text": "Hi all, Has anyone experienced a situation where the automated course backup within Moodle fails to complete? I've begun running it manually using the admin/cli/automated_backups.php script and monitoring the progress in a bid to figure out why its not completing on our Moodle site.Â I should add that we have approximately 16,000 courses on our system. At some point during the process, the above script returns with \"!!! error/backup_check_course_not_exists !!!\". Looking at the code, this error comes from \" ï»¿ backup_check::check_id\", which checks for the existence of the course its about to backup: if (! $DB->record_exists('course', array('id' => $id))) { throw new backup_controller_exception('backup_check_course_not_exists', $id); } I'm a bit puzzled as to how a course that's already been returned earlier from the db can be deemed not to exist later?? Has anyone experienced this problem or similar? Any help would be greatly appreciated. regards, Cathal.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 13, 2016, 11:08 PM",
          "AuthorName": "Cathal O'Riordan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=822607&course=5",
          "role": [
            "Picture of Cathal O'Riordan",
            "Picture of Core developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 460796,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=460796",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Course import not bringing in section titles",
          "Text": "We are finding that with the upgrade to 4.4.1, the section titles, the course descriptions and course image from the course settings is not imported. It used to work in Moodle 3.9.x. Does anyone know of any settings to enable the import of these components?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 3, 2024, 3:56 AM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course import not bringing in section titles",
          "Text": "Hello there. I just wondered if this is connected in any way to MDL-82636 ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 3, 2024, 5:04 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course import not bringing in section titles",
          "Text": "Yes, it is the same issue. It seems like this was closed. It does not make sense, because it creates more work every time you import a new course particularly when most institutions create a new course every term in order to retain the records. Iâ€™m not sure how this is an improvement When itâ€™s worked fine for the past 20 years.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 3, 2024, 5:40 AM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course import not bringing in section titles",
          "Text": "Last sentence above should have been: \"I'm not sure how this is an improvement when it worked fine for the past 20 years\". Another reason not to respond using a mobile device....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 3, 2024, 9:33 AM",
          "AuthorName": "Sali Kaceli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20531&course=5",
          "role": [
            "Picture of Sali Kaceli"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 182834,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=182834",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "White screen of death after restore to 1.9.9",
          "Text": "Hi there, To cut a long story short, after a failed attempt to upgrade to 2.0.2, I chose to pay my website provider to restore a fantastico de lux backup. The restore gave me back my front page , but if I try to login, all I get is a blank white screen. The same thing happens if I press 'login as guest' or 'create new account' Can someone explain how to solve this problem? Look forward to your responses David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 9, 2011, 2:22 PM",
          "AuthorName": "David Leaper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=502141&course=5",
          "role": [
            "Picture of David Leaper"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: White screen of death after restore to 1.9.9",
          "Text": "mm David, is this another issue that is caused by : restore a fantastico de lux backup ? There has been an increasing number of problems with Fantastico recently. If it was Moodle 2 I would think there is an issue with Moodle, but with 1.9.9, nah... it has to be Fantastico. 1. Check the database has been recreate properly 2. FTP into your site and look to see if the code pages have been appropriately restored. 3. Check your config.php file make sure it has eerything where it should be. 4. Copy, via FTP, the backup file to your local machine and restore it there. See if the problem persists. If it does you can handle it much better there than on your server . These things are just for starters. And when you have it running on your local machine then FTP it all to your server, it should work then. I would suggest you not use Fantastico to restore.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 9, 2011, 4:04 PM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: White screen of death after restore to 1.9.9",
          "Text": "Hi Colin, Thanks for your advice. I had no idea there were any issues with fantastico, but as it happened it was the only choice I had. The problem is that your advice assumes that I have more knowledge than I do! I should do the checking by visually comparing the files accessed through the cpanel on my site with the files in a working version of moodle 1.9.9, which I should set up on my hard drive. Is this right? [edit to add: I notice that I can no longer download 1.9.9, is there another place where I can get a look at this version's innards? ] 1. where do I find the database? I've just had a quick look at the files via theÂ  site's cpanel, and there is no specific folder off the main directory called 'database' - could you let me know which folder it is in? 2. Where are the 'code pages', and would I know if they are 'appropriately restored' by comparison with a working version of moodle 1.9.9? 3. I've found config.php, but how do I find out if everything is indeed where it should be? Sorry for my ignorance! David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 9, 2011, 5:35 PM",
          "AuthorName": "David Leaper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=502141&course=5",
          "role": [
            "Picture of David Leaper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: White screen of death after restore to 1.9.9",
          "Text": "Ahh sorry, I have just been berating others for exactly that sin..duh!!!! cPanel has in it somewhere a phpMyAdmin and if you open that, it should allow you access to the database you are using for Moodle.There should be a list of accessible databases, so click on Moodle. (If you only have one db then it might just open in it.) The tables are down the left side and a second listing showing some more information about them is on the right. Check that the Type collumn is InnoDB and the Collation collumn reads utf8_general_ci, these are usualy the 5th and 6th collumns btw . Fantastico has been changing the collation to something wierd like latin1_swedish_ci. Scroll to the bottom of that page, and it should tell you that there is 198 tables or so. There should be about 260+ tables for Moodle 2 so if you have more than 200 tables then it is likely that Fantastico has made a mess of it. The chances of a safe rcovery have dropped considerably, unfortunately, if this is the case. If it is just the collation, then it can be changed, but how depends on what restrictions are placed on you as the admin. If you have full permissions then you can go to the Database page then to the SQL tab. In the dialog box enter this code: say database name =\"moodle\" ALTER DATABASE 'moodle' DEFAULT CHARACTER SET utf-8_unicode_ci; Then press Go. That should work, I emphasise should as my SQL is a little rusty but if you want further help, the MySQL help file will do it. Btw, this cannot be done inside the database, apparently it is some kind of security restriction or some such so it has to be done in the database page. I am not sure how to get around that problem, but your host could tell you. The config.php file is a little easier. Open it in a text editor, but not Windows Notepad or WordPad, in something like Notepad++. You need to look for lines that read: $CFG-> wwwroot = ' http://xxx.xxx.xxx.xxx/moodle' ; $CFG-> dirroot = 'Drive:/server/path/to/your/moodle'; $CFG-> dataroot = 'Drive:/server/path/toyour/moodledata'; Differnet servers use different slashes, so do not edit them. Also, the dirroot may read something like $CFG->dirrootÂ Â  = userpathÂ  +'/to/your/moodle'; but if this is the one then there will be a declaration like this in the config.php file. $CFG->userpath = 'some/thing/here' There are a number of variations here. If these are not right then you need to edit these to show the path and appropriate ip address. Sorry, that is all for now, I gotta get back to work.. cheers..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 9, 2011, 7:17 PM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: White screen of death after restore to 1.9.9",
          "Text": "Thanks Colin, much appreciated. \"The chances of a safe rcovery have dropped considerably, unfortunately, if this is the case\" I got them to restore moodle a second time after the first time, so I have two databases to look at. First one Type: 'MylSAM'Â Â  Collation: 'latin1_swedish_ci'Â  Tables: 213 Second one Type: 'MylSAM'Â Â  Collation: 'utf8_general_ci'Â  Tables: 253 - so at least the second one has the right collation, but as can be inferred from your post this is the least of the problems. Any solutions for the 'InnoDB' and table problems? Or am I well and truly munted? I also had a squiz at the config file, and they seem to be in order, although they were both exactly the same, meaning that the second restore paths pointed to the first restore's files. After editing them I tried to start up moodle, but instead of the white screen of death I got \" \"Error: Database connection failed. It is possible that the database is overloaded or otherwise not running properly. The site administrator should also check that the database details have been correctly specified in config.php\" - so if triggering an error message is progress, then progress I have made. On the other hand, if both databases have been screwed up then it matters not a jot. - actually the only thing I really want to save are the quizzes from moodle 1.9.9, and some artwork. Do you know if it is possible just to port these over to a fresh installation of moodle 2? Really, I'm afraid time is at a premium with the new semester approaching and several other deadlines. If its quicker to port over the modules that I want saved, I will happily do that. Again thanks for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 10, 2011, 9:49 AM",
          "AuthorName": "David Leaper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=502141&course=5",
          "role": [
            "Picture of David Leaper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: White screen of death after restore to 1.9.9",
          "Text": "Sorry for the delay,, but rebuilding and changing systems here, been a little busy. mm I am not sure that the InnoDB or MyISAM is that much of an issue any more, it used to be, but I think that recent versions have not made as much distinction. Pretty much a host thing anyway determined at setup, and my recall is that the InnoDB is a little faster and handles larger queries better but MyISAM is more for db development. Perhaps it is 6 of one and half dozen of the other. The main issue is that the first database, of 213 tables is likely to be the one you need to connect to. The second is more likely to be the Moodle 2 db and that is the one that the config.php file would be trying to connect to I would suspect. It is not working because the calls to the database are different in Moodle 2 than they were in v1.9.x, but if you have the database then there is life yet. I was looking at phpMyAdmin yesterday and found it is a lot more flexible than it used to be and can save files that were previously lost. Now you can open the smaller database and back up the data only or the whole database, using the Operations tab.Â  Go through the output format options carefully and you can reformat it to a utf8_general_ci charset. If you do not want to try that, just backup the data, create a new database and populate it with the backed up data - but be aware that the database you are restoring data to has to have some generated tables so I would suggest do both data only and entire database. In v1.9.9 if you have your moodledata folder then you have all the images and if all you really need are the quizzes, then you may want to try using the Operations tab to backup just the question tables and when you have your new install up, restore them. Good luck...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 11, 2011, 5:14 AM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: White screen of death after restore to 1.9.9",
          "Text": "Thanks for the advice again, Colin. I've pretty much given up on the old moodle, and am currently setting up a 2.0.2 site. That just leaves me with one question: Is it possible to migrate my old test questions from 1.9.9 to 2.0.2? I'm guessing that if it is possible, its probably not easy... Cheers David",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 11, 2011, 4:32 PM",
          "AuthorName": "David Leaper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=502141&course=5",
          "role": [
            "Picture of David Leaper"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 204026,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=204026",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore course gives me a role mapping error",
          "Text": "Hello, When i backup and restore a course from one server to another it gives me an error abour role mapping, anyone can help me please?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 3, 2012, 5:09 AM",
          "AuthorName": "zeca esteves",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1458460&course=5",
          "role": [
            "Picture of zeca esteves"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore course gives me a role mapping error",
          "Text": "A little more information might be required to assist ... from what version of Moodle to what version of Moodle (1.8 to a 2.x, 1.9 to a 1.9, 1.9 to a 2.x, 2.0 to a 2.2.x)?Â  Is it a problem with a single course or all courses? A suggestion:Â  if single course and on a 1.9, check the course for special roles for the course, roles that have overrides, or roles such as Administrator.Â  In the step for backing up a 1.9.x that shows what roles to include in the backup, un-check them all.Â  If backing up a 1.9 version and restoring to a 2.x, the roles are not included in the restore due to the differences in roles between versions.Â  Then try the restore again. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 3, 2012, 11:54 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 114473,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=114473",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Importing course from zip file over 300mb",
          "Text": "Hi I work for a publisher and we've started providing VLE cartridges for institutions. I've had a couple of users get in touch as they're having problems importing our cartridges from the zip file. I noticed on here that there's a lot of discussion about file sizes and wondered whether that was the problem as some of our zip files are over 300mb. Have any of you successfully imported a course of this size from a zip file? Thanks Sarah",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 21, 2009, 9:04 PM",
          "AuthorName": "Sarah Brett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=770163&course=5",
          "role": [
            "Picture of Sarah Brett"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Importing course from zip file over 300mb",
          "Text": "I'd say for that I'd ftp it up into the appropriate folder.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 21, 2009, 9:33 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Importing course from zip file over 300mb",
          "Text": "I've seen a lot of references to using ftp to manage larger files but I'm not clear on how you do that. We have an FTP site but I'm not sure how I would get to it from the 'browse/ upload file' window. Apologies if this is a very stupid/complicated question!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 21, 2009, 10:33 PM",
          "AuthorName": "Sarah Brett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=770163&course=5",
          "role": [
            "Picture of Sarah Brett"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Importing course from zip file over 300mb",
          "Text": "In the web file structure put it into upload data where you are movingÂ the file to but the server it is going on will need -1 process time outs to complete a restoration on 300 meg",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 27, 2009, 1:00 PM",
          "AuthorName": "E. L. Cooper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=548038&course=5",
          "role": [
            "Picture of E. L. Cooper"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 195473,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=195473",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Block conversion from 1.9 to 2.x",
          "Text": "When will it possible to restore blocks from moodle 1.9 backup in Moodle 2.x? Is there any API i can work with or the 1.9 conversion handler is not ready yet to handle blocks?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 6, 2012, 7:35 PM",
          "AuthorName": "TÃµnis Tartes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1006015&course=5",
          "role": [
            "Picture of TÃµnis Tartes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 181965,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=181965",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "How to archive courses?",
          "Text": "The number of courses are growing in our Moodle site. We want to know how do other people archive them. We know the backup feature. It produces a zip file and it can be stored offline. We all a way to archive the courses and to be able to access them at anytime.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 26, 2011, 11:41 PM",
          "AuthorName": "Herbert Lui",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1124275&course=5",
          "role": [
            "Picture of Herbert Lui"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to archive courses?",
          "Text": "If you want them off the main system, but still readily available without having to restore from a backup, you'll need a second Moodle instance that serves as an archive server . Â You can backup the archived courses on the main server then restore them on your archive server. Â Once restored on the archive server, delete them from the primary server. Otherwise, you can create a repository of the zipped backup archives and then restore them as need for access.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 27, 2011, 12:47 AM",
          "AuthorName": "Stephen Martin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=334681&course=5",
          "role": [
            "Picture of Stephen Martin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to archive courses?",
          "Text": "Try this..........,,,, http://moodle.org/mod/forum/discuss.php?d=182184",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 29, 2011, 2:45 PM",
          "AuthorName": "Swisstac Bravin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1302781&course=5",
          "role": [
            "Picture of Swisstac Bravin"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 11239,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=11239",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Cannot modify header information - headers already sent by",
          "Text": "Hi, I have the error message after I restored the courses on a new moodle site (version 1.3.3+) with the backup copied from another moodle site (same version). The new moodle site was created fresh without any contents before I restored the courses. Error messages: Warning : Cannot modify header information - headers already sent by (output started at /home/myaccount/public_html/moodle/config.php:188) in /home/myaccount/public_html/moodle/file.php on line 58 Warning : Cannot modify header information - headers already sent by (output started at /home/myaccount/public_html/moodle/config.php:188) in /home/myaccount/public_html/moodle/file.php on line 59 Warning : Cannot modify header information - headers already sent by (output started at /home/myaccount/public_html/moodle/config.php:188) in /home/myaccount/public_html/moodle/file.php on line 60 Warning : Cannot modify header information - headers already sent by (output started at /home/myaccount/public_html/moodle/config.php:188) in /home/myaccount/public_html/moodle/file.php on line 61 Warning : Cannot modify header information - headers already sent by (output started at /home/myaccount/public_html/moodle/config.php:188) in /home/myaccount/public_html/moodle/file.php on line 62 Warning : Cannot modify header information - headers already sent by (output started at /home/myaccount/public_html/moodle/config.php:188) in /home/myaccount/public_html/moodle/file.php on line 86 Warning : Cannot modify header information - headers already sent by (output started at /home/myaccount/public_html/moodle/config.php:188) in /home/myaccount/public_html/moodle/file.php on line 87 The codes referred to in the above messages: // file.php/courseid/dir/.../dir/filename.ext header ( \"Last-Modified: \" . gmdate ( \"D, d M Y H:i:s\" , $lastmodified ) . \" GMT\" ); header ( \"Expires: \" . gmdate ( \"D, d M Y H:i:s\" , time () + $CFG ->filelifetime) . \" GMT\" ); header ( \" Cache -control: max_age = $CFG ->filelifetime\" ); header ( \"Pragma: \" ); header ( \"Content-disposition: inline; filename= $filename \" ); header ( \"Content-length: \" . filesize ( $pathname )); header ( \"Content-type: $mimetype \" ); Any suggestions to correct this error?Â  Or what is the effective way of duplicating a moodle site? Regards Tak",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 18, 2004, 8:14 PM",
          "AuthorName": "Tak Lee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=15223&course=5",
          "role": [
            "Picture of Tak Lee"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cannot modify header information - headers already sent by",
          "Text": "This is usually caused by blank lines in your Moodle config.php file.Â  Sometimes it is caused by blank lines in your custom theme config.php file.Â  You can use my script at https://webwork2.math.ohio-state.edu/configcheck.php to track down the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 18, 2004, 8:50 PM",
          "AuthorName": "Zbigniew Fiedorowicz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2466&course=5",
          "role": [
            "Picture of Zbigniew Fiedorowicz"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cannot modify header information - headers already sent by",
          "Text": "Zbigniew, I re-installed the config.php and now all is working fine.Â  Thanks aÂ lot. Tak",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 19, 2004, 6:30 AM",
          "AuthorName": "Tak Lee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=15223&course=5",
          "role": [
            "Picture of Tak Lee"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 137095,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=137095",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Restore stops after Unzipping backup",
          "Text": "No error message, just nothing else happens. I'm taking a backup made on MAMP w/ 1.9.5+ and trying to restore to 1.9.5+ on a server . I probably should just go back to writing textbooks, as I've never written a line of code before, or even posted to any forum in my life, but I thought I'd just drop a line here in hopes there's something obvious I'm missing. Thanks for any hints.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 5, 2009, 4:11 AM",
          "AuthorName": "Walter Atchison",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1026447&course=5",
          "role": [
            "Picture of Walter Atchison"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore stops after Unzipping backup",
          "Text": "the versions are very picky. If you don't have the exactly version and not just by release but the same weekly one, you will encounter problems. I had 2 1.9.2 versions but one was 1 week after and the restore failed too. If you have the original .tgz file, use the same for both",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 5, 2009, 6:27 AM",
          "AuthorName": "HJWUCGA INC.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=224807&course=5",
          "role": [
            "Picture of HJWUCGA INC."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore stops after Unzipping backup",
          "Text": "Hi Walter, Attempting to restore a course to an older version of Moodle than the one the course was backed up on can result in the restore process failing to complete (source: Backup and restore FAQ ), however 1.9.5 to 1.9.5 should be no problem at all. Christopher, I've never heard of different weekly builds within the same version causing a problem before. To help diagnose the problem, turn on Debugging then try searching moodle.org for the error message you obtain. Please post back here with your findings.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 6, 2009, 4:07 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 427506,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427506",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "restore error (delete contents of  this course then restore)",
          "Text": "Hi All, Moodle Version 3.9. Hoping for some guidance. Recently did a backup of a course and I am trying to use the option to 'Delete the contents of this course and restore'. I am using the same course format on each course. Left enrolled users out. As soon as I start this process, I get the following error: Default exception handler: Coding error detected, it must be fixed by a programmer: The theme has already been set up for this page ready for output. Therefore, you can no longer change the theme, or anything that might affect what the current theme is, for example, the course. Debug: Stack trace when the theme was set up: <ul style=\"text-align: left\" data-rel=\"backtrace\"><li>line 687 of \\lib\\pagelib.php: call to moodle_page->initialise_theme_and_output()</li><li>line 874 of \\lib\\pagelib.php: call to moodle_page->magic_get_theme()</li><li>line 69 of \\backup\\restore.php: call to moodle_page->get_renderer()</li></ul> Error code: codingerror * line 1921 of \\lib\\pagelib.php: coding_exception thrown * line 1011 of \\lib\\pagelib.php: call to moodle_page->ensure_theme_not_set() * line 3042 of \\lib\\moodlelib.php: call to moodle_page->set_course() * line 3157 of \\lib\\moodlelib.php: call to require_login() * line 435 of \\h5p\\classes\\api.php: call to require_course_login() * line 196 of \\h5p\\classes\\api.php: call to core_h5p\\api::get_pluginfile_hash() * line 340 of \\h5p\\classes\\api.php: call to core_h5p\\api::get_content_from_pluginfile_url() * line 53 of \\contentbank\\contenttype\\h5p\\classes\\contenttype.php: call to core_h5p\\api::delete_content_from_pluginfile_url() * line 269 of \\contentbank\\classes\\contentbank.php: call to contenttype_h5p\\contenttype->delete_content() * line 5352 of \\lib\\moodlelib.php: call to core_contentbank\\contentbank->delete_contents() * line 1843 of \\backup\\util\\dbops\\restore_dbops.class.php: call to remove_course_contents() * line 372 of \\backup\\controller\\restore_controller.class.php: call to restore_dbops::delete_course_content() * line 219 of \\backup\\util\\ui\\restore_ui.class.php: call to restore_controller->execute_plan() * line 143 of \\backup\\restore.php: call to restore_ui->execute() Changes have been made to the original bootstrap theme (colour, logo) by previous admin\\developer (I am not a programmer\\developer) so I don't know if this plays a part? But the course is going from same category to same category. I have tried found out more about this error but I am drawing a blank. Any insight would be appreciated. Many thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 30, 2021, 5:19 PM",
          "AuthorName": "george williams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2143930&course=5",
          "role": [
            "Picture of george williams"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 140071,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=140071",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Automated/scheduled backup on 1.9.7",
          "Text": "Hi, We are using the automated/scheduled backup daily on our Moodle 1.9.5. Users and user files are selected thus to be included in the backup. When we restore the courses of the previous day with the userdata selected, users and their files were not restored to the course. We are facing this problem since we moved to 1.9.x and we read that this bug was fixed in 1.9.5 but unfortunately not. Please correct me if I am wrong. We installed 1.9.7 on a testing environment and tested the automated backup and the problem continues. Appreciate your help as usual! Wissam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 16, 2009, 3:24 PM",
          "AuthorName": "Wissam Nahas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=110723&course=5",
          "role": [
            "Picture of Wissam Nahas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Automated/scheduled backup on 1.9.7",
          "Text": "Hello Wissam We are having the same problem and i wondered if you had resolved it? We are on 1.9.5 Cheers Stephen",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 9, 2010, 10:11 PM",
          "AuthorName": "Stephen Catton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=85025&course=5",
          "role": [
            "Picture of Stephen Catton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 165705,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=165705",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "/moodledata/trashdir needed in serverbackup?",
          "Text": "Hello backup-experts! I do not only backup my courses but most of the content of my htdoc dir on my server plus mysql dumps every night. In Moodle Version 1.9.x I excluded some directories in /moodledata (e.g. tmp) to keep this sort of backup small. I am now wondering if I can exclude ï»¿/moodledata/trashdir too. Or, to phrase the question differently: Is /moodle + /moodledata without trashdir + the my sql dump enough to restore a Moodle 2 installation after a server-crash? What is the trashdir directory in moodledata good for anyway (the \"funny\" Moodle 2 filenames make it hard to guess)? Thank you very much, Dirk",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 6, 2011, 2:18 PM",
          "AuthorName": "Dirk Weller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=12383&course=5",
          "role": [
            "Picture of Dirk Weller"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: /moodledata/trashdir needed in serverbackup?",
          "Text": "I have now excluded some directories inside /moodledata in order to minimize the file size of my server based backup with backup2l / rsync. I simply took a shot at excluding trashdir, but haven't tested a restore yet. I assumed that excluding this directory would shrink the amount of data my scripts are collecting every night - but this is not so. To me it looks like Moodle 2 is constantly changing timestamps (or filenames - who knows) on files that have been uploaded long ago when cron is \"walking\" through the moodledata directory. If that is true and can be confirmed any try to incrementally backup Moodle installations using a mysql dump and the content of moodledata would not work. Does anyone know a little more? Dirk",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 14, 2011, 4:30 PM",
          "AuthorName": "Dirk Weller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=12383&course=5",
          "role": [
            "Picture of Dirk Weller"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 114863,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=114863",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restore stops at Unzipping file",
          "Text": "I have tried restoring a course which 541 MB in moodle 1.9.3. The restore process stops at Unzipping Backup. I have tried some options from the community but that does not help. Does this problem has somethign to do with zip and unzip paths in moodle?? Please help ....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 27, 2009, 9:10 PM",
          "AuthorName": "smrithi puli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=574452&course=5",
          "role": [
            "Picture of smrithi puli"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 396444,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=396444",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Automatic Backup Override for a Single Course",
          "Text": "We have automatic backups of courses set up on our site but have a handful of courses that we would like to flag as \"do not back these courses up at all.\" Is there any sort of override that can be set on individual courses to prevent them from being automatically backed up? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 30, 2020, 11:41 PM",
          "AuthorName": "Darren Foulds",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1180083&course=5",
          "role": [
            "Picture of Darren Foulds"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Automatic Backup Override for a Single Course",
          "Text": "Hi Darren, You can read this related discussion and look at MDL-60296 (and vote, comment). HTH , SÃ©verin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 4, 2020, 6:08 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 36316,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=36316",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Shifting site to a new domain and hosting provider",
          "Text": "What is the best way to prepare for the possibility of a total shift of the site to a new domain ?Â  Would the course backup option with all check boxes ticked be adequate?Â  If a backup was done just before final shutdown, and thenÂ the same moodle source file set wasÂ uploaded to the new site, and a new mysql database created, is a restore then likely to fully restore the site?Â  Is there a better way?Â  Your assistance is appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2005, 4:27 AM",
          "AuthorName": "Wayne McConnachie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97048&course=5",
          "role": [
            "Picture of Wayne McConnachie"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Shifting site to a new domain and hosting provider",
          "Text": "In addition to your moodle course backup, make a backup of your my sql database. Saludos. IÃ±aki.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2005, 5:37 AM",
          "AuthorName": "IÃ±aki Arenaza",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=68632&course=5",
          "role": [
            "Picture of IÃ±aki Arenaza",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 187901,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=187901",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Course module id was incorrect and the required instance of this module doesn't exist",
          "Text": "We are running Windows 2003 and Moodle 1.9. We are trying to migrate Moodle to a new server to check site backups and test restoring the site. Both sets have been builtÂ identically.Â We follow the steps below and also change the URL from the original in the database using the replace.php. 1. Backup existing moodle root directory (/moodle by default). 2. Backup existing moodle data directory (/moodledata by default). 3. Dump existing MySQL database to . sql file. 4. Restore moodle root directory on Win2003 server. 5. Restore moodle data directory on Win2003 6. Import .sql file in new MySQL instance. It seems the site restores fine until we try to open documents (Word, PowerPoint etc) and it comes up with the following message: \"Course Module ID was incorrect\" When we try to edit the file we get the following message: \"The required instance of this module doesn't exist\" We have spent a lot of time searching for help but are still struggling. Neither myself orÂ our techie are experts with this and any help would be greatly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 12, 2011, 4:39 PM",
          "AuthorName": "Malachy McGrogan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1100237&course=5",
          "role": [
            "Picture of Malachy McGrogan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course module id was incorrect and the required instance of this module doesn't exist",
          "Text": "Malachy I had a similar problem, with images not displaying when we move a 2.1 site. After double checking, the moodledata/filedir had not fully been copied, and hence was not referencing the files. So maybe check that all the \"encrypted files\" are there.Â  There are no longer actual files, but a binary reference instead. Cheers Richard Wallace",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 13, 2011, 6:06 AM",
          "AuthorName": "Richard Wallace",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1212465&course=5",
          "role": [
            "Picture of Richard Wallace"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course module id was incorrect and the required instance of this module doesn't exist",
          "Text": "Richard, thanks for the reply. I've checked the filedir folder on both sets. The production server does not haveÂ a filedir folder. The test server has a filedir folder but it is empty (apart from a text file named 'warning'. Should I have the filedir folder on the production server and if so do you know how this is generated? Thanks. Malachy",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 13, 2011, 7:44 PM",
          "AuthorName": "Malachy McGrogan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1100237&course=5",
          "role": [
            "Picture of Malachy McGrogan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course module id was incorrect and the required instance of this module doesn't exist",
          "Text": "Malachy Sorry, to be more specific, I changed the URL and location of a 2.1 site to a 2.1 site and had similar issues. In 1.9 there was not a filedir folder, just folders with numbers according to the course ID. In 2.1 it has all been changed (for the better) so that files are referenced through the database. Have you tried just backing up each course and then manually restoring it in the new 2.1 site.Â  Does that work? as a test Cheers Richard",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 14, 2011, 5:15 AM",
          "AuthorName": "Richard Wallace",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1212465&course=5",
          "role": [
            "Picture of Richard Wallace"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 207309,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=207309",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Backup Restore fails for courses from clean 2.3.1+ to 2.3.1+ (upgraded from 1.9)",
          "Text": "Hi folks Am failing at the last step of restoring a course from a clean install of 2.3.1+ to an upgraded 2.3.1 (from 1.9, originally 1.6, 1.5...) with following error. Debug info: Unknown column 't.intro' in 'field list' SELECT t.id, t.intro FROM mdl_book t JOIN mdl_backup_ids_temp b ON b.newitemid = t.id WHERE b.backupid = ? AND b.itemname = ? [array ( 0 => '7322fc020187cfd8d29fe153d693f88f', 1 => 'book', )] Error code: dmlreadexception Stack trace: line 407 of /lib/dml/moodle_database.php: dml_read_exception thrown line 822 of /lib/dml/my sql i_native_moodle_database.php: call to moodle_database->query_end() line 103 of /backup/util/helper/restore_decode_content.class.php: call to mysqli_native_moodle_database->get_recordset_sql() line 72 of /backup/util/helper/restore_decode_content.class.php: call to restore_decode_content->get_iterator() line 81 of /backup/util/helper/restore_decode_processor.class.php: call to restore_decode_content->process() line 424 of /backup/moodle2/restore_stepslib.php: call to restore_decode_processor->execute() line 34 of /backup/util/plan/restore_execution_step.class.php: call to restore_decode_interlinks->define_execution() line 153 of /backup/util/plan/base_task.class.php: call to restore_execution_step->execute() line 163 of /backup/util/plan/base_plan.class.php: call to base_task->execute() line 157 of /backup/util/plan/restore_plan.class.php: call to base_plan->execute() line 315 of /backup/controller/restore_controller.class.php: call to restore_plan->execute() line 147 of /backup/util/ui/restore_ui.class.php: call to restore_controller->execute_plan() line 46 of /backup/restore.php: call to restore_ui->execute() Presumably a database inconsistency In mdl_book?) due to the upgrade route. Any suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 18, 2012, 10:50 PM",
          "AuthorName": "Geoffrey Rowland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6805&course=5",
          "role": [
            "Picture of Geoffrey Rowland"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup Restore fails for courses from clean 2.3.1+ to 2.3.1+ (upgraded from 1.9)",
          "Text": "Now solved. Actually, the debug was very informative, but in case it helps anyone else. A quick comparison of the mdl_book table of each instance using phpMyAdmin showed that the intro field (column) was missing from the upgraded version. As we only had one or two earlier uses of the book module (and we have an archive 1.9 site with these on), I simply deleted it from the Moodle Manage activities Admin interface, then let it reinstall from the Notifications link to give the new mdl_book table with an intro field. Now courses, from the otherÂ Â 2.3.1 instance, restore fine.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 18, 2012, 11:18 PM",
          "AuthorName": "Geoffrey Rowland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6805&course=5",
          "role": [
            "Picture of Geoffrey Rowland"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup Restore fails for courses from clean 2.3.1+ to 2.3.1+ (upgraded from 1.9)",
          "Text": "I confirm this problem (mod_book upgrade that fails to add the \"intro\" field); is there a bug opened ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 13, 2012, 8:29 PM",
          "AuthorName": "Didier Raboud",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1464337&course=5",
          "role": [
            "Picture of Didier Raboud"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 147077,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=147077",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup and restore does not keep all settings",
          "Text": "Hi Ron, This sounds like bug MDL-21045 which has just been fixed in Moodle 1.9.8. Are you able to upgrade your site to obtain the fix?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 31, 2010, 11:22 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup and restore does not keep all settings",
          "Text": "Hmm, I agree that your 1.9.7+ 20100208 version should include the fix. Thus, if you're still experiencing problems, please do as Eloy suggests in MDL-21045 i.e. create a new tracker issue for it. (You'll need to create a tracker account in order to create an issue.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 2, 2010, 10:36 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 456270,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=456270",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "course backup does not end",
          "Text": "Hello! I have tried to make a backup copy of a Moodle course but it remains in \"perform backup\" at 98% and never finishes making the copy and then proceeds to restore the course. Can someone help me please? I need to make a copy of this course to later hide it from users and be able to perform my tests. I have been working with Moodle for a very short time, I am alone in this. NOTE: When trying to create a copy of the course with the \"copy course\" option I could not make the copy either since it remained with \"status\" = \"pending process\" Thank you. MarÃ­a.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 5, 2024, 7:32 PM",
          "AuthorName": "Maria Carrasco",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6037370&course=5",
          "role": [
            "Picture of Maria Carrasco"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re:  course backup does not end",
          "Text": "Hello again I have tried for the second time to make a backup copy of the course but this time unchecking contents to copy to see if it will let me finish the backup copy. Now it gives me the following error: error/cannot_create_directory. According to what I have read it may be due to lack of disk space. But it refers to lack of space on the Moodle server ? What can I do? Can someone help me please? NOTE: At the moment I only have one user with manager and tutor permissions. Moodle version 3.11.6 Thank you. MarÃ­a",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 5, 2024, 9:50 PM",
          "AuthorName": "Maria Carrasco",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6037370&course=5",
          "role": [
            "Picture of Maria Carrasco"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  course backup does not end",
          "Text": "When I click \"continue\" it gives me the following error: session participation is complete. At first it didn't let me access the Moodle site, which is also in production. Can someone help me please? Thanks. MarÃ­a",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 5, 2024, 10:20 PM",
          "AuthorName": "Maria Carrasco",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6037370&course=5",
          "role": [
            "Picture of Maria Carrasco"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re:  course backup does not end",
          "Text": "The message: \"error/cannot_create_directory.\" may indicate that Moodle may not have rights to write in the folder. If you have access to the server I'd review that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 8, 2024, 5:53 PM",
          "AuthorName": "Miguel Angel de Pablo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5468883&course=5",
          "role": [
            "Picture of Miguel Angel de Pablo"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 196973,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=196973",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restored Back-up...Now My Site is Not Working",
          "Text": "Hi All, I am running an older version of Moodle, not sure what version exactly, but I have not updated in a while. I was trying to update via fantastico on my webserver. I ran into some issues, and decided to restore the old site by following the instructions I received via fantastico. \"If you don't have SSH access, ask support to help you: - delete all the files listed in /home/hemofhis/public_html/school/fantastico_fileslist.txt - delete /home/hemofhis/public_html/school/fantastico_fileslist.txt - Untar /home1/hemofhis/fantastico_backups/.backup.1330028742.tgz - Empty the database hemofhis_mdle2 - Import the file /home1/hemofhis/fantastico_backups//backup. sql into the database hemofhis_mdle2 - Move /home1/hemofhis/fantastico_backups/ to /home/hemofhis/public_html/school\" Now that I have done this I have the following issues I've noticed thus far: The site looks fine when you first get to it. But, once I log in, I only have my list of course catagories. The rest of the page is totally blank. I do not even have my admin links on the side. Once students log in, they get a totally blank page. If I click on a course catagory, all of my courses are still there and function properly. But, If I click on Turn Editing on, I get a totally blank page. So, as it stand, none of my students can get to any of thei class information because once they log in, all they get is a blank page. And, I can not get to any of the admin settings because they too give me a blank page. Any idea what broke in the backup restore process? Thanks in advance for your help. I did this via fantastico on my webserver.fol",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 25, 2012, 6:09 AM",
          "AuthorName": "Ameerah Lewis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=561478&course=5",
          "role": [
            "Picture of Ameerah Lewis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restored Back-up...Now My Site is Not Working",
          "Text": "Hi Since nobody answered I take a shot, I must say that I have no idea of \"fantastico\". > I am running an older version of Moodle, not sure what version exactly, but I have not updated in a while. I was trying to update via fantastico on my webserver. I ran into some issues, If you don't know from which version, to which version, what fantastico does, what is the underlying system, you can be happy that there were only _some_ problems!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 27, 2012, 10:53 PM",
          "AuthorName": "Visvanath Ratnaweera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41095&course=5",
          "role": [
            "Picture of Visvanath Ratnaweera",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 189738,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=189738",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore from Moodle 1 course error",
          "Text": "Moodle ver: 2.1.1+ (Build: 20110928) Mysql 5.0.49 ce I've successfully restored other Moodle 1 courses onto this instance, but Im having an issue with one course that I cannot trace. Here is the debug (two errors): Debug info: My SQL server has gone away INSERT INTO mdl_backup_controllers (backupid,operation,type,itemid,format,interactive,purpose,userid,status,execution,executiontime,checksum,controller,timecreated,timemodified) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) [array ( 0 => '21b417d8b9acb505f9acec5556e74108', 1 => 'restore', 2 => 'course', 3 => 348, 4 => 'moodle2', 5 => 1, 6 => 10, 7 => '2', 8 => 500,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 5, 2011, 7:41 AM",
          "AuthorName": "Ahmad Hammado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1393029&course=5",
          "role": [
            "Picture of Ahmad Hammado"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore from Moodle 1 course error",
          "Text": "Resolved by increasing max packet length in mysql. thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 10, 2011, 12:54 AM",
          "AuthorName": "Ahmad Hammado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1393029&course=5",
          "role": [
            "Picture of Ahmad Hammado"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 436156,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=436156",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Error writing to database",
          "Text": "I\"m restoring courses into a new server with a fresh install of Moodle: Windows Server Added SSL Certificate for new server. Moodle 3.11.6+ (Build: 20220329) mysql (8.0.28) PHP 7.4.10 Everything was working fine until I got to one of my teacher's courses and they all threw the \"Error writing to database \" error with the following: Debug info: My SQL server has gone away INSERT INTO mdl_backup_controllers (backupid,operation,type,itemid,format,interactive,purpose,userid,status,execution,executiontime,checksum,controller,timecreated,timemodified) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) [array ( 0 => '6da88cfd9d11a4a5586611d789b17cd1', 1 => 'restore', 2 => 'course', 3 => 52, More info from the PHP Error log file: [07-Jul-2022 07:53:39 America/Chicago] instantiating restore controller 6da88cfd9d11a4a5586611d789b17cd1 [07-Jul-2022 07:53:39 America/Chicago] setting controller status to 100 [07-Jul-2022 07:53:39 America/Chicago] loading backup info [07-Jul-2022 07:53:39 America/Chicago] loading controller plan [07-Jul-2022 07:53:39 America/Chicago] setting controller status to 300 [07-Jul-2022 07:53:39 America/Chicago] applying restore defaults [07-Jul-2022 07:53:39 America/Chicago] Unknown setting: questionbank [07-Jul-2022 07:53:39 America/Chicago] setting controller status to 400 [07-Jul-2022 07:53:39 America/Chicago] checking plan security [07-Jul-2022 07:53:39 America/Chicago] setting controller status to 500 [07-Jul-2022 07:53:39 America/Chicago] checking plan security [07-Jul-2022 07:53:39 America/Chicago] checking plan security [07-Jul-2022 07:53:39 America/Chicago] checking plan security [07-Jul-2022 07:53:39 America/Chicago] saving controller to db [07-Jul-2022 07:53:39 America/Chicago] calculating controller checksum 8b30a6699b12b826fd4caa411c79927e [07-Jul-2022 07:53:39 America/Chicago] Default exception handler: Error writing to database Debug: MySQL server has gone away which is followed by the above info. I thought this might be an upgrade issue but when I tried to restore one of the same backups on the original server: Windows Server NO SSL Certificate Moodle 3.11+ (Build: 20210611) mysql 5.7.34 php 7.4.10 I received the same exact error with exception of identifying character strings, 0 =>, 11 =>, & 12 => from above. I looked at the one particular course I was working with and this teacher only used the Assignment Activity type where she links to external resources. Thank you for any point in the right direction.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 7, 2022, 9:57 PM",
          "AuthorName": "Gerry F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1396483&course=5",
          "role": [
            "Picture of Gerry F"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error writing to database",
          "Text": "Please see: https://dev.mysql.com/doc/refman/8.0/en/gone-away.html 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 7, 2022, 11:12 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error writing to database",
          "Text": "I was just coming back to say I found your post https://moodle.org/mod/forum/discuss.php?d=230681#p1001751 that seems to have gotten me closer to the problem. I looked into a few other options here that didn't help so I posted. It appears to have restored properly. The only oddity is, it got to 100% on the restore and the browser tab spun for a while longer before stopping. No message about completing and link to go to the course. Would this have to do with the setting wait_timeout suggested from another posted referenced in the above post? I see my.ini doesn't have wait_timeout included. Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 7, 2022, 11:34 PM",
          "AuthorName": "Gerry F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1396483&course=5",
          "role": [
            "Picture of Gerry F"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error writing to database",
          "Text": "Setting wait_timeout=1800 had no affect on this. Tab stops spinning and it stays on 6. Process. Probably more of a browser timeout issue. Haven't changed that on the new server.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 8, 2022, 12:00 AM",
          "AuthorName": "Gerry F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1396483&course=5",
          "role": [
            "Picture of Gerry F"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error writing to database",
          "Text": "Well, you've meet the course from he--! You've looked at the course and it doesn't appear to be needing such settings, but ... Your setting are higher, but maybe just not high enough for demonic course.Â Â  Tweak the settings a little higher. There are other time outs ... if you had linux I would suggest this: php -i |grep timeout which returns this: hard_timeout => 2 => 2 memcached.default_connect_timeout => 0 => 0 memcached.sess_connect_timeout => 0 => 0 Read timeout => 86400 redis.arrays.connecttimeout => 0 => 0 redis.arrays.readtimeout => 0 => 0 redis.clusters.read_timeout => 0 => 0 redis.clusters.timeout => 0 => 0 default_socket_timeout => 60 => 60 opcache.force_restart_timeout => 180 => 180 And, if you had Linux, I'd suggest installing moosh. moosh has a command to get course info on one course. Example: Course ID: 9 No of contexts: 16 Context by level: CONTEXT_MODULE (70):Â Â Â  15 CONTEXT_BLOCK (80):Â Â Â  1 Context by module: assign (1):Â Â Â  4 folder (8):Â Â Â  1 label (13):Â Â Â  2 resource (18):Â Â Â  5 googlemeet (25):Â Â Â  1 hvp (26):Â Â Â  2 Number of role capability overwrites: 0 Role capability overwrites by context: Number of local role assignments: 0 Locally assigned roles by context: Number of enrolled users: 2 Users enrolled by role: editingteacher (3):Â Â Â  1 student (5):Â Â Â  1 Number of groups: 0 Group statistics: Min number of members in a group:Â Â Â  0 Max number of members in a group:Â Â Â  0 Avg number of members in a group:Â Â Â  0 Course modinfo size: 32254 Number of sections : 2 Section statistics: Sections visible:Â Â Â  2 Sections hidden:Â Â Â  0 Min number of modules in a section:Â Â Â  2 Max number of modules in a section:Â Â Â  13 Avg number of modules in a section:Â Â Â  7 Number of grades: 21 Number of log entries: 4688 Number of files: 23 Total file size: 185943146 Cache build time: 0.057547807693481 Something else ... one can backup a course from the command line ... takes web service out of the loop. From code/admin/cli/ php backup.php Perform backup of the given course. Options: --courseid=INTEGERÂ Â Â Â Â Â Â Â Â  Course ID for backup. --courseshortname=STRINGÂ Â Â  Course shortname for backup. --destination=STRINGÂ Â Â Â Â Â Â  Path where to store backup file. If not set the backup will be stored within the course backup file area. -h, --helpÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  Print out this help. Example: $sudo -u www-data /usr/bin/php admin/cli/backup.php --courseid=2 --destination=/moodle/backup/ If you do CLI, make the destination to some location outside of Moodle code/data where you can see the file! 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 8, 2022, 12:50 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error writing to database",
          "Text": "12 is the checksum ... the one sooooo big you did not include in posting. Wouldn't hurt to add the wait_timeout would it? Check moodledata/temp/backup/ for contenthash named directories. Go into one of those. Is there a backup.mbz file there with a moodle_backup. xml file?Â  The larger the .mbz file, the longer it takes. There is potential for clean up task of moodledata/temp/ done by cron/adhoc_task conflicting even though that's not supposed to happen with locks! 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 8, 2022, 12:16 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error writing to database",
          "Text": "I added max_allowed_packet = 100M and wait_timeout=1800. I was able to restore the remainder of the courses, a couple hundred or so, and did not have the issue again. Was either just those few courses or the settings helped get me through the rest of my courses. Thank you for the additional info. Luckily i didn't need to dig any deeper.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 11, 2022, 7:46 AM",
          "AuthorName": "Gerry F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1396483&course=5",
          "role": [
            "Picture of Gerry F"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 68670,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=68670",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Error in backup",
          "Text": "Name: backup-cmes_els-20070407-1845.zip Hi, I am getting this string and error when using the admin/course backup. Any help would be appriciated. Thanks, Dan Creating temporary structures Deleting old data Creating XML file Writing header Writing general info Writing course data Course info Metacourse Blocks Sections Writing users info Writing messages info Writing scales info Writing groupings info Writing groups info Writing events info Writing gradebook info Writing modules info Forums Labels Course format data Copying user files Copying course files Zipping backup Copying zip file An error occurred while copying the zip file to the course directory The backup did not complete successfully",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 8, 2007, 2:54 AM",
          "AuthorName": "Dan Noonan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=213491&course=5",
          "role": [
            "Picture of Dan Noonan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error in backup",
          "Text": "Dan I had this error also. On our current MAC server and have pretty much figured it out to be a permissions issue. We are moving over to a new Windows server by the end of the month and also had the same issue on the this server. What I found was the MoodleData directory had 2 different permission setting for the System account. I removed all permissions from the folder and reset them to the System account having modify access to that folder and everything under it and bang it starting working on the new server. I still am fighting with it on our current MAC server because I donâ€™t enough about MAC to be able to pull All the permissions back off the data directory and start from scratch. Just thought I would give my experience so that maybe it would help someone else from pulling their hair out! Ed Edward Roche Solanco School District Powerschool Administrator/District Technology Support",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 9, 2007, 9:03 PM",
          "AuthorName": "Edward Roche",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=244859&course=5",
          "role": [
            "Picture of Edward Roche"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error in backup",
          "Text": "This might help. How big is the course that you are trying to back up? Compare it's size to the upload_max_filesize in your php.ini file. If running MAMP , it is in MAMP/conf/php5 folder. You will need to restart your webserver after changing this vaue. larry",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 9, 2007, 10:56 PM",
          "AuthorName": "Larry Elchuck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=121840&course=5",
          "role": [
            "Picture of Larry Elchuck"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 48744,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=48744",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course backup does not finish",
          "Text": "I receive this message when trying to backup my course in 1.6 beta Warning : chmod(): Permission denied in /homepages/9/d89467705/htdocs/moodle16/backup/lib.php on line 275 Zipping backup\n\nIt stops here. What is the problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 29, 2006, 6:41 AM",
          "AuthorName": "Rod Spears",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=30324&course=5",
          "role": [
            "Picture of Rod Spears"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 121021,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=121021",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Is it possible to restore the courses from windows to linux.",
          "Text": "Hi, I am Benny. I have developed more than 10 courses in moodle which is installed in a windows machine. I have taken back up of all these courses. Is it possible to restore these back ups in to a linux version of moodle which is installed in a linux machine.Â  Please help me . Thanks, Benny",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 13, 2009, 1:13 PM",
          "AuthorName": "Benny Thomas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=697363&course=5",
          "role": [
            "Picture of Benny Thomas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is it possible to restore the courses from windows to linux.",
          "Text": "Yes, you can.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 13, 2009, 2:09 PM",
          "AuthorName": "Elvedin Trnjanin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=701014&course=5",
          "role": [
            "Picture of Elvedin Trnjanin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Is it possible to restore the courses from windows to linux.",
          "Text": "Create new courses from the Site Administrator panel when you're logged in as admin and then you should be able to restore your courses from backup after you're finished creating the new courses.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 14, 2009, 1:07 AM",
          "AuthorName": "Elvedin Trnjanin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=701014&course=5",
          "role": [
            "Picture of Elvedin Trnjanin"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 82763,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=82763",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restoring MIT OpenCourseWare",
          "Text": "Not even sure this is possible, but have downloaded a course zip file from MIT's OCW system and am trying to 'restore' it to my Moodle system (1.8) to add as a course... Same process works nicely with OpenLearn courses, but when I try to restore the OCW zip ( Front Page > Restore) I get the following error: 'You need the XSLT library installed in PHP to open this Blackboard file.' (Was surprised to see the reference to Blackboard...?) My Moodle system is hosted on GoDaddy and the PHP version = 4.3.11 As I go digging for info about the xslt library/php issue was hoping someone might have seen the same issue? Many thanks, and greeting from sunny South Carolina...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 20, 2007, 2:19 AM",
          "AuthorName": "Tony Thompson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=390310&course=5",
          "role": [
            "Picture of Tony Thompson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring MIT OpenCourseWare",
          "Text": "Tony, did you ever solve this? I have the same problem trying to restore from MIT OCW.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 14, 2008, 1:51 AM",
          "AuthorName": "P Keyse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=280940&course=5",
          "role": [
            "Picture of P Keyse"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 358326,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=358326",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "course backups",
          "Text": "Hi there, I have trouble with my course back ups. So I switched to \"Manual Backup\" via web interface and executed automated_backups.php from shell. Then the script delivers the following messages: root@myserver:/data2/moodle/repository# sudo -u www-data /usr/bin/php /path/to/admin/cli/automated_backups.php Server Time: Tue, 12 Sep 2017 23:24:08 +0800 Checking automated backup status...RUNNING Automated backups are already running. If this script is being run by cron this constitues an error. You will need to increase the time between executions within cron. Automated cron backups completed correctly Execution took 0.061752 seconds root@myserver:/data2/moodle/repository# can you get me started, how to let the script executed automated_backups.php running successfully ? thx ! Fabienne",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 12, 2017, 11:34 PM",
          "AuthorName": "Fabienne Neveu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2202445&course=5",
          "role": [
            "Picture of Fabienne Neveu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 157901,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=157901",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Exporting out of DB",
          "Text": "Is there a way to export a single table out of the moodle db?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 13, 2010, 11:06 PM",
          "AuthorName": "Mr. Marc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=119727&course=5",
          "role": [
            "Picture of Mr. Marc"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Exporting out of DB",
          "Text": "Yes, try using phpMyAdmin . See phpMyAdmin for further information. hth Frank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 14, 2010, 12:27 AM",
          "AuthorName": "Frank Ralf",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=728638&course=5",
          "role": [
            "Picture of Frank Ralf"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 173046,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=173046",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Transferring moodle to 1and1 hosting problems",
          "Text": "Hi there I am struggling with transfering my moodle files across to a 1and1 shared hosting. I managed to copy all the files and the sql perfectly fine, and imported the sql database into the new sql database which is now a different name which I have edited all the data in the config.php and the auto forwarding points stright to the moodle folder, with the moodledata been on the root of the drive. I'm getting the error message \" Internal Server Error The server encountered an internal error or misconfiguration and was unable to complete your request.\" I'm a little stuck now on what to do next, if anyone is able to assist it would be mostly appreciated. Many thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 9, 2011, 7:02 PM",
          "AuthorName": "Jason Greenwood",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1303795&course=5",
          "role": [
            "Picture of Jason Greenwood"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 48232,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=48232",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Strange behaviour restoring DiDA courses",
          "Text": "We are setting up the courses provided on the free DiDA cds, and are experiencing a strange behaviour when restoring courses larger than 8MB. When you click on 'Restore', it goes through the first 4 stages: Creating temporary structures Deleting old data Copying zip file Unzipping backup Then it just stops, no error message, just finished. We are kind of thinking one of the PHP settings is stopping the process, but we're not sure which one. Looking at PHPInfo: memory_limit is set to 64MB, post_max_size is set to 8MB, upload_max_filesize is set to 20MB, max_execution_time is set to 50000 Any ideas would be gratefully received. Simon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 22, 2006, 2:26 PM",
          "AuthorName": "Simon Douglas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=140826&course=5",
          "role": [
            "Picture of Simon Douglas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Strange behaviour restoring DiDA courses",
          "Text": "Hi, I think both of these settings need to be greater than 8Mb:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 22, 2006, 6:30 PM",
          "AuthorName": "Ray Lawrence",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7127&course=5",
          "role": [
            "Picture of Ray Lawrence"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Strange behaviour restoring DiDA courses",
          "Text": "Hi Ray, Thanks for that, I have tried to increase those values. Not made any difference yet. I'm also a little unsure as to what directory the php.ini file needs to go - have placed copies in the root, admin, files and backup folders, but not made any difference to restoring problems. Simon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2006, 4:39 AM",
          "AuthorName": "Simon Douglas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=140826&course=5",
          "role": [
            "Picture of Simon Douglas"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Strange behaviour restoring DiDA courses",
          "Text": "Hi, This post may help.... http://moodle.org/mod/forum/discuss.php?d=41884&parent=194436",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 23, 2006, 7:27 AM",
          "AuthorName": "Ray Lawrence",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7127&course=5",
          "role": [
            "Picture of Ray Lawrence"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 26181,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=26181",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Blackboard Course restore",
          "Text": "I'm using the latest 1.5 dated 16th June 2005, php 4.3.11 with sablotron 1.0.2 (man was THAT a PITA to compile on Sol 2.8) on solaris 2.8. I am attempting to restore a Bb course and am getting the following: Creating temporary structures Deleting old data Copying zip file Unzipping backup Checking for BlackBoard export Converting Blackboard export Failed writing xml file An error has ocurred Any ideas? The error isn't very helpful. Is there somewhere to look for a log, or whatnot to get a better idea what is going on?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 22, 2005, 11:36 PM",
          "AuthorName": "Buddy Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=65939&course=5",
          "role": [
            "Picture of Buddy Ellis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Blackboard Course restore",
          "Text": "This message comes from moodle/backup/bb/restore_bb.php and is displayed if the call to the xslt_process function fails ( http://us4.php.net/manual/en/function.xslt-process.php ) The function here takes four arguments: the xsl processor instance, the input file (imsmanifest.xml), the transform file ( bb5.5_to_moodle.xsl or bb6_to_moodle.xsl) and the output file (moodle.xml).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2005, 12:26 AM",
          "AuthorName": "Ziba Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16801&course=5",
          "role": [
            "Picture of Ziba Scott"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard Course restore",
          "Text": "It looks like it is processing it somewhat (from looking at the temp dir) It appears some of the .dat files are being processed: -rw-rw-rw- 1 nobody nobody 1625 Jun 21 10:01 .bb-package-info -rw-rw-rw- 1 nobody nobody 32 Jun 21 10:01 .bb-package-sig -rwxrwxrwx 1 nobody nobody 2102533 Jun 22 13:39 ArchiveFile_SRV220_WC3_2005_02.zip -rw-rw-rw- 1 nobody nobody 22518 Jun 22 13:39 bb6_to_moodle.xsl -rw-rw-rw- 1 nobody nobody 18468 Jun 21 10:01 imsmanifest.xml drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 messaging -rw-rw-rw- 1 nobody nobody 3075 Jun 22 13:39 moodle.xml drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00001 -rw-rw-rw- 1 nobody nobody 1494 Jun 21 10:01 res00001.dat -rw-rw-rw- 1 nobody nobody 5673 Jun 21 10:01 res00002.dat -rw-rw-rw- 1 nobody nobody 14668 Jun 21 10:01 res00003.dat -rw-rw-rw- 1 nobody nobody 359 Jun 21 10:01 res00004.dat -rw-rw-rw- 1 nobody nobody 346 Jun 21 10:01 res00005.dat -rw-rw-rw- 1 nobody nobody 347 Jun 21 10:01 res00006.dat -rw-rw-rw- 1 nobody nobody 369 Jun 21 10:01 res00007.dat -rw-rw-rw- 1 nobody nobody 364 Jun 21 10:01 res00008.dat -rw-rw-rw- 1 nobody nobody 354 Jun 21 10:01 res00009.dat -rw-rw-rw- 1 nobody nobody 345 Jun 21 10:01 res00010.dat -rw-rw-rw- 1 nobody nobody 345 Jun 21 10:01 res00011.dat -rw-rw-rw- 1 nobody nobody 367 Jun 21 10:01 res00012.dat -rw-rw-rw- 1 nobody nobody 21342 Jun 21 10:01 res00013.dat -rw-rw-rw- 1 nobody nobody 8007 Jun 21 10:01 res00014.dat -rw-rw-rw- 1 nobody nobody 7955 Jun 21 10:01 res00015.dat -rw-rw-rw- 1 nobody nobody 73625 Jun 21 10:01 res00016.dat -rw-rw-rw- 1 nobody nobody 77593 Jun 21 10:01 res00017.dat -rw-rw-rw- 1 nobody nobody 78058 Jun 21 10:01 res00018.dat -rw-rw-rw- 1 nobody nobody 78605 Jun 21 10:01 res00019.dat -rw-rw-rw- 1 nobody nobody 471 Jun 21 10:01 res00020.dat -rw-rw-rw- 1 nobody nobody 435 Jun 21 10:01 res00021.dat -rw-rw-rw- 1 nobody nobody 459 Jun 21 10:01 res00022.dat -rw-rw-rw- 1 nobody nobody 450 Jun 21 10:01 res00023.dat -rw-rw-rw- 1 nobody nobody 517 Jun 21 10:01 res00024.dat -rw-rw-rw- 1 nobody nobody 453 Jun 21 10:01 res00025.dat -rw-rw-rw- 1 nobody nobody 465 Jun 21 10:01 res00026.dat -rw-rw-rw- 1 nobody nobody 383 Jun 21 10:01 res00027.dat -rw-rw-rw- 1 nobody nobody 2270 Jun 21 10:01 res00028.dat -rw-rw-rw- 1 nobody nobody 2271 Jun 21 10:01 res00029.dat -rw-rw-rw- 1 nobody nobody 806 Jun 21 10:01 res00030.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00031 -rw-rw-rw- 1 nobody nobody 1979 Jun 21 10:01 res00031.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00032 -rw-rw-rw- 1 nobody nobody 2869 Jun 21 10:01 res00032.dat -rw-rw-rw- 1 nobody nobody 827 Jun 21 10:01 res00033.dat -rw-rw-rw- 1 nobody nobody 830 Jun 21 10:01 res00034.dat -rw-rw-rw- 1 nobody nobody 859 Jun 21 10:01 res00035.dat -rw-rw-rw- 1 nobody nobody 822 Jun 21 10:01 res00036.dat -rw-rw-rw- 1 nobody nobody 833 Jun 21 10:01 res00037.dat -rw-rw-rw- 1 nobody nobody 802 Jun 21 10:01 res00038.dat -rw-rw-rw- 1 nobody nobody 792 Jun 21 10:01 res00039.dat -rw-rw-rw- 1 nobody nobody 788 Jun 21 10:01 res00040.dat -rw-rw-rw- 1 nobody nobody 767 Jun 21 10:01 res00041.dat -rw-rw-rw- 1 nobody nobody 785 Jun 21 10:01 res00042.dat -rw-rw-rw- 1 nobody nobody 764 Jun 21 10:01 res00043.dat -rw-rw-rw- 1 nobody nobody 760 Jun 21 10:01 res00044.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00045 -rw-rw-rw- 1 nobody nobody 8017 Jun 21 10:01 res00045.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00046 -rw-rw-rw- 1 nobody nobody 2548 Jun 21 10:01 res00046.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00047 -rw-rw-rw- 1 nobody nobody 3629 Jun 21 10:01 res00047.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00048 -rw-rw-rw- 1 nobody nobody 4714 Jun 21 10:01 res00048.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00049 -rw-rw-rw- 1 nobody nobody 2721 Jun 21 10:01 res00049.dat -rw-rw-rw- 1 nobody nobody 781 Jun 21 10:01 res00050.dat -rw-rw-rw- 1 nobody nobody 820 Jun 21 10:01 res00051.dat -rw-rw-rw- 1 nobody nobody 788 Jun 21 10:01 res00052.dat -rw-rw-rw- 1 nobody nobody 802 Jun 21 10:01 res00053.dat -rw-rw-rw- 1 nobody nobody 786 Jun 21 10:01 res00054.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00055 -rw-rw-rw- 1 nobody nobody 3507 Jun 21 10:01 res00055.dat -rw-rw-rw- 1 nobody nobody 777 Jun 21 10:01 res00056.dat -rw-rw-rw- 1 nobody nobody 800 Jun 21 10:01 res00057.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00058 -rw-rw-rw- 1 nobody nobody 2553 Jun 21 10:01 res00058.dat -rw-rw-rw- 1 nobody nobody 1524 Jun 21 10:01 res00059.dat -rw-rw-rw- 1 nobody nobody 789 Jun 21 10:01 res00060.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00061 -rw-rw-rw- 1 nobody nobody 2300 Jun 21 10:01 res00061.dat -rw-rw-rw- 1 nobody nobody 1601 Jun 21 10:01 res00062.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00063 -rw-rw-rw- 1 nobody nobody 1605 Jun 21 10:01 res00063.dat -rw-rw-rw- 1 nobody nobody 786 Jun 21 10:01 res00064.dat -rw-rw-rw- 1 nobody nobody 813 Jun 21 10:01 res00065.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00066 -rw-rw-rw- 1 nobody nobody 39 Jun 21 10:01 res00066.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00067 -rw-rw-rw- 1 nobody nobody 39 Jun 21 10:01 res00067.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00068 -rw-rw-rw- 1 nobody nobody 39 Jun 21 10:01 res00068.dat drwxrwxrwx 2 nobody nobody 512 Jun 22 13:39 res00069 -rw-rw-rw- 1 nobody nobody 39 Jun 21 10:01 res00069.dat -rw-rw-rw- 1 nobody nobody 36308 Jun 21 10:01 res00070.dat -rw-rw-rw- 1 nobody nobody 463 Jun 21 10:01 res00071.dat -rw-rw-rw- 1 nobody nobody 458 Jun 21 10:01 res00072.dat -rw-rw-rw- 1 nobody nobody 454 Jun 21 10:01 res00073.dat -rw-rw-rw- 1 nobody nobody 464 Jun 21 10:01 res00074.dat -rw-rw-rw- 1 nobody nobody 229 Jun 21 10:01 res00075.dat -rw-rw-rw- 1 nobody nobody 229 Jun 21 10:01 res00076.dat -rw-rw-rw- 1 nobody nobody 229 Jun 21 10:01 res00077.dat -rw-rw-rw- 1 nobody nobody 228 Jun 21 10:01 res00078.dat -rw-rw-rw- 1 nobody nobody 655 Jun 21 10:01 res00079.dat -rw-rw-rw- 1 nobody nobody 1132129 Jun 21 10:01 res00080.dat Not sure what would be causing it to die though. is there some way to run it from the command line side and see? I'm trying to setup a demo for our College and this would be critical (being able to import Bb courses) for a 'full move' Are there any tricks to the export itself that I should be aware of, i.e. stuff to exclude, or whatnot? -b",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2005, 2:13 AM",
          "AuthorName": "Buddy Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=65939&course=5",
          "role": [
            "Picture of Buddy Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard Course restore",
          "Text": "OK. I think I'm getting to the root of the problem. I'm running into a .dat file that has no real xml in it, it just has \"This resource intentionally left blank\" #more res00081.dat This resource intentionally left blank I ran your bb6_to_moodle script from linuxbox and I get a syntax error on that particular file: Error [code:2] [URI:file:///usr/local/src/bb/backup/test/res00081.dat] [line:1] XML parser error 2: syntax error Which makes sense, because there is no XML to parse.Â  Not sure how to fix it, though.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2005, 3:01 AM",
          "AuthorName": "Buddy Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=65939&course=5",
          "role": [
            "Picture of Buddy Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard Course restore",
          "Text": "\"This resource intentionally left blank\" why, that is exciting! You should be able to delete the file, make a new zip file (minus the \"blank\" dat file) and upload that into moodle. Meanwhile, I'll put deal with \"blank\" resources on my todo list.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2005, 3:51 AM",
          "AuthorName": "Ziba Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16801&course=5",
          "role": [
            "Picture of Ziba Scott"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard Course restore",
          "Text": "It could be something exciting in a dat file that I haven't run across yet in other exports. You might get some more helpful output if you can do this: Unzip the blackboard export into some directory like bbexport. Copy moodle/backup/bb/bb5.5_to_moodle.xsl (or 6) to bbexport/ run sablotron on imsmanifest which will also traverse dat files as necessary: sabcmd imsmanifest.xml bb5.5_to_moodle.xsl outfile.xml This may point out a malformed dat file. If you are really in need of just a quick demo, you can convert your course using the demonstration converter at The Linux Box. -Ziba",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2005, 3:17 AM",
          "AuthorName": "Ziba Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16801&course=5",
          "role": [
            "Picture of Ziba Scott"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard Course restore",
          "Text": "Must be something interesting in the export, i get the same issue with the linuxbox demo converter: Warning : Sablotron error on line 1: XML parser error 2: syntax error in /home/ www.linuxbox.com/bb2moodle/index.php on line 146 \n```text\nFailed writing xml file\n```\n Tried it from the command line with your download from linuxbox, also, and get this error: Error [code:2] [URI:file:///usr/local/src/bb/bbexport/res00066.dat] [line:1] XML parser error 2: syntax error SSE[15:31:34] That resource file doesnt seem to contain any XML data, just the line \"This resource intentionally left blank\": [root@budwks:/usr/local/src/bb/bbexport]$ cat res00066.dat This resource intentionally left blank although the attendant directory does: [15:31:43][root@budwks:/usr/local/src/bb/bbexport]$ ls -al res00066 total 294 drwxr-xr-x 2 root other 512 Jun 22 15:24 . drwxr-xr-x 19 root other 2560 Jun 22 15:27 .. -rw-r--r-- 1 root other 7535 Jun 21 10:01 _496112_1 -rw-r--r-- 1 root other 8474 Jun 21 10:01 _496396_1 -rw-r--r-- 1 root other 8473 Jun 21 10:01 _496423_1 -rw-r--r-- 1 root other 8472 Jun 21 10:01 _496435_1 -rw-r--r-- 1 root other 8473 Jun 21 10:01 _496501_1 -rw-r--r-- 1 root other 8472 Jun 21 10:01 _496700_1 -rw-r--r-- 1 root other 8473 Jun 21 10:01 _496712_1 -rw-r--r-- 1 root other 8475 Jun 21 10:01 _496841_1 -rw-r--r-- 1 root other 8471 Jun 21 10:01 _496853_1 -rw-r--r-- 1 root other 8471 Jun 21 10:01 _496916_1 -rw-r--r-- 1 root other 8474 Jun 21 10:01 _496928_1 -rw-r--r-- 1 root other 8470 Jun 21 10:01 _497046_1 -rw-r--r-- 1 root other 8470 Jun 21 10:01 _497088_1 -rw-r--r-- 1 root other 8472 Jun 21 10:01 _497145_1 -rw-r--r-- 1 root other 8471 Jun 21 10:01 _497355_1 -rw-r--r-- 1 root other 8470 Jun 21 10:01 _499292_1 I think we have Bb 6.2. I'm very new to Bb in general, so sorry I'm not more help, big learning curve for me. Here's the relevant data from imsmanifest.xml: <resource bb:file=\"res00066.dat\" bb:title=\"Assessment Attempts\" identifier=\"res00066\" typ e=\"assessment/x-bb-qti-attempt\" xml:base=\"res00066\"><file href=\"_496112_1\"/><fil e href=\"_496396_1\"/><file href=\"_496423_1\"/><file href=\"_496435_1\"/><file href=\" _496501_1\"/><file href=\"_496700_1\"/><file href=\"_496712_1\"/><file href=\"_496841_ 1\"/><file href=\"_496853_1\"/><file href=\"_496916_1\"/><file href=\"_496928_1\"/><fil e href=\"_497046_1\"/><file href=\"_497088_1\"/><file href=\"_497145_1\"/><file href=\" _497355_1\"/><file href=\"_499292_1\"/></resource>",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2005, 3:35 AM",
          "AuthorName": "Buddy Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=65939&course=5",
          "role": [
            "Picture of Buddy Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard Course restore",
          "Text": "Well I think it might have been because she was giving me archive instead of export files from BB.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 23, 2005, 3:58 AM",
          "AuthorName": "Buddy Ellis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=65939&course=5",
          "role": [
            "Picture of Buddy Ellis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard Course restore",
          "Text": "I have three questions (2 about your post, and 1 that is sort of related): 1) I thought the archive and the export in BB were the same thing. It says \"export\" in the system admin utilities and \"archive\" in the instructor utilities, but as far as I can tell, the resulting zip file is the same. 2) Do you think this course you are having difficulties with was originally part of a \"course cartridge\"? I worked with one of those once, (hazy bad memories), and some of that information is protected. It might explain the \"intentional\" part. The content is owned by the publishing company. 3) When you do a restore from BB, do you get errors in the \"latest news\"? Moodle seems to try to put the announcements there, but when you click on one of them to read it, you get a \"Course Module ID was incorrect\" error. atw",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 24, 2005, 2:01 AM",
          "AuthorName": "A. T. Wyatt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=63444&course=5",
          "role": [
            "Picture of A. T. Wyatt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 202852,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=202852",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "migrating from a server to another",
          "Text": "Hi, is there a way to migrate all my courses from a server with 1.9 to another server with 2.2 while keeping all the data I tried backup and restoring to the other but it says there is a missing file any help will be great and thanks for your time",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 17, 2012, 9:57 PM",
          "AuthorName": "sari abueitah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1454383&course=5",
          "role": [
            "Picture of sari abueitah"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: migrating from a server to another",
          "Text": "Only by upgrading the 1.9 site (or, better still, a copy of it) first.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 17, 2012, 10:00 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: migrating from a server to another",
          "Text": "Hi Sari We created a new testÂ install, i.e. setup a complete Moodle 2.2 instance, added all theÂ plugs we could find that were 2.2 compatible, and tested that it was working correctly. This was just to test that we had Moodle 2.2 working correctly. Then we createdÂ a complete copy of ourÂ 1.9 Moodle including database and all files etc., and tested. This the destination server. Then we simply replaced the Moodle folder on destination server using the known good Moodle 2.2 folder from the test server and run the upgrade. You might have to do this a couple of times if you find/fix problems during the upgrade. BR, Trevor",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 18, 2012, 5:51 AM",
          "AuthorName": "Trevor Johnson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=532141&course=5",
          "role": [
            "Picture of Trevor Johnson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: migrating from a server to another",
          "Text": "My own procedures are described here: http://moodle.org/mod/forum/discuss.php?d=192355#p837576 Rosario",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 21, 2012, 7:29 PM",
          "AuthorName": "Rosario CarcÃ²",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=77708&course=5",
          "role": [
            "Picture of Rosario CarcÃ²"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 164652,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=164652",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore forum posts (or database content) only",
          "Text": "Hi, I recently had a little accident (of the SQL kind) and overwrote every message posted on our forums with a correction that I had only intended to overwrite a single post. I tried to restore the latest backup but it seems all of my backup zips are partially corrupt (incomplete central directory). Â I have downloaded and recovered most of the backup zips but I don't know how many files are missing. Â One critical file that appears to be intact is the SQL database backup, moodle. xml . How can I restore the database from moodle.xml? Â I don't know how to get MySQL to import from the XML . Â I'm not worried about the other files as I'm pretty confident that nothing else has changed on the site since the last backup - only the database content. If I create a zip file containing ONLY moodle.xml and place it in the backup directly, will it restore just that file? EDIT: Moodle 1.9.1",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 18, 2010, 8:52 AM",
          "AuthorName": "Will H",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=561952&course=5",
          "role": [
            "Picture of Will H"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore forum posts (or database content) only",
          "Text": "I've tried creating an archive of just the moodle.xml file and it allowed me to restore it. Â I restored it over the top of the old room (adding to the material already there, creating just the forums and restoring user data) and it did create the forums but did not populate them with any posts. Â I tried restoring it to a new room (again,Â creating just the forums and restoring user data) but the results was the same - forums but no posts. I have checked in the moodle.xml file and the posts are definitely in there. Â Why won't they restore?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 18, 2010, 9:44 AM",
          "AuthorName": "Will H",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=561952&course=5",
          "role": [
            "Picture of Will H"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 332241,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=332241",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Strange filenames cause backups to crash",
          "Text": "Using: Moodle 3.0.3+ (Build: 20160415) Version 2015111603.06 Theme plugin is Shoehorn Rel 3.0.0.4, ver 2015112403 Pydio backup failed last night because Moodle suddenly produced some strange files with forward slashes in the file name.Â  The erronious files were (from logs): ?????????? ? ? ? ?Â Â Â Â Â Â Â Â Â Â Â  ? /abin-BoldItalic.otf ?????????? ? ? ? ?Â Â Â Â Â Â Â Â Â Â Â  ? /abin-Bold.otf ?????????? ? ? ? ?Â Â Â Â Â Â Â Â Â Â Â  ? /abin-Italic.otf ?????????? ? ? ? ?Â Â Â Â Â Â Â Â Â Â Â  ? /abin-MediumItalic.otf ?????????? ? ? ? ?Â Â Â Â Â Â Â Â Â Â Â  ? /abin-Medium.otf ?????????? ? ? ? ?Â Â Â Â Â Â Â Â Â Â Â  ? /abin-Regular.otf Can anyone suggest why \"Cabin\" should suddenly have been replaced by \"/abin?\" No other files except fonts seem problematic Roy Bentley",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 27, 2016, 10:19 PM",
          "AuthorName": "Roy Bentley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1716003&course=5",
          "role": [
            "Picture of Roy Bentley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Strange filenames cause backups to crash",
          "Text": "What is Pydio? Â Is that a backup agent outside of Moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 1, 2016, 8:35 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 426093,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426093",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Allowing teachers to download automated backup",
          "Text": "Hi! I would\nlike to allow editing teachers to download automated backup, but they can only\nRestore it, not download. Is there a way to do it? I can't find in Permissions what to click. Thank you. Ivica",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 26, 2021, 4:00 PM",
          "AuthorName": "Ivica Matotek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=579986&course=5",
          "role": [
            "Picture of Ivica Matotek",
            "Picture of Testers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Allowing teachers to download automated backup",
          "Text": "Download files from backup areas Just search backup from your permissions editing screen.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 9, 2021, 3:00 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 154628,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=154628",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "No backup possible, gets stuck at \"SCORMs\"",
          "Text": "Hello, On a regular basis, I get a notice, telling me that an error has been occurred while creating the automatic security backups of the Moodle courses: Resumen ================================================== Cursos: 11 OK: 8 Pasado por alto: 0 Error: 0 Sin terminar: 3 Â¡Algunos de sus cursos no han sido guardados! It is in Spanish; it practically tells me that there were 3 out of 11 courses, whose back up couldn't be finished. When I try to do it manually, two courses can be saved, but one ALWAYS gets stuck at the SCORMs on the back up page: Nombre: copia_de_seguridad-xxxxxxxxxx.zip Creando estructuras temporales Borrando datos antiguos Creando el archivo XML Escribiendo el encabezado Escribiendo informaciÃ³n general Escribiendo informaciÃ³n del curso InformaciÃ³n del curso Bloques Secciones Escribiendo informaciÃ³n del usuario. . . . . . Escribiendo categorÃ­as y preguntas. . Escribiendo informaciÃ³n de escalas Escribiendo informaciÃ³n de grupos Escribiendo informaciÃ³n de agrupamientos Writing groupings-groups info Escribiendo informaciÃ³n del evento Escribiendo informaciÃ³n del libro de calificaciones Escribiendo informaciÃ³n del mÃ³dulo Tareas Foros Etiquetas Cuestionarios Recursos SCORMs Has someone an idea why I get this error and how I could solve it? Thanks a lot in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 23, 2010, 10:10 PM",
          "AuthorName": "Heike Ebelt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=482714&course=5",
          "role": [
            "Picture of Heike Ebelt"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: No backup possible, gets stuck at \"SCORMs\"",
          "Text": "Hi Heike We had issues like this too, try increasing the PHP memory limit Site â–º Administration â–º Server â–º Performance and have another go. You could also turn debugging on to check the output of any error messages which would help diagnose further. I hope this helps cheers Teresa",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 27, 2010, 2:56 PM",
          "AuthorName": "Teresa Gibbison",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22575&course=5",
          "role": [
            "Picture of Teresa Gibbison"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 119310,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=119310",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restore of course does not restore names besides roles",
          "Text": "When doing the backup, the course does backup all the roles. But when we restore, the names for these roles do not restore. Please help. The version of moodle we use is 1.9.2 IMPORTANT: All the roles are customized roles and not standard roles of moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 21, 2009, 12:25 AM",
          "AuthorName": "smrithi puli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=574452&course=5",
          "role": [
            "Picture of smrithi puli"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 78369,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=78369",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Definitive Backup Hang",
          "Text": "'ve scoured the forums in search of an answer to the problem we've been experiencing. It seems to have come up numerous times, but there are little / no answers. I'm really hoping I can find some help. Teachers have been loading there resources all year and some teachers can't backup their courses!! The problem: Backups (through admin or scheduled) hang on a couple of courses in our school. These are larger courses (80MB+). It seems to hang on the 'zipping files' line. The space is provided by a hosting service with a linux environment: Kernel Version: 2.6.17-1.2142_FC4smp Apache Version: 1.3.37 (Unix) PHP Version: 4.4.2 I have played with some php.ini settings (like max_execution, upload size) to no avail I have removed all user data and course data except for one file from the backup, still hangs. I created a separate moodle on my windows computer at home using xampp, and have tried backing up and it worked! I reduced all the php settings (upload size, execution time) and it still worked.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 22, 2007, 12:32 AM",
          "AuthorName": "Mike Mike",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=171941&course=5",
          "role": [
            "Picture of Mike Mike"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Definitive Backup Hang",
          "Text": "Try the following in red. This has been posted by Chad Frerichs. Maybe you have a similar problem. Good luck \"\"I am having a similar problem. I have set the max upload size in the php.ini file \"\"to 200MB but the max upload size in the course setup only allows me to go to \"\"97.7 MB. What am I missing? My instructors are wanting to post video clips that \"\"are larger than 100 MB for the students to access. \"\"I am running Moodle 1.7 on IIS6. \"\"Thanks, \"\"Chad Frerichs \"\"**UPDATE** \"\"Nevermind, I forgot to set it in the Security -> Site Policies -> Max Upload Limit . All is well now.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 22, 2007, 5:27 AM",
          "AuthorName": "Abdelkrim Jebbour",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=111168&course=5",
          "role": [
            "Picture of Abdelkrim Jebbour"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Definitive Backup Hang",
          "Text": "For the record. Despite getting the host to play with a number of php flags, none seemed to fix the problem. In the end I had to switch tactics. By setting Moodle to use an external zip application (which most hosts have) I bypassed the php zip used by moodle. This immediately fixed the problem. The setting to do this is in the Administration section of Moodle. I'll still entertain suggestions on how to fix the php zip functionality, but for now we're content.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 13, 2007, 10:15 AM",
          "AuthorName": "Mike Mike",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=171941&course=5",
          "role": [
            "Picture of Mike Mike"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Definitive Backup Hang",
          "Text": "That was the only solution that worked for me. For the record to change it just go to Admin/ Server /System path and on our Linux server the Path to Zip was /usr/bin/zip.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 13, 2007, 5:18 PM",
          "AuthorName": "Rich Schumaker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4553&course=5",
          "role": [
            "Picture of Rich Schumaker"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 100120,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=100120",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "re: gradebook 1.9.1 categories and formulas are not restoring to new sections",
          "Text": "Hi folks, I posted this on the moodle tracker .... MDL-15160 as a gradebook bug but wonder if any of you are running into this problem. Sorry for the cross-posting but I am wondering if this shouldn't be in the backup/restore forum instead. Here's my description below: We are using a test dev server for teachers to construct their online courses. We intend to back them up and move to a prod server using same version of Moodle, etc. In testing the restore function to a NEW course, when you restore a course the gradebook 's categories and formulas are missing in the new course though teachers had set them up in the course. I listed this as a major bug because teachers would have to reset up their gradebook s for every course shell. I even tried importing a gradebook from one course section to another but the import didn't work. The ONLY way the gradebook categories or formulas are restored in the new section is if you backup/restore student data with gradebook. At my institution,when teachers set up one course section, then they want to duplicate the rest of the sections based on this template course. Imagine if they had a complex gradebook and trouble it would be to have to redo each gradebook for each section. Steps to reproduce:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 26, 2008, 8:58 AM",
          "AuthorName": "David Wong",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=54547&course=5",
          "role": [
            "Picture of David Wong"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 233092,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233092",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "2.5.1 Automated Backup help",
          "Text": "Hi all, we've just setup a new moodle production site running 2.5.1, ready for new academic year- ive populated it and just testing backup solutions- wanting to use automated course backups to a directory outside of public folder e.g. where moodledata folder is located. however my backups don't seem to be working- even when I switch destination back to course defaults- it skips them all- can anyone advice? thanks in advance. Chris Chapman",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2013, 5:16 PM",
          "AuthorName": "Chris Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1596707&course=5",
          "role": [
            "Picture of Chris Chapman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 2.5.1 Automated Backup help",
          "Text": "Check out this Tracker issue -- MDL-37181 I do know that it hadn't got fixed for 2.4.5 and it's quite possible that it didn't get fixed for 2.5. You can easily scan the code to see whether the } is in the correct place and easily fix it yourself. Isn't Open Source wonderful? Let us know whether the issue is still there and whether the fix solves your problem, OK? Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 26, 2013, 11:01 PM",
          "AuthorName": "Mark Pearson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=9068&course=5",
          "role": [
            "Picture of Mark Pearson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 2.5.1 Automated Backup help",
          "Text": "Sorry Mark- didnt turn on notifications!- yes it is still present in this version also- im running Moodle 2.5+ (Build: 20130627) if this helps? just fixed it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 20, 2013, 6:18 PM",
          "AuthorName": "Chris Chapman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1596707&course=5",
          "role": [
            "Picture of Chris Chapman"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 264201,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=264201",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Function that restores a course",
          "Text": "Hi, Is there a function that would copy/restore a course? Â In the enrollment plugin functionality, Â the logic applies a format with a function called Â 'course_get_format' which applies a format based on a template. Â Is there Â a similar function that would copy the activities quizzes and such or is it just the restore_controller object functionality that allow us to copy a course? Is this discussion better placed in the developer forum? Thanks! Phil",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 18, 2014, 11:46 PM",
          "AuthorName": "Philip Templeton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1559942&course=5",
          "role": [
            "Picture of Philip Templeton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 44960,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=44960",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Problem restoring backup into a new or existing course",
          "Text": "A client has Moodle 1.5.3 installed and largely running OK. However, this site has been something of an experiment and, as is the nature of such things, they wish they had done things differently and would now like to tidy their site. The biggest issue for them is that rather than creating courses they have directly created about 20 social forums directly on the front page . They want to move those forums into courses so that the front page is cleaner and the subjects are grouped in a more user friendly manner. To move the fourms I suggested that they should backup the site and select only the forums and content. Then restore the backup into a new course.Â  Delete the forums not required for that course and repeat until the required number of new courses are established with the relevant forums in each one. Seemed like a good approach but the restore process fails every time. The failure always falls over at the point where the following is reported:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 3, 2006, 5:50 PM",
          "AuthorName": "Andrew Steele",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22458&course=5",
          "role": [
            "Picture of Andrew Steele"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Problem restoring backup into a new or existing course",
          "Text": "Hi Andrew, Please check Moodle Docs Backup FAQ for a solution to the problem you describe.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 3, 2006, 5:57 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Problem restoring backup into a new or existing course",
          "Text": "Helen, Many thanks. That was just the clue I needed. All fixed, thanks. Andrew",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 3, 2006, 7:47 PM",
          "AuthorName": "Andrew Steele",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22458&course=5",
          "role": [
            "Picture of Andrew Steele"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 217094,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=217094",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "Backup Fails - Warning: Error while sending QUERY packet.",
          "Text": "I updated to the latest code last week and over the weekend I started getting errors in the backups of two of my course. The regular emails detailing the backup status reported the following Summary ================================================== Courses: 240 OK: 0 Skipped: 238 Error: 0 Unfinished: 2 Warning: 0 Some of your courses weren't saved!! I received this email continually, every 30 minutes, over the weekend like it was stuck in a loop.Â  (Note that the cron job runs every 10 minutes) Looking at the backup logs reports at http://My.site/report/backups/index.php it shows a couple of courses with a status of â€œUnfinishedâ€.Â  When I go into the courses all seems fine but if I try and run a backup of the course or if I try and restore a copy of this course from a backup I get an error page showing 2 lines: Error writing to database Error reading from database Sometimes I also get the added information Warning: Error while sending QUERY packet. PID=3832 in C:\\moodle\\lib\\dml\\my sql i_native_moodle_database.php on line 902 Any ideas? Background information 2 servers Front server is Windows 2008 R2 x64, IIS 7.5, PHP 5.3.8, Moodle 2.3.3+ (Build: 20121123) Back server is Windows 2008 R2 x64, MySQL 5.1.33, Server check reports that all is OK",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 3, 2012, 6:49 AM",
          "AuthorName": "Stephen Bloomer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=232947&course=5",
          "role": [
            "Picture of Stephen Bloomer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup Fails - Warning: Error while sending QUERY packet.",
          "Text": "Qualification for this response ... don't run Windows so have not seen that exact error + you asked for 'ideas' ... soooooooo .... There's something in those 2 specific courses (obviously), but what? Check moodledata/temp/backup/ folder for 'hashnamed'.log files.Â  0 byte .log files are successful backups and any .log file with more than 0 bytes indicates issues with associated course.Â  Open .log files with NotePad and see what they say.Â  They will provide hints as to module/activity/etc. IF you see any 'hashnamed' folders by the same name as the .log files those are the temporary folders Moodle uses to build the backup .mbz files.Â  Inspection of those folders probably wouldn't hurt. BTW , they can be safely removed from the operating system level. Also, as your 2 has grown, data has grown so one might need to tweak mysql settings for max_allowed_packets. If that is the problem one might see references in mysql logs or web error logs MySQL server's default max_allowed_packet value is 1MB. See: https://dev.mysql.com/doc/refman/5.1/en/packet-too-large.html 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 3, 2012, 8:04 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup Fails - Warning: Error while sending QUERY packet.",
          "Text": "Thanks for that.Â  I will start going through that now",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 3, 2012, 8:14 AM",
          "AuthorName": "Stephen Bloomer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=232947&course=5",
          "role": [
            "Picture of Stephen Bloomer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup Fails - Warning: Error while sending QUERY packet.",
          "Text": "Now using Moodle 2.4 but no luck with identifying the cause of the errors.Â  I tried to attach a copy of the log file but as it's Â over 6 meg, it would not let me upload .Â  I could not find anything in it as it look s like :- KÂ Â  Â§wA activities / PKÂ Â  Â§wAÂ Â Â  Â Â Â Â Â Â  Â Â  activities/assign_15841/ PKÂ Â  â€”wAâ„¢Â Â¯Å¾Ã´Â  Ã¢Â  \"Â Â  activities/assign_15841/assign.xmlÃ…UÃ›nÅ“0}ÃWXÂ¼Â§\\Â²Å½Ã„:ZEÂªÃ”Â·JMÅ¾+/6VÂ°Ã™KÂ¿Â¾Ã†â€ â€¦Â½Â¥RÂ£MÃŸÃ°9sfÃŽcÃˆÅ¸vâ€¢@h4WrÃ„_Â¢ ,Ã£rÂ½^_Â¾ÃžÃ£Ã â€°ÃœÃ¥Â´0|ÃƒÃqÂ¶Ã¦Iâ‚¬*Ã…ZÃ1ÃŽpâ‚¬Â¤,Âª5_Ã‹ JÃ˜â„¢.*Ã‰0Ã†Â¹C(Ã·Ã¬!Uâ€¡YÂ´Sâ€™eQÂ¨V[Â½JnÃÃ½X>Â£xyÂ£oÃ/(â€°Ã¢8]Â¤qiEÂ¾Â P[EÃ™Â¨xÆ’Ã²Ãâ€¡LÃ‚KÃ•TÃ”Â¨Â§ÃºÂ£Â bKÃ·ZÂ¿Â©-]4Â¼6v.Ã„Ã–Â¼LxQÃÃ€Â¤Ã”â‚¬nWÃ—Ã0uWÃ  Ã£e#Ã‚Z'8ÃƒÃºPL*ÃƒK^PÃ£RXKÃ§Ã ÃœUÂ¼(8'Â¼Ë†ÂµÃ€,EÃ¢YÃpÅ #kfÃ€â€ Ã‘ÂµtQ6ÂªÃ²â€™Ã¤Ã±qnÃ¤jÃÂ±n(â€šÃ§yÃ¨Å¸<jxv{Â¬'`Ã–@Å Ã£4ÃÂ³$Ë†Ã“Â¡ ÃŽÃƒsÃˆ%?Ã°GÂ§ZÂ´k.ÃšÃ…,Ã¹ÂºOaÂ·â„¢Â³,NÆ’?Dâ€™Â»SÃ½adÂ­Â³Â¯Ã¸Ã•9wÅ½cÃÃºÃšâ€¹Â²Ã€Â¦Ã‹Ã¬Ãˆ",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 11, 2012, 12:29 PM",
          "AuthorName": "Stephen Bloomer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=232947&course=5",
          "role": [
            "Picture of Stephen Bloomer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup Fails - Warning: Error while sending QUERY packet.",
          "Text": "Strange ... on a Linux box, the data/temp/backup/ directory on a 2.4 not having issues shows log files like: 699f1b0851f0dff3f7701e7a6fe6f52b.log [root@sos backup]# ls -l total 0 -rw-rw-rw- 1 apache apache 0 DecÂ  4 17:41 699f1b0851f0dff3f7701e7a6fe6f52b.log And that contains 0 bytes ... ie, nothing in it ... indicating a successful backup. If you find a log file in that location, in previous versions of Moodle, they would be text (NOT zipped) and opening one in a text editor was all that was needed to inspect.Â  So open NotePad first, then have it look for .log files in the appropriate directory. Let's have a look see at your DB: select * from mdl_files where component=\"backup\"; From the looks of what was copied and pasted, was a file with a hashname like 699f1b0851f0dff3f7701e7a6fe6f52b opened? or attempted to open it?Â  That really might be a hash named *zip* file. Copy that hash named file out into a temp directory.Â  Rename it: 699f1b0851f0dff3f7701e7a6fe6f52b to 699f1b0851f0dff3f7701e7a6fe6f52b.zip and unzip it. It is the failed backup, BTW.Â  Inspection of it can sometimes help find a clue as to what is NOT being backed up. Also suggest turning on debugging and run a backup to see what it says. 'spirit of sharing', Ken NOTE: can't believe no Windows users bother to respond!Â  Shame on them!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 11, 2012, 2:28 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup Fails - Warning: Error while sending QUERY packet.",
          "Text": "Thanks for the info.Â  I managed to spend a bit of time on it today, but not enough.Â  It looks like what I thought was a backup log was not and adding the .zip helped there.Â  I have dumped the data from MySQL but not had the time to go through it as yet. Debug was set to all and this showed only two lines when I tried the backup, \"Error writing to database\" and \"Error reading from database\".Â  Changing debug to Developer gave the following when I tried to do a manual backup of one of the course:- Error writing to database Debug info: MySQL server has gone away INSERT INTO mdl_backup_controllers (backupid,operation,type,itemid,format,interactive,purpose,userid,status,execution,executiontime,checksum,controller,timecreated,timemodified) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) [array ( 0 => '8f057ac415a2423123f31d7af7478f8e', 1 => 'backup', 2 => 'course', 3 => 141, 4 => 'moodle2', 5 => 1, 6 => 10, 7 => '1370', 8 => 500, 9 => 1, 10 => 0, 11 => '391b9edf378a74ea52cb0af8687fef03', 12 => lots of stuff that goes on in line 12 13 => 1355280794, 14 => 0, )] Error code: dmlwriteexception Stack trace: line 429 of \\lib\\dml\\moodle_database.php: dml_write_exception thrown line 1107 of \\lib\\dml\\mysqli_native_moodle_database.php: call to moodle_database->query_end() line 1149 of \\lib\\dml\\mysqli_native_moodle_database.php: call to mysqli_native_moodle_database->insert_record_raw() line 87 of \\backup\\util\\dbops\\backup_controller_dbops.class.php: call to mysqli_native_moodle_database->insert_record() line 333 of \\backup\\controller\\backup_controller.class.php: call to backup_controller_dbops::save_controller() line 137 of \\backup\\util\\ui\\base_ui.class.php: call to backup_controller->save_controller() line 91 of \\backup\\backup.php: call to base_ui->save_controller() Error Reading from database Debug info: MySQL server has gone away SELECT bi.id, bp.id AS blockpositionid, bi.blockname, bi.parentcontextid, bi.showinsubcontexts, bi.pagetypepattern, bi.subpagepattern, bi.defaultregion, bi.defaultweight, COALESCE(bp.visible, 1) AS visible, COALESCE(bp.region, bi.defaultregion) AS region, COALESCE(bp.weight, bi.defaultweight) AS weight, bi.configdata , ctx.id AS ctxid, ctx.path AS ctxpath, ctx.depth AS ctxdepth, ctx.contextlevel AS ctxlevel, ctx.instanceid AS ctxinstance FROM mdl_block_instances bi JOIN mdl_block b ON bi.blockname = b.name LEFT JOIN mdl_block_positions bp ON bp.blockinstanceid = bi.id AND bp.contextid = ? AND bp.pagetype = ? AND bp.subpage = ? LEFT JOIN mdl_context ctx ON (ctx.instanceid = bi.id AND ctx.contextlevel = 80) WHERE (bi.parentcontextid = ? OR (bi.showinsubcontexts = 1 AND bi.parentcontextid IN (?,?,?))) AND bi.pagetypepattern IN (?,?,?,?) AND (bi.subpagepattern IS NULL OR bi.subpagepattern = ?) AND (bp.visible = 1 OR bp.visible IS NULL) AND b.visible = 1 ORDER BY COALESCE(bp.region, bi.defaultregion), COALESCE(bp.weight, bi.defaultweight), bi.id [array ( 0 => '10582', 1 => 'backup-backup', 2 => '', 3 => '10582', 4 => '10607', 5 => '1280', 6 => '1', 7 => 'backup-backup', 8 => 'backup-backup-*', 9 => 'backup-*', 10 => '*', 11 => '', )] Error code: dmlreadexception Stack trace: line 426 of \\lib\\dml\\moodle_database.php: dml_read_exception thrown line 960 of \\lib\\dml\\mysqli_native_moodle_database.php: call to moodle_database->query_end() line 628 of \\lib\\blocklib.php: call to mysqli_native_moodle_database->get_recordset_sql() line 1373 of \\lib\\pagelib.php: call to block_manager->load_blocks() line 829 of \\lib\\pagelib.php: call to moodle_page->starting_output() line 729 of \\lib\\outputrenderers.php: call to moodle_page->set_state() line 2362 of \\lib\\outputrenderers.php: call to core_renderer->header() line 366 of \\lib\\setuplib.php: call to core_renderer->fatal_error() line ? of unknownfile: call to default_exception_handler() I hope to spend some more time on it tomorrow.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 12, 2012, 11:23 AM",
          "AuthorName": "Stephen Bloomer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=232947&course=5",
          "role": [
            "Picture of Stephen Bloomer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup Fails - Warning: Error while sending QUERY packet.",
          "Text": "The first 'My SQL server has gone away' tells the tale.Â  Before you begin again tomorrow, set â€˜max_allowed_packetâ€™ in MySQL to 16M.Â  Restart the MySQL service. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 12, 2012, 1:56 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup Fails - Warning: Error while sending QUERY packet.",
          "Text": "Thank you so much for your assistance.Â  Yes \"max_allowed_packetâ€™ was the answer to my issues. A bit embarrassing that I could not see this.Â  Â In the past I lived this stuff, now l live with paperwork and politics.Â  Thanks again",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 13, 2012, 5:23 AM",
          "AuthorName": "Stephen Bloomer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=232947&course=5",
          "role": [
            "Picture of Stephen Bloomer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup Fails - Warning: Error while sending QUERY packet.",
          "Text": "Welcome.Â  No need to be 'red-in-face' considering ' paperwork and politics '. ;) 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 13, 2012, 7:56 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Error while sending QUERY packet.",
          "Text": "Hy, It is come all the time this error and i set set 'max_allowed_packet' in MySQL to 128M. What do you think is the problem? Thank you! Error while sending QUERY packet. PID=26714 /home/findiagr/_fws/yii/framework/db/CDbCommand.php(508) \n```text\n496\n                 Yii::trace('Query result found in cache','system.db.CDbCommand');\n\n497\n                 return $result[0];\n\n498\n             }\n\n499\n         }\n\n500\n \n\n501\n         try\n\n502\n         {\n\n503\n             if($this->_connection->enableProfiling)\n\n504\n                 Yii::beginProfile('system.db.CDbCommand.query('.$this->getText().$par.')','system.db.CDbCommand.query');\n\n505\n \n\n506\n             $this->prepare();\n\n507\n             if($params===array())\n\n508\n                 $this->_statement->execute();\n\n509\n             else\n\n510\n                 $this->_statement->execute($params);\n\n511\n \n\n512\n             if($method==='')\n\n513\n                 $result=new CDbDataReader($this);\n\n514\n             else\n\n515\n             {\n\n516\n                 $mode=(array)$mode;\n\n517\n                 call_user_func_array(array($this->_statement, 'setFetchMode'), $mode);\n\n518\n                 $result=$this->_statement->$method();\n\n519\n                 $this->_statement->closeCursor();\n\n520\n             }\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 26, 2014, 12:17 AM",
          "AuthorName": "Diana Diana",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1886795&course=5",
          "role": [
            "Picture of Diana Diana"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 112915,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=112915",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup of Client files...",
          "Text": "OK, I know that I am going to get the \"hammering\" about looking first before I ask the question... However, I looked through the first 50 or so pages of the 1120 that are available. So here goes... I would like to do a backup of student information, not courses (which I have no problem doing) but I will be darned if I can figure out how to back up the student info. Any suggestions? Thanks for the help: Woody",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 23, 2008, 4:22 AM",
          "AuthorName": "stephen woodin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=515996&course=5",
          "role": [
            "Picture of stephen woodin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 311101,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=311101",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Automated Course Backup Efficiency",
          "Text": "On a number of Moodle instances that we look after we have automated course backup configured in conjunction with cron. Everything works as expected with the exception of the size of the automated backups. We have inferred, perhaps wrongly!, from https://docs.moodle.org/27/en/Backup_and_restore_FAQ#Why_is_my_automated_course_backup_much_smaller_in_size_than_my_manual_course_backup.3F that the automated backups shouldn't contain every piece of content in the course. This does not appear to be the case. The automated backups for us are the same in size as if a manual backup occurred on that day. The result for us is that whatever 'backup | backup_auto_keep' is configured to is the factor by which moodledata storage for the particular course is consumed. For example a 50MB course with Backup -> Keep' set to 5 will result in 5 * 50MB = 250MB of storage use for the automated course backup. In our testing this has been irrespective of the changes or activity on a particular course. If the Automated backup configuration determines that a backup is needed then all course content is duplicated in moodledata rather than the delta. What I would like to know is whether this behaviour is normal, i.e. if you want 5 copies you get 5 full copies, or whether any of the automated course backup settings impact the size? Does, for example, 'Include activities and resources' mean a) include a reference and the asset or b) include just a reference. It has occurred to me that were the automated backup only to include references to content assets in the automated backup file then, upon downloading such a backup the system would have to go and create an archive with the actual assets so I am not surprised by what I'm seeing I just can't reconcile it with the FAQ in the documentation. Cheers, Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 31, 2015, 9:16 PM",
          "AuthorName": "Mark Underwood",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1765954&course=5",
          "role": [
            "Picture of Mark Underwood"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 49669,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=49669",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore is failing",
          "Text": "I made a backup under Moodle 1.5 and am trying to restore it to the Moodle 1.6 server . Here is what happens when I attempt the restore: Creating temporary structures An error has ocurred No other information is given... please help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 13, 2006, 3:06 AM",
          "AuthorName": "A G",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=135355&course=5",
          "role": [
            "Picture of A G"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore is failing",
          "Text": "Can someone please help me?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 15, 2006, 10:57 PM",
          "AuthorName": "A G",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=135355&course=5",
          "role": [
            "Picture of A G"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 181290,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=181290",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "1.9 wiki backup and restore to 2.1",
          "Text": "I've just installed the latest version of Moodle and am attempting to backup a course from Moodle 1.9.10+ 20101222 and restore it to Moodle 2.1. Â This course has a wiki we use for internal tech support content. The course is created, with the wiki, but the wiki content is not restored. Has anyone else seen this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 16, 2011, 9:22 AM",
          "AuthorName": "Robert Wilson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93361&course=5",
          "role": [
            "Picture of Robert Wilson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 1.9 wiki backup and restore to 2.1",
          "Text": "Our 1.9 system is running an old version of Ubuntu LTS that is no longer supported. A fresh start is needed. What I did to backup our course with a wiki was: install the current version of Ubuntu LTS copy the moodle DB and files to the new server Run Phoca Changing Collation tool against the database upgrade the server to 2.1 backup the course and restore it onto our new server.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 19, 2011, 8:52 PM",
          "AuthorName": "Robert Wilson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93361&course=5",
          "role": [
            "Picture of Robert Wilson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 125006,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=125006",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Could not recode [multichoice|truefalse] answer id random######-###### for state ######",
          "Text": "Trying to restore a course backup that includes userdata for a quiz and I am getting several of the following three types of errors: Could not recode truefalse answer id random248828-790606 for state 3769312 Could not recode multichoice answer id random247789-788657 for state 3769313 Could not recode newest state id 3769305 A sample backup file that can be used for testing can be obtained here: https://p2.kvcc.edu/morp/broken_backup.zip We are running version 1.9.4 build 20090205 backup version 2008030301 (obtained from within the moodle. xml backup file) Can anyone help out with this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 4, 2009, 2:01 AM",
          "AuthorName": "Andrew Greig",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=465209&course=5",
          "role": [
            "Picture of Andrew Greig"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Could not recode [multichoice|truefalse] answer id random######-###### for state ######",
          "Text": "We also have this problem on our production site. The backup file was created on a heavily customized 1.9.0 codebase and I'm trying to restore it on the most recent 1.9.5+ codebase, but got these errors: ........ Creating scales Creating events Creating course modules Forum \"News forum\" Quiz \"Practice Midterm 1\" . . . . . . . . . . . . Could not recode newest state id 21582065 Could not recode newest graded state id 21582065 Could not recode newest state id 21582066 Could not recode newest graded state id 21582066 Could not recode newest state id 21582067 Could not recode newest graded state id 21582067 Could not recode newest state id 21582068 Could not recode newest graded state id 21582068 . . . . . . . . Could not recode newest state id 21585724 ...... It seems that this might be related to MDL-15489 , which a lot of people voted for it but has not yet resolved. Some characteristics of the backup course that I ran into problems: 1. There are several quizzes that are randomly drawing 40+ questions from a lot (10+) quiz categories, and most quiz categories contain more than 20 - 30 questions. See: http://yfrog.com/0vlotsofquizcategoriesp 2. Not sure if this is related, but total # of students in this particular course is over 50+. Anyway, there are more info in the MDL-15489 . Go vote for this ticket (please create an FREE account on tracker.moodle.org if you do not have an account yet, then locate this ticket and vote for it. Thanks!) Wen",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 23, 2009, 5:14 AM",
          "AuthorName": "Wen Hao Chuang",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=18123&course=5",
          "role": [
            "Picture of Wen Hao Chuang"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 209081,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=209081",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Mass deleting Course Backups",
          "Text": "We have recently upgraded a large number of Moodle sites from 1.9 to 2.2 After running the cron jobs for the upgraded sites for a few days we discovered that the space use on the server was growing dramatically. What we've found is that in addition to the new Automated backups we also have older course backups on every course on every site - my guess is that they are the old Moodle 1.9 backups. These are not being deleted by the auto backup job as old versions so we've effectively doubled the volume of backups being storred. I'm unable to see the backups in the Moodle data directory as all the file names are hashed and following the conversion process the timestamps aren't as they were when the backups were run. Is there anyway to either delete these en mass from the back end or from in moodle itself or alternatively to find records in the database that show which files the course backups relate to so I can remove db entries and the files to tidy these up?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 16, 2012, 12:43 AM",
          "AuthorName": "Rob Pare",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=231331&course=5",
          "role": [
            "Picture of Rob Pare"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Mass deleting Course Backups",
          "Text": "Wish there was some admin tool that would search the mdl_files table, but don't think there is at this point. Before doing anything like what is suggested below, run a complete backup: data directory and db. In the DB: select * from `mdl_files` where (`filename` like \"%backup%\" and `filename` like \"%.zip%\") Will show if there are any 1.9 backup zips.Â  Will also show the hash information from which one could decifer the directory locations in filedir folder of data folder. Example: Found in a MDL 2 site that has backup-blah.zip's from a 1.9: 89bd873322c3180daddca152afd4fb8517f775b9 4c4fcbf0c12471867ae1eaa0dde8253c6ee04910 274 backup course 0 / backup-bma-NOUSERS-20100119-1029.zip 10189821 application/zip 0 89bd873322c3180daddca152afd4fb8517f775b9 (content hash) Indicates a folder 89 and contained there in a bd folder. /path_to_data/moodle2data/filedir/89/bd shows a file: -rw-rw-rw- 1 apache apache 10189821 Apr 28Â  2011 89bd873322c3180daddca152afd4fb8517f775b9 As long as there is no link to the file in a course, could manually remove the folders and hash file (really the backup-blah.zip) as well as removing the record(s) from the table to 'tidy up'. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 16, 2012, 11:02 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mass deleting Course Backups",
          "Text": "Hi Ken, Thank you for the above - I've been off for a few days but will certainly be looking into this when I get back to the office next week.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 19, 2012, 2:18 AM",
          "AuthorName": "Rob Pare",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=231331&course=5",
          "role": [
            "Picture of Rob Pare"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mass deleting Course Backups",
          "Text": "Finally found time to work my way through a test site today to prove the theory and it works like a charm. Only another 95 sites or so to go! One of the sites I checked quickly today though had 700 course backups - and that definately isn't going to be the worst case scenario. Thank you again - this is a huge time saver.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 22, 2012, 4:30 AM",
          "AuthorName": "Rob Pare",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=231331&course=5",
          "role": [
            "Picture of Rob Pare"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mass deleting Course Backups",
          "Text": "By the way, Ken and Rob, do you think this script/query would also work for 1.9 => 1.9 scenario? I mean delete a lot of old course bacups on Moodle 1.9.x? Also it seems that when the mdl_files table (or you just kept accumulating a lot of older course backup files), it would slow down the SQL server. Is this still the case in the latest Moodle 2.3.x?? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 1, 2012, 3:23 AM",
          "AuthorName": "Judy Hsu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=126329&course=5",
          "role": [
            "Picture of Judy Hsu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mass deleting Course Backups",
          "Text": "1.9 backups were either stored in the course ID folder of moodledata and in a backupdata folder ... so /moodledata/#/backupdata/[backup.zip_file] If running automated backups then they are all in whatever directory the auto backups are pointed to. In a shell (ssh) and located in the moodledata directory: ls -lR ?/backupdata/*.zip will show all the single digit course ID numbered folders backupdata and the zip files contained therein. Example output: -rwxrwxrwx 1 apache apacheÂ Â  23830 Aug 27Â  2009 1/backupdata/backup-k12os-foss-20090827-0940.zip -rwxrwxrwx 1 apache apacheÂ Â  52643 MarÂ  8Â  2012 1/backupdata/backup-k12osfoss-20120308-2303.zip -rwxrwxrwx 1 apache apacheÂ Â Â  1615 Oct 24Â  2008 2/backupdata/backup-sa-20081024-2049.zip -rwxrwxrwx 1 apache apache 4299038 MarÂ  8Â  2012 3/backupdata/backup-mtools101-20120308-2303.zip -rwxrwxrwx 1 apache apacheÂ  158503 Aug 27Â  2009 3/backupdata/backup-tteksglossaries-20090827-0940.zip -rwxrwxrwx 1 apache apacheÂ Â  16165 MarÂ  8Â  2012 6/backupdata/backup-ma101-20120308-2303.zip -rwxrwxrwx 1 apache apacheÂ Â Â  1729 JunÂ  6Â  2010 7/backupdata/backup-sa-20100606-1309.zip For double digt course ID numbered folders: ls -lR ??/backupdata/*.zip For triple digit course ID numbered folders: ls -lR ???/backupdata/*.zip One could move or copy them to another archive folder.Â  Below shows copy ... but one could use rm rather than cp -p to remove.Â  rm will prompt you for yes/no response. cp -p ?/backupdata/*.zip /home/backups/ repeat for ?? and ??? 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 1, 2012, 7:19 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mass deleting Course Backups",
          "Text": "I am not a linux expert, so I always tried to be very very safe on this. More than once my backups did not get rotated, filling up my data-disk in Moodle 1.9 so I tried to search/find the backup* and in german the sicherung* files: /moodle/data # find -type f -name backup* ./3022/backupdata/backup-unterrichtsevaluation_s_2010_todelete-20120730-0513.zip ./1878/backupdata/backup-microeconomics_of_competitiveness_porter_harvard_as10_-20120817-1849.zip I redirected the output to a file, e.g. /moodle/data # find -type f -name backup* > backupFiles.txt /moodle/data # head removeAllBackupZipFiles.sh rm ./22/backupdata/backup-*.zip rm ./24/backupdata/backup-*.zip rm ./37/backupdata/backup-*.zip Then I simply run the above script being sure that only the explicitely mentioned files would be removed/deleted. Of course you can do such things also with find -type f -name backup* -exec command, but I never risked. If I would I would have done an -exec cp to copy or later mv to move the backup-zip-files to a given directory where I would have safely removed them with rm backup* But if you lack space, as I did, copying or moving was not an option, I had to delete them in place. Rosario",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 3, 2012, 6:25 PM",
          "AuthorName": "Rosario CarcÃ²",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=77708&course=5",
          "role": [
            "Picture of Rosario CarcÃ²"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Mass deleting Course Backups",
          "Text": "To find and delete quickly backup files, you could just use the command to list first. Beeing in you dataroot folder. `sudo` `find` `. -` `type` `d -name backupdata -print` And when you are sure, delete: `sudo` `find` `. -` `type` `d -name backupdata -print |` `xargs` `/bin/rm` `-rf` It will delete all backupdata folder. We did this before upgrading from 1.9 to 2.2, we had 350Gb og backup data. or to delete only the files: find . -type f -name backup-* -print | xargs /bin/rm -f",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 22, 2013, 11:04 PM",
          "AuthorName": "JF Bill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1450616&course=5",
          "role": [
            "Picture of JF Bill"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 167272,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=167272",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "copia de seguridad de un curso",
          "Text": "buenos dÃ­as\n\nrespecto a la copia de seguridad de un curso, resulta que no me deja realizar la ya que en el momento de dar continuar en la plataforma no me aparece.\n\nlo que estoy realizando es lo siguiente:\ningreso al aula, despuÃ©s voy a copia de seguridad, bajo y doy clic en continuar, me lista todo lo que va a estar en la copia de seguridad y no me aparece el botÃ³n de continuar.\n\nalguien podrÃ­a colaborarme para poder tener el botÃ³n de continuar de nuevo. solo pasa en un curso de la plataforma.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 27, 2011, 12:28 AM",
          "AuthorName": "Jorge Eduardo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1290649&course=5",
          "role": [
            "Picture of Jorge Eduardo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 333724,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=333724",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Automated backups to be saved to an external location?",
          "Text": "Hello all, I am a newbie with Moodle administration but I would like to be able to set up Automated Backups to save off the server of my host . So to be saved to an external location such as my Google Drive/Sugarsync archive or even a container/location in my Google Apps account. Is this possible? Have anyone done this and know how to? using the right permissions ect..? Would appreciate your thoughts. Cheers, Ben",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 26, 2016, 2:50 PM",
          "AuthorName": "Benjamin Waller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1390888&course=5",
          "role": [
            "Picture of Benjamin Waller"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Courses > Backups >  Automated backup setup vs Server > Scheduled Tasks > Automated backups",
          "Text": "Hi, Thanks for reviving this useful discussion , but, as you're asking something really different, you should have created a new discussion. I hope someone will \"separate\" this to a new discussion. Appart that, sorry i don't have any clue about how this could be possible. SÃ©verin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 26, 2016, 4:33 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups to be saved to an external location?",
          "Text": "Note from moderator: Discussion thread split as suggested. Sorry I can't help you either Ben, though hopefully others will notice this new discussion and reply.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 26, 2016, 4:48 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups to be saved to an external location?",
          "Text": "Basically, you need an url that the Moodle server can access. Â You are not going to be able to put in a username and password so it will have to be an accessible url. Â You might find it easier to send the backups to a folder on your server and then sync that folder with your sugarsync account. Thanks Helen for splitting out! Â The moderator must have been slipping - lol~",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 26, 2016, 10:47 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups to be saved to an external location?",
          "Text": "Automated backups to Google Drive would be dependent upon platform upon which Moodle resides.Â  If on Windows, for example, install Google Sync on machine that is setup to sync a Google accounts drive (assuming that would be yours).Â Â  Once that is done, find the directory Google Sync is using.Â Â  Then, in Moodle, set up a file system repo and point repo to the directory for Goolge Sync.Â Â  Last step, automated backups setup that point to alternative location ... would be directly to the location of the storage for Google Sync on local drive. So on a Mac or a Windows server ... easily done.Â Â  On a Linux box ... it would take some work ... but any Linux OS that had Google Sync could be used the same way.Â Â  Might have to have a GUI desktop to do it, but there might be a way via command line ... depending. If on a shared server .. kinda doubt there would be a way, but ... ask provider about it. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 27, 2016, 12:56 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 360292,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360292",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Lost backup",
          "Text": "We backed up two courses (but didn't download ) and merged one course into another. We find that some of our files/folders did not get merged from the course that we merged into the other. We cannot now find the backup We have admin rights to our Moodle system but our backend database admin is outsourced. Is there a way we as user admins can retrieve and if not is the database admin likely to be able to retrieve the backup?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 20, 2017, 9:05 AM",
          "AuthorName": "Paul McCarthy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2329420&course=5",
          "role": [
            "Picture of Paul McCarthy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Lost backup",
          "Text": "You will have to work with your DB admin person to find the location of backups.Â Â  Backups are in the sea of files in moodledata/filedir/ and no longer by humanly recognizable names nor filename extensions. This query of the DB for your moodle will find all backup files: select contenthash,filename,filesize from `mdl_files` where (`filearea` like \"backup\" and `filename` like \"%.mbz%\") The contenthash value above shows the location of the backup file in moodledata/filedir/ Output of the query above looks like: 5f6aa594344ce919ce61ecba9d3b46035562e224 backup-moodle2-course-242-pre-ap_wg-20170525-1349-nu.mbz 9656127292 397f6305ea15ede0aeac4c48a65e07dffa3d153b backup-moodle2-course-40-forensics-20170525-1136-nu.mbz 2790158896 Let's say the first .mbz file listed in the above table is the one you want ... It's contenthash 5f6a.... tells you that the file is located in: moodledata/filedir/5f/6a/ and it's file name is 5f6aa594344ce919ce61ecba9d3b46035562e224 IF it was a teacher in the course that made the backup, login as that teacher and look in that teachers private files. To work with that backup file, suggest copying it out to another directory and change it's name to something you can recognize.Â Â  I use a 'unirepo' file system to do that and command line ... you could use (with caution) any tool you might have to browse/copy files. You might find an addon/plugin that will help: https://moodle.org/plugins/index.php?q=backup 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 20, 2017, 7:17 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lost backup",
          "Text": "Thanks Ken - have passed on to our DB admin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 23, 2017, 6:16 AM",
          "AuthorName": "Paul McCarthy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2329420&course=5",
          "role": [
            "Picture of Paul McCarthy"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 67957,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=67957",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "No \"Restore to\" dropdown list button on Restore",
          "Text": "I am currently moving a course from one server to another, and the backup process went well. I made it through to the third screen and there are no choices for where (or what) to restore the backup to (and because of this, the restore errors out with a parameter error). I couldn't find this issue on the forums, so hopefully it's me. I'm running the latest daily build of 1.7.1+. Peace, Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 29, 2007, 12:59 AM",
          "AuthorName": "Chris Judson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20374&course=5",
          "role": [
            "Picture of Chris Judson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 426848,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=426848",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Error Reading From Database when Backing Up Course",
          "Text": "Hi all, I'm trying to backup the courses and activities from an old moodle site to restore in a new moodle site. I've tried updating the max_allow_packet up to 1024M, backup through moosh, automated backup, and the regular backup.php on the cli. I keep getting the below error, I'm not using MNET and my backup is specifying no user data. I could really use some help! Thanks! root@sga [/home/sgaweb/public_html/campus]# moosh -n course-backup --template -f '/home/sgaweb/public_html/course_backup/Practical Employee Relations - Replacing Liability with Credibility.mbz' 11 !!! Error reading from database !!! !! MySQL server has gone away SELECT COUNT(*) FROM mdl_backup_ids_temp b JOIN mdl_user u ON u.id = b.itemid WHERE b.backupid = ? AND b.itemname = 'userfinal' AND u.mnethostid != ? [array ( 0 =&gt; 'a72c5eb79bacd04db0032d13eb45f4ce', 1 =&gt; '1', )] Error code: dmlreadexception !! !! Stack trace: * line 443 of /lib/dml/moodle_database.php: dml_read_exception thrown * line 1080 of /lib/dml/my sql i_native_moodle_database.php: call to moodle_database-&gt;query_end() * line 1476 of /lib/dml/moodle_database.php: call to mysqli_native_moodle_database-&gt;get_records_sql() * line 1549 of /lib/dml/moodle_database.php: call to moodle_database-&gt;get_record_sql() * line 1759 of /lib/dml/moodle_database.php: call to moodle_database-&gt;get_field_sql() * line 471 of /backup/util/dbops/backup_controller_dbops.class.php: call to moodle_database-&gt;count_records_sql() * line 1552 of /backup/moodle2/backup_stepslib.php: call to backup_controller_dbops::backup_includes_mnet_remote_users() * line 88 of /backup/util/plan/backup_structure_step.class.php: call to backup_main_structure_step-&gt;define_structure() * line 181 of /backup/util/plan/base_task.class.php: call to backup_structure_step-&gt;execute() * line 177 of /backup/util/plan/base_plan.class.php: call to base_task-&gt;execute() * line 120 of /backup/util/plan/backup_plan.class.php: call to base_plan-&gt;execute() * line 320 of /backup/controller/backup_controller.class.php: call to backup_plan-&gt;execute() * line 95 of /root/moosh/Moosh/Command/Moodle23/Course/CourseBackup.php: call to backup_controller-&gt;execute_plan() * line 361 of /root/moosh/moosh.php: call to Moosh\\Command\\Moodle23\\Course\\CourseBackup-&gt;execute() !! Warning: var_export does not handle circular references in /home/sgaweb/public_html/campus/lib/classes/shutdown_manager.php on line 83 Warning: var_export does not handle circular references in /home/sgaweb/public_html/campus/lib/classes/shutdown_manager.php on line 83 Warning: var_export does not handle circular references in /home/sgaweb/public_html/campus/lib/classes/shutdown_manager.php on line 83 Warning: var_export does not handle circular references in /home/sgaweb/public_html/campus/lib/classes/shutdown_manager.php on line 83 Warning: var_export does not handle circular references in /home/sgaweb/public_html/campus/lib/classes/shutdown_manager.php on line 83 Fatal error: Uncaught exception 'dml_read_exception' with message 'Error reading from database' in /home/sgaweb/public_html/campus/lib/dml/moodle_database.php:443 Stack trace: #0 /home/sgaweb/public_html/campus/lib/dml/mysqli_native_moodle_database.php(526): moodle_database->query_end(false) #1 /home/sgaweb/public_html/campus/lib/ddl/sql_generator.php(230): mysqli_native_moodle_database->get_tables() #2 /home/sgaweb/public_html/campus/lib/ddl/database_manager.php(99): sql_generator->table_exists(Object(xmldb_table)) #3 /home/sgaweb/public_html/campus/lib/ddl/database_manager.php(318): database_manager->table_exists(Object(xmldb_table)) #4 /home/sgaweb/public_html/campus/lib/dml/moodle_temptables.php(140): database_manager->drop_table(Object(xmldb_table)) #5 /home/sgaweb/public_html/campus/lib/dml/moodle_database.php(370): moodle_temptables->dispose() #6 /home/sgaweb/public_html/campus/lib/dml/mysqli_native_moodle_database.php(481): moodle_database->dispose() #7 /home/sgaweb/public_html/campus/lib/dml/moodle_database.php(1 in /home/sgaweb/public_html/campus/lib/dml/moodle_database.php on line 443",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 14, 2021, 11:36 AM",
          "AuthorName": "Kiel Howell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4448979&course=5",
          "role": [
            "Picture of Kiel Howell"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error Reading From Database when Backing Up Course",
          "Text": "' from an old moodle site ' - how old? Version of moodle? Also what version of Moodle attempting to install to as well as version of moosh is installed?Â  PHP version? In comparing your moosh command to https://moosh-online.com/commands/#course-backup looks nothing like your command? Example 3: Backup course id=3 without any user data (excludes users, logs, grade historyies, role assignments, comments, and filters): -n option is ok, but the -f stuff? Are you trying to save the .mbz to another location?Â  Don't. Moosh will create file backup filename.Â  Like below (real example): [root@sos cli]# moosh32 -n course-backup --template 59 returned: /var/www/html/moodle38/admin/cli/backup_59_MDLCLI_2021.09.14.mbz (I have multiple moosh versions so moosh32 command above is correct only for my server ... not other servers.) You can move the .mbz after moosh completes. Also, hows the DB for that site? Might want to run the mysql_ scripts in code/admin/cli/ 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 14, 2021, 5:19 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error Reading From Database when Backing Up Course",
          "Text": "Hi Ken, thanks for the response! The old site is 2.7.2 and the new site is 3.10.3 I was combining the examples from moosh and using the -f to go to a specific location and to name the output file while using the --template flag. Running moosh -n course-backup --template 11 gives me the same result. I ran the mysql_compressed_rows.php script and reran the moosh command, same result. The mysql_collation.php script shows utf8_general_ci for all my tables. The mysql_enging.php script shows InnoDb for all tables.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 14, 2021, 7:35 PM",
          "AuthorName": "Kiel Howell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4448979&course=5",
          "role": [
            "Picture of Kiel Howell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 122260,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=122260",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restoring links to forums",
          "Text": "I have just migrated our Moodle site from an external server to an internal server. Everything seems to have gone fine except for restoring the links to forums on the Front Page .The old site has the forum links on the front page under the summary window. The new site won't display the links. I have the option to add new forums but not to add links to existing forums. The forums have been restored and are accessible from the forums page. Forums on course modules have been restored correctly along with their links. I am using Moodle 1.9.3+ (Build: 20081126) running on a Window Server with php5 and IIS",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 29, 2009, 9:46 PM",
          "AuthorName": "Paul Magnall",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=463083&course=5",
          "role": [
            "Picture of Paul Magnall"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 230620,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=230620",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Disable Importing into 2.4.x",
          "Text": "Is there a way in 2.4.x to disable the importing of courses? Backstory: I have an old 1.9.x Moodle, 10k courses 30k+ users. I am moving them to a 2.4.x server , actually I am splitting them and moving them to multiple servers but thats a longer story lol. Each Dept head will manage a separate category in the new 2.4.x. Importing of old 1.x courses will not be allowed but I cannot watch them all the time, so is there a way to disable importing of old courses without actually affecting importing files etc etc.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 13, 2013, 6:27 PM",
          "AuthorName": "Dave Harding",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=253736&course=5",
          "role": [
            "Picture of Dave Harding"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Disable Importing into 2.4.x",
          "Text": "Hi Dave, I suggest you try temporarily preventing the capability moodle/restore:restorecourse for the dept head role.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 13, 2013, 9:23 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 4154,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=4154",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restoring backups to later versions of Moodle",
          "Text": "Will it be possible to restore current version 1.1(.1) backups into Moodle versions 1.2 and beyond? [I recall that it wasn't possible to restore backups made with development versions of the backup utility into the final release version 1.1.]",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 20, 2003, 10:19 PM",
          "AuthorName": "Zbigniew Fiedorowicz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2466&course=5",
          "role": [
            "Picture of Zbigniew Fiedorowicz"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring backups to later versions of Moodle",
          "Text": "Yes.Â  As of the official release (in 1.1) backward compatibility is of prime concern (particularly for a backup feature!)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 20, 2003, 10:53 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 59146,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=59146",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "backups too large to upload to a new server",
          "Text": "I need to overcome file size limits on uploading/restoring some moodle courses to a new server . How can the courses be broken up into pieces? (Or is it difficult to upload them--and then add them to our new moodle site using FTP ?) Our problem is that moodle on the new server initially limited uploads to 24MB, while two of the course backups that I'd like to upload there are 38MB and 43MB respectively. One tactic was to contact the server folks for help. Their staff replied like this: <begin quote> I have created a local php.ini file in which I have define the value of this size to be 50M upload_max_filesize = 50M However it is a local php.ini file and it is not certain that this will help you to upload bigger than 24MBs files (the global upload_max_filesize is set to 24M). <end quote> I then re-tried uploading the same backups but now got an error message (I guess at the end of the upload) saying there was an id missing. I've tried backing up small portions of these courses (quizes only for one unit of a six-unit course) but surprisingly, that doesn't seem to have much affect on the final file size that I end up with. It certainly doesn't drop it below 24MB.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 21, 2006, 3:34 PM",
          "AuthorName": "John Dennis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=48893&course=5",
          "role": [
            "Picture of John Dennis"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: backups too large to upload to a new server",
          "Text": "Hi John, Have a look a this page: http://docs.moodle.org/en/Installing_Moodle Especially: You can also do things like define the maximum size for uploaded files: \n```text\nLimitRequestBody 0\nphp_value upload_max_filesize 2M\nphp_value post_max_size 2M\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 21, 2006, 4:58 PM",
          "AuthorName": "Ray Lawrence",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7127&course=5",
          "role": [
            "Picture of Ray Lawrence"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 142690,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=142690",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "hidden resources or activities",
          "Text": "Does anyone know if you hide a resource/activity individually or globally (entire section) in a Moodle course, when a backup is made and restored to another shell, are any \"hidden\" settings carried over to the new shell?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 30, 2010, 1:39 AM",
          "AuthorName": "David Wong",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=54547&course=5",
          "role": [
            "Picture of David Wong"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: hidden resources or activities",
          "Text": "If by \"shell\", you mean a different installation of moodle, then yes. We have multiple installations (moodle 1.9.5) where I use backup/restore to move courses between them. Some of the items, like Word doc answer keys, are in the course but hidden, so only the instructor can see them. We've never had a problem with them \"unhiding\". I can only speak to items that are individually hidden.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 30, 2010, 3:27 AM",
          "AuthorName": "Abraham Ott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=620591&course=5",
          "role": [
            "Picture of Abraham Ott"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 110621,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=110621",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Can not restore",
          "Text": "My system crashed and I am trying to restore from backup files. Most courses work but several stop right at the beginning, up to : Course restore: backup-b101-20071107-2131.zip Creating temporary structures Deleting old data Copying zip file Unzipping backup Can anyone help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, November 16, 2008, 3:42 AM",
          "AuthorName": "Jacob Romeyn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2&course=5",
          "role": [
            "Picture of Jacob Romeyn"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can not restore",
          "Text": "Hi Jacob, Please see the question about restore stopping in Backup and restore FAQ for a possible cause and the solution.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 17, 2008, 4:19 AM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can not restore",
          "Text": "The Backup and restore FAQ's entry regarding failure to restore only addresses the problem resulting from different versions of Moodle. In my case, I am backing up a course and trying to restore it to a new course on the same installation of Moodle so the version is identical. Things work fine until it gets to Creating course modules Fatal error : Allowed memory size of 201326592 bytes exhausted (tried to allocate 5 bytes) in .../moodle/lib/xmlize.php on line 53 Obviously the problem is related to memory and I CAN restore the file on my test server (which has the same Moodle files but a different version of PHP and more memory allocated in php.ini).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 5, 2009, 3:28 AM",
          "AuthorName": "Richard Webb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=40637&course=5",
          "role": [
            "Picture of Richard Webb"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can not restore",
          "Text": "I'm having this same problem (the referenced doc doesnt help). I checked, and the file is partially extracting, but dies (In my case it dies at maybe 10% or so). Re-backing up the same course still produces the problem over again. I can unzip the backup at the server command line level, so it's not an inherent file corruption.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 6, 2008, 4:31 AM",
          "AuthorName": "Eric Merrill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=139623&course=5",
          "role": [
            "Picture of Eric Merrill",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can not restore",
          "Text": "I fixed it on our site by adding \"raise_memory_limit(\"512M\");\" to backup/restorelib.php in function restore_unzip(), before the line that starts with 'return' It appears that the core php unzip lib was choking on a large file in the zip, but doesn't throw an error, even at the php level.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 6, 2008, 5:34 AM",
          "AuthorName": "Eric Merrill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=139623&course=5",
          "role": [
            "Picture of Eric Merrill",
            "Picture of Core developers",
            "Picture of Moodle HQ",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can not restore",
          "Text": "It is easier to setup the 'path to zip' and 'path to unzip' to your system zip utility location from moodle/Server/System Path. Changing the zip and unzip path will need no change to moodle php code. BTW , I have another related issue. If I backuped a course with a newer moodle version and try to restore into an old version. How I can do it? Thanks, Steven",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 18, 2008, 2:54 PM",
          "AuthorName": "steven lu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=752070&course=5",
          "role": [
            "Picture of steven lu"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 16830,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=16830",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Back ups not running",
          "Text": "Hi Folks Much to my horror the back-ups are not running - logs show 'error' but not why. I've had a look at the database and there seems to be a problem with one file. This is the report: > Can't open file: 'mdl_cache_text.MYD'. (errno: 145) Error SQL -query : SHOW KEYS FROM `mdl_cache_text` MySQL said: \n```text\n#1016 - Can't open file: 'mdl_cache_text.MYD'. (errno: 145)\n\n\n>\n```\n \n```text\nI've had the systems people check the settings and I can at least now \ndownload\n the definitions but if I save as a zipped file, its empty.\n```\n `However, running ../backups/try.php puts the backup files in the pathway I set in the backups page under the Admin settings` `Be grateful for advice; the definitions report is attached`",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 5, 2005, 6:03 AM",
          "AuthorName": "Robin Trangmar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16353&course=5",
          "role": [
            "Picture of Robin Trangmar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Back ups not running",
          "Text": "You need to repair your database. Get your sysadmins to run myisamchk on all the database tables.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 5, 2005, 6:42 AM",
          "AuthorName": "MartÃ­n Langhoff",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13727&course=5",
          "role": [
            "Picture of MartÃ­n Langhoff"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Back ups not running",
          "Text": "Thanks Martin Sysadmins ran myisamchk and resolved most of the problems - once they had done that I was able to compact and repair a few times and things are now back to normal. Thanks again for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 11, 2005, 12:33 AM",
          "AuthorName": "Robin Trangmar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16353&course=5",
          "role": [
            "Picture of Robin Trangmar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 245010,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=245010",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Recover courses previous install",
          "Text": "Hi. I had Moodle version 2.4, then now I have Moodle 2.6 (fresh install). Before starting the new fresh install I downloaded all the files from the host to my computer. I now want to restore all the courses from the previous site. How do I do this? This is the site now: farol.athenasx.com.br/moodle (we have no content now). Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 3, 2013, 3:48 AM",
          "AuthorName": "b. designer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1729668&course=5",
          "role": [
            "Picture of b. designer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Recover courses previous install",
          "Text": "anyone can help me out?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 13, 2013, 9:08 PM",
          "AuthorName": "b. designer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1729668&course=5",
          "role": [
            "Picture of b. designer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Recover courses previous install",
          "Text": "Did you dump the database as well? Â If so, you can go through the migration process (search migration in Moodle docs ) and put all of your old data into the new site. Â Otherwise, you need to find your course backup files (which hopefully you have - of course much easier if you had set them to backup to one folder) and then start restoring them one by one.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 13, 2013, 9:49 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 139944,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=139944",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "After SQL import of full database, login failed",
          "Text": "i tried to test a moodle site for backing up and restoring. first i went into phpmyadmin of my host and selected the moodle database and exported the full database to . sql file next i used phpmyadmin on my PC (wamp server ), created a database moodledb2 and imported the .sql (file created in the first step) then i made the change in config.php to the new database when i started to browse this on my pc, the front page looks fine.. but it does not allow me to login with the username and password that was created on the original installation (host). i checked the users table content and the md5 hash is the same for the online one and my pc one.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 14, 2009, 5:40 PM",
          "AuthorName": "dna helix",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1051031&course=5",
          "role": [
            "Picture of dna helix"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: After SQL import of full database, login failed",
          "Text": "Hello, It would help a bit if you can say us what kind of error you are seeing, If you get an invalid username and password error, then for sure it is something to do with the database record for that particular username.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 14, 2009, 7:35 PM",
          "AuthorName": "Ravishankar Somasundaram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761222&course=5",
          "role": [
            "Picture of Ravishankar Somasundaram"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: After SQL import of full database, login failed",
          "Text": "The error is : Invalid login, please try again The error is same for all the usernames",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 14, 2009, 7:43 PM",
          "AuthorName": "dna helix",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1051031&course=5",
          "role": [
            "Picture of dna helix"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: After SQL import of full database, login failed",
          "Text": "This happened to me the other day. My problem was that the config.php started with <<? instead of <?. I have seen this in others when they had extra spaces at the very end of config.php. Sometimes these small errors are really hard to spot. Hope that helps, Mike",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 15, 2009, 11:45 AM",
          "AuthorName": "Mike Korn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=240014&course=5",
          "role": [
            "Picture of Mike Korn"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: After SQL import of full database, login failed",
          "Text": "You had <<? instead of <? which returned a error message saying invalid username or password ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 15, 2009, 4:05 PM",
          "AuthorName": "Ravishankar Somasundaram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761222&course=5",
          "role": [
            "Picture of Ravishankar Somasundaram"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: After SQL import of full database, login failed",
          "Text": "Having the same problem. Did you ever sort this out?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 25, 2010, 5:58 PM",
          "AuthorName": "Michael Kapus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=987199&course=5",
          "role": [
            "Picture of Michael Kapus"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: After SQL import of full database, login failed",
          "Text": "Hello all, I also encounter the same problem when i was upgrading the my Test machine. after importing the MYSQL DB backup to the Test database, when i upgrade moodle to 1.9.7 and tried to login it was not allowing me to login as ADMIN. I also check from backend from DB to change the password, but it didn't worked (using mdl_user table). At last i had to change the password with this help of emails. Clicked on forgot password and then it asked for username/email address and than it sent the password through emial. If your ADMIN user has different email address you cna change it from mdl_user table and place your email address there and this way you can have the password sent to you. I think it is an security feature for moodle 1.9.7. Hope this help. ~Satyajit",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 25, 2010, 7:24 PM",
          "AuthorName": "satyajit Choudhury",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=922824&course=5",
          "role": [
            "Picture of satyajit Choudhury"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: After SQL import of full database, login failed",
          "Text": "Thank you for your reply. I can't even get the email to change the forgotten password. I am trying to import my users into a fresh moodle instal via myphp admin import. I can get all the users info into the new database but can't log any of them in. If you think of anything let me know. I have also tried CSV format and import directly through Moodle upload users.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 25, 2010, 8:28 PM",
          "AuthorName": "Michael Kapus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=987199&course=5",
          "role": [
            "Picture of Michael Kapus"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: After SQL import of full database, login failed",
          "Text": "You can do this, after everything is down and you are about to login to the Moodle Site, for example as Admin User: 1. Go to MYSQL or whatever DB. 2. Update the email address for the user \"admin\" in mdl_user table. for example: UPDATE mdl_user SET email = 'satyajit@r00t4u.com' where user = 'admin'; 3. Now Your email address has been updated. Now you can go to the browser and click on forgot password. 4. It will ask for the username/email address and once you give that it will send you the temporary generated password through email. Hope this help. ~Satyajit",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 25, 2010, 9:50 PM",
          "AuthorName": "satyajit Choudhury",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=922824&course=5",
          "role": [
            "Picture of satyajit Choudhury"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: After SQL import of full database, login failed",
          "Text": "Hi Michael, There are some recent issues in the tracker concerning user upload . hth Frank",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 25, 2010, 10:30 PM",
          "AuthorName": "Frank Ralf",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=728638&course=5",
          "role": [
            "Picture of Frank Ralf"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: After SQL import of full database, login failed",
          "Text": "I met the same problem. I copy this line $CFG->passwordsaltmain = \"....\" in the old configuration file of old moodle server to new configuration file of new server. I solved my problem. More about password salting: http://docs.moodle.org/eu/report/security/report_security_check_passwordsaltmain -- Moodle 1.9.9+ (Build: 20100630)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 4, 2010, 2:45 PM",
          "AuthorName": "planetoid h.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=154872&course=5",
          "role": [
            "Picture of planetoid h."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: After SQL import of full database, login failed",
          "Text": "thank you i am also have the problem with login invalid login please try again i changed to the old configuration its fine working Â thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 10, 2012, 7:37 PM",
          "AuthorName": "vinoth kumar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1339644&course=5",
          "role": [
            "Picture of vinoth kumar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: After SQL import of full database, login failed",
          "Text": "Thanks planetoid h. I had the same problem and was able to correct it in the config.php by making use of your method to solve it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 15, 2014, 8:23 PM",
          "AuthorName": "Ogoni Olomu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1769597&course=5",
          "role": [
            "Picture of Ogoni Olomu"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 139477,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=139477",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup / Restore Serious Problems",
          "Text": "I have read many of these messages and I believe there are two major problems with Backup and Restore. 1) You cannot upload even a SMALL course ZIP file (20MB+) because some Moodles only allow 2 MB, others 8MB. Right there you have to use FTP and find the backupdata folder in order to have the backup file even appear when you click Restore in the left-hand sidebar of the receiving Moodle. 2) If you DO manage to get a ZIP file placed so that it shows up on another server 's Restore function, it usually complains that the 1.9.x Moodle that made the backup is a different VERSION than the 1.9.x Moodle being asked to restore. These would seem to be true statements for the 1.9.x Moodles. Backup and Restore works within the SAME Moodle because the upload restriction does not come into play and because, being the same Moodle, the version numbers naturally are an exact match. You cannot upload a backup file in another Moodle (to install a course) without server access by FTP. The Moodle itself CANNOT do this because the USER upload limit is applied to ADMINs when they try to back up and restore, preventing the procedure. The versions of creating and restoring Moodle software must be IDENTICAL or the process CAN NOT be used to move a Moodle course from one server to another. The chances of this being the case are very slight effectively prohibiting the use of Backup and Restore to send a course to another Moodle.â€”Sherman Keene",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 7, 2009, 11:47 PM",
          "AuthorName": "Sherman Keene",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=341147&course=5",
          "role": [
            "Picture of Sherman Keene"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 119508,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=119508",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Manual Course Backup from 1.8+ to 1.93 not restoring...",
          "Text": "Hey All, I have a new instance of Moodle 1.93 which I am trying to restore a course backup from a 1.8+ moodle. The restore process seems to get as far as unzipping backup then stops. The backup is ~90Mb and is a functional and accessible zip file. Is there : a) A workaround for this issue? or b) A manual restore process i can use?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 24, 2009, 7:32 AM",
          "AuthorName": "Selena Clarke",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=125800&course=5",
          "role": [
            "Picture of Selena Clarke"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 206346,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=206346",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Having trouble merging user data into archive",
          "Text": "I have a situation where people go through the course at their own pace.Â Â  People are starting, finishing, and working at different times/places.Â  It is necessary to archive people when they finish up so we have record of their work and so they aren't taking the space up on the page and in the gradebook for the instructor. I used to be able to backup only the user data and then merge it into the archive course (previous to 2.0).Â  I'm running 2.1.2+ currently and it seems that I no longer have the option to backup only the user data, but am required to backup the activity as well. The problem comes in when I merge the backup (with activities and corresponding user data) to the archive course.Â  It duplicates the activities instead of merging, on the main course page and within the gradebook. Is there something I'm missing that would allow me to backup only the user data and merge it into an existing course? Thanks in advance! Laureen Ferry",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 5, 2012, 11:50 PM",
          "AuthorName": "Laureen Ferry",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=621936&course=5",
          "role": [
            "Picture of Laureen Ferry"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 176518,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=176518",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Duplicate key for category_sortorder on restores",
          "Text": "During a restore, I get the following error message:Â \" error writing to database \" The debug information indicates that there is a duplicate key for category_sortorder causing this error. The issue appears to be that a default sort_order of 0 is set on a course if it is being restored as a new course. Â What ends up happening is you can successfully restore a single course to a category, but any other restored courses to the same category fail. This same mishandling of the sort_order value also throws errors when moving courses from one category to another AND when rearranging courses within a category. There doesn't appear to be any sort of checking for duplicate sort order values before the query is performed. Please fix this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 1, 2011, 1:30 AM",
          "AuthorName": "Jeff Ottinger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=588245&course=5",
          "role": [
            "Picture of Jeff Ottinger"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Duplicate key for category_sortorder on restores",
          "Text": "```text\nDebug info: Duplicate entry '3-0' for key 2\n```\n \n```text\nINSERT INTO mdl_course (fullname,shortname,category,sortorder,timecreated,timemodified,visible) VALUES(?,?,?,?,?,?,?)\n```\n \n```text\n[array (\n```\n \n```text\n0 => 'Course restoration in progress',\n```\n \n```text\n1 => 'restoring',\n```\n \n```text\n2 => '3',\n```\n \n```text\n3 => 0,\n```\n \n```text\n4 => 1306446184,\n```\n \n```text\n5 => 1306446184,\n```\n \n```text\n6 => '1',\n```\n \n```text\n)]\n```\n \n```text\nStack trace:\n```\n \n```text\nline 394 of /lib/dml/moodle_database.php: dml_write_exception thrown\n```\n \n```text\nline 878 of /lib/dml/my\nsql\ni_native_moodle_database.php: call to moodle_database->query_end()\n```\n \n```text\nline 920 of /lib/dml/mysqli_native_moodle_database.php: call to mysqli_native_moodle_database->insert_record_raw()\n```\n \n```text\nline 1345 of /backup/util/dbops/restore_dbops.class.php: call to mysqli_native_moodle_database->insert_record()\n```\n \n```text\nline 230 of /backup/util/ui/restore_ui_stage.class.php: call to restore_dbops::create_new_course()\n```\n \n```text\nline 27 of /backup/restore.php: call to restore_ui_stage_destination->process()\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 1, 2011, 4:14 AM",
          "AuthorName": "Jeff Ottinger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=588245&course=5",
          "role": [
            "Picture of Jeff Ottinger"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Duplicate key for category_sortorder on restores",
          "Text": "Why doesn't fix_course_sortorder() in datalib.php fix this?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 16, 2011, 7:40 AM",
          "AuthorName": "Jeff Ottinger",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=588245&course=5",
          "role": [
            "Picture of Jeff Ottinger"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 242810,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=242810",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Meaning of extensions -nu.mbz and -an.mbz",
          "Text": "Hi, Most of the time, backup filenames are like this : backup-moodle2-course-coursename-date-hour.mbz But sometimes, I've seen there's something more at the end of the filename, ending with -nu.mbz or -an.mbz Could someone explain what it means exactly, and if there are other extensions like these... I suspect -nu stand for \"no user\", but i'm not sure. And -an could be for \"Anonymized names\" ? SÃ©verin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 17, 2013, 5:41 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Meaning of extensions -nu.mbz and -an.mbz",
          "Text": "Hi, really, nobody knows ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 19, 2013, 11:53 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Meaning of extensions -nu.mbz and -an.mbz",
          "Text": "Of course, the code knows: https://github.com/moodle/moodle/blob/master/backup/util/dbops/backup_plan_dbops.class.php#L245 . Your guess was right.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 20, 2013, 12:03 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Meaning of extensions -nu.mbz and -an.mbz",
          "Text": "Thanks Tim. It also answers my question : there's no other \"extension\" (for the moment).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 20, 2013, 4:35 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 17314,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=17314",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Unzipping Asking for a Password",
          "Text": "I backed up and zipped up a course correctly. When I go to extract/unzip the file on my computer, it asks for a password. Nothing in the course is password protected. Can anybody give me some advice?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 18, 2005, 12:58 AM",
          "AuthorName": "John Pederson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=19345&course=5",
          "role": [
            "Picture of John Pederson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 161205,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=161205",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Serious Problems with 1.9.9",
          "Text": "Hello all, I used Fantastico to update my Moodle installation.Â  When I did, I had an issue with my teachers not being recognized as teachers in their own classes. Thus, they couldn't copy from one course to another.Â  So, to fix that problem I have downloaded the 1.9.9 zip and re-installed.Â  Problem's seem to go away, but now teachers can't add files (we get an error that says are you sure you added a file) and they can't copy from one class to another (they get an error that says: Note: This backup contains no users and so all activities have been switched to \"without user data\" mode. Exercise and Workshop activities will not be included in the backup, since these modules are not compatible with this type of backup. Then it errors out and says there is an error with the start?Â  If anyone can help, I am really at a loss! Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 29, 2010, 9:14 AM",
          "AuthorName": "Mark Snodgrass",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=218204&course=5",
          "role": [
            "Picture of Mark Snodgrass"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 189192,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=189192",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Importing: how do I turn off the ticks for activities",
          "Text": "When importing in Moodle 2.* the boxes for the activities are all ticked. Often I only need one or two activities and I have to untick dozens of boxes. Is there a way to untick them all at once automatically?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 28, 2011, 4:23 AM",
          "AuthorName": "Christian Bokhove",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3023&course=5",
          "role": [
            "Picture of Christian Bokhove"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Importing: how do I turn off the ticks for activities",
          "Text": "Hi Christian Have you ever received an answer or a solution to this issue? I'm facing the same annoyance. Regards Yvonne",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 12, 2011, 2:17 AM",
          "AuthorName": "Yvonne van Lingen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=51162&course=5",
          "role": [
            "Picture of Yvonne van Lingen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 29298,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=29298",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "What goesin a backup?",
          "Text": "With more and more blocks becoming available, the question raises how the teacher can control the content of a course backup: for a complete course the resources and/or activities in some blocks become part of the core of a course... Eloy, how is the course backup handling the blocks?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 20, 2005, 6:31 PM",
          "AuthorName": "Ger Tielemans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2675&course=5",
          "role": [
            "Picture of Ger Tielemans"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 58170,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=58170",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "backups restoring at another server",
          "Text": "hi we have our application developed on moodle 1.4. we have just taken another dedicated server to launch our application for the second branch of our university which is in another country and having different domain . now we are taking the backups from one server and restoring them on the second server but the problem comes with the links as it is taking the same old links after restoration on the new server. e.g if i backup from http://www.oldsite.com and put on the second server having domain http://www.newsite.com but the links are the same of http://www.oldsite.com . how to overcome this problem????? anybody faces this problem before????",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 9, 2006, 1:59 PM",
          "AuthorName": "tm tm",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=142786&course=5",
          "role": [
            "Picture of tm tm"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: backups restoring at another server",
          "Text": "To change urls, people tend to download the database and then do search and replace on it in a text editor, or use SQL to do search and replace on the database in situe, or use Martin D's easter egg: http://yourmoodle.com/admin/replace.php but only after backingÂ up your database .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 9, 2006, 3:04 PM",
          "AuthorName": "Timothy Takemoto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4185&course=5",
          "role": [
            "Picture of Timothy Takemoto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backups restoring at another server",
          "Text": "hi but i have so much data that to replace by text editor is quite difficult. i don't have Martin D's easter egg: (replace.php). from where i can have this and wht it will do?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 9, 2006, 6:38 PM",
          "AuthorName": "tm tm",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=142786&course=5",
          "role": [
            "Picture of tm tm"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backups restoring at another server",
          "Text": "AFAIK replace.phpÂ is an experimental (at least in so far as it is not part of the GUI) script toÂ replace any occurence of a string with another string within the whole database. I It is available here , but the fact that it is not in your moodle may well mean that it is not compatable, and in any case it is only to be used AFTER BACKING UP, and with extreme care. It also seems to have a bug , in that it will replace strings even in OTHER DATABASES. If you are going to try it, I recommend that you do it on a completely different purpose-built backup installation, such as a clone of your Moodle, installedÂ on your desktop PC using one of the windows installers from the download page . See also the SQL suggestions from Steve Power here http://moodle.org/mod/forum/discuss.php?d=57477",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 9, 2006, 8:21 PM",
          "AuthorName": "Timothy Takemoto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4185&course=5",
          "role": [
            "Picture of Timothy Takemoto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backups restoring at another server",
          "Text": "Hi,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 9, 2006, 9:23 PM",
          "AuthorName": "Ari Tahvanainen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=78891&course=5",
          "role": [
            "Picture of Ari Tahvanainen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 278684,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=278684",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Copying all grade items from one course to another (without grades, user data)",
          "Text": "I taught a few courses last semester at my University and was curious if there was an easy way to import all the grade items (quizzes, tests, etc) from the previous semester to the current one. Obviously I would like this done with all the grades blanked out, so that I can fill them in for the new students. I feel like there should be an easy solution to this, but I can't seem to find one. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 20, 2015, 2:24 PM",
          "AuthorName": "Matthew Caro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1904243&course=5",
          "role": [
            "Picture of Matthew Caro"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Copying all grade items from one course to another (without grades, user data)",
          "Text": "If you back the course up, and restore it as a new course without user information, it should keep those settings. Cheers Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 21, 2015, 2:16 PM",
          "AuthorName": "Peter Bowen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1511112&course=5",
          "role": [
            "Picture of Peter Bowen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Copying all grade items from one course to another (without grades, user data)",
          "Text": "You can also use the import facility in the Administration Block.Â  It allows you to select the items to bring across from another course without having to do a backup/restore.Â  It does not bring any of the students over though, only content.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 22, 2015, 1:20 AM",
          "AuthorName": "Doug Baleshta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=95681&course=5",
          "role": [
            "Picture of Doug Baleshta"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Copying all grade items from one course to another (without grades, user data)",
          "Text": "Maybe I'm missing the option, but this only seems to bring over things from the courses main page. Topics and content, etc etc. I don't see an option anywhere to bring over things from the gradebook.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 11, 2015, 4:42 AM",
          "AuthorName": "Matthew Caro",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1904243&course=5",
          "role": [
            "Picture of Matthew Caro"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 69759,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=69759",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restoring, upgrading, moving.",
          "Text": "I am wanting to upgrade and move all my courses and infomation from one domain to another. My old data is ver 15.6 I backed it up. I installed moodle on the new domain. Now how can I restore the old backup to the new site. I am not seeing a restore feature. It was previously mentioned this was possible, but earlier versions may cause problems. Do I need to upgrade the old one first? Thanks, Daphne",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 22, 2007, 5:25 AM",
          "AuthorName": "Daphne Singingtree",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=58019&course=5",
          "role": [
            "Picture of Daphne Singingtree"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 131023,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=131023",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course transfer from new moodle version to older",
          "Text": "Pre info: Newer Moodle version server (1.9.2) Older Moodle version server (1.9+) Problem: I am trying to transfer a course from the newer version to the older version. I keep checking and unchecking various options but I have been unable to complete the transfer. Is it even possible?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 25, 2009, 4:43 AM",
          "AuthorName": "Colton Pester",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=903197&course=5",
          "role": [
            "Picture of Colton Pester"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 91440,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=91440",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Download the backup",
          "Text": "My regular profession is as a free-lance village idiot. I just happen to be working with Moodle at the moment. Tomorrow I'm herding prairie dogs. While I'm in the Moodle mode though, perhaps someone could answer a question for me. I've backed my site and can see the zip file when looking through the files function. I can't for the life of find a way from within Moodle to download that file onto my pc for save keeping. What am I overlooking? tnx mark miller",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 29, 2008, 2:10 AM",
          "AuthorName": "Mark Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=304335&course=5",
          "role": [
            "Picture of Mark Miller"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Download the backup",
          "Text": "right click on the file name.Â  then save it as \"whatever you wish\" where-ever you wish.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 29, 2008, 3:03 AM",
          "AuthorName": "Bill Click",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=28422&course=5",
          "role": [
            "Picture of Bill Click"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Download the backup",
          "Text": "I tried this. But I get an error 324 - the server closed the connection without sending any data. I am running Moodle 1.9 on Windows. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 26, 2012, 5:19 PM",
          "AuthorName": "Yehuda Zimmerman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397043&course=5",
          "role": [
            "Picture of Yehuda Zimmerman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Download the backup",
          "Text": "On th eface of it, I would suggest that it is a server issue not a Moodle one. I have heard of it in relation to Google Chrome, but I have never run into it trying to download a Moodle file. The error is supposed to relate to an empty file, so check the file in Moodle, is it reported as being 0 or does it have a size?Â  What you may be able to do is to ftp into the backup location and download it using that. If it is reporting as having say 1.2mb then there is another issue, but definitely not a Moodle one.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 26, 2012, 11:42 PM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 14360,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=14360",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Upload \"Moodle Features Demo\" to my site??",
          "Text": "I have downloaded the Moodle Features Demo course and have uploded it to my server ; however, I can't seem to find how to \"install\" this course in my Moodle site? I've looked every where for an \"install\" or a \"restore backup\" feature, but just haven't been able to locate this. I'm sure I'm missing something obvious...if anyone can point me in the right directions it would be geatly appreciated. Thanks. Steve",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 27, 2004, 2:03 AM",
          "AuthorName": "Steve Hyndman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=31860&course=5",
          "role": [
            "Picture of Steve Hyndman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Upload \"Moodle Features Demo\" to my site??",
          "Text": "After you login as admin to your Moodle site ( front page ), you will see a folder in the Administration block called 'Site files'. Upload the Moodle Features Demo here, and then simply click Restore.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 27, 2004, 3:04 AM",
          "AuthorName": "Bryan Williams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=10226&course=5",
          "role": [
            "Picture of Bryan Williams"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Upload \"Moodle Features Demo\" to my site??",
          "Text": "Thanks Bryan...tried it and worked great! I have already uploaded some files to this area, but since they weren't back-up (zip) files, there was no (restore) option. I knew I was overlooking something simple.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 28, 2004, 7:32 PM",
          "AuthorName": "Steve Hyndman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=31860&course=5",
          "role": [
            "Picture of Steve Hyndman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Upload \"Moodle Features Demo\" to my site??",
          "Text": "Hmm... I tried to upload the Moodle Features Demo to the Site Files and I received the following error:Â  \"A required parameter was missing\" I am using Moodle 1.4. Any ideas? Thanks, Michael",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 5, 2004, 5:37 AM",
          "AuthorName": "Michael Lindeman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=25939&course=5",
          "role": [
            "Picture of Michael Lindeman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Upload \"Moodle Features Demo\" to my site??",
          "Text": "Dear everyone, I seem to have a problem restoring the \"Moodle Features Demo\" to my site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 2, 2005, 2:20 PM",
          "AuthorName": "Syamsul Anwar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=35004&course=5",
          "role": [
            "Picture of Syamsul Anwar"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 368214,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=368214",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Last access to course",
          "Text": "After a full course backup and restore to another site (3.0 to 3.4) the Participants (enrolled users)Â  shows Never for the Last access to course. There is a mdl_user_lastaccess table for userid and courseid, so it appears that this is not directly tied to the course. Or am I missing something here? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 30, 2018, 6:37 AM",
          "AuthorName": "Dan Thomson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2015235&course=5",
          "role": [
            "Picture of Dan Thomson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 166961,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=166961",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Not able to restore due to missing user",
          "Text": "When I try to restore an course I get an error telling that user 'test' is missing. I created a user 'test' before and I must put some data such as assignment marks or something and then delete it. Could anyone tell me how to solve this problem? I think there is a way that I back-up data without user data. But I'd like to keep user data. Is there any other way? Do I have to check all the DB and delete data for user 'test'? Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 22, 2011, 4:53 PM",
          "AuthorName": "Shin Okada",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=174898&course=5",
          "role": [
            "Picture of Shin Okada"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Not able to restore due to missing user",
          "Text": "Recreate user 'test', the data associated with that user will appear. You can then properly remove the data, then the user.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 26, 2011, 6:34 PM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 230383,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=230383",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restore content to several courses at the same time",
          "Text": "How can I restore activities o resources to several courses at the same time, avoiding to copy them one by one? I ask this, because presently, when I will restore them, I can only select one course and not several at the same time. Thanks a lot, Isabella",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 11, 2013, 2:19 AM",
          "AuthorName": "Isabella Felizitas Tilch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=216969&course=5",
          "role": [
            "Picture of Isabella Felizitas Tilch"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 253710,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=253710",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "automated course backups different behavior 2.2.4 -vs- 2.3.1",
          "Text": "I have a 2.2.4 site where i have scheduled automated course backups.Â  I went through the process of updating many of the courses to \"not available to students\", so they would NOT be included in the backup process.Â  When I check my bu directory this am, all the courses backed up. In my 2.3.1 site, the automated course backups ignored, as expected, the courses \"not available to students\". The 2.2 and 2.3 moodle docs state that the courses will be ignored if set to \"not available to students\". I am planning an upgrade later this year for the 2.2.4 site, but would like to have the automated backups running. Thanks for insights.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 6, 2014, 10:40 PM",
          "AuthorName": "james mergenthaler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=894843&course=5",
          "role": [
            "Picture of james mergenthaler"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 108975,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=108975",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backing up the backup file - stopping the backup",
          "Text": "Hi we are hosting our own server for Moodle. I have automated course backups turned on which collect on the server overnight. We have a backup system in place that basically copies whatever we tell it on to tape. However recently the copy process has been getting stuck on the zip files that the Moodle backup tool creates. Has anone else had this sort of issue and if so do you know what causedÂ  it? And more importantly how did you fix it? Thanks Heather",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 24, 2008, 5:15 PM",
          "AuthorName": "Heather P",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45897&course=5",
          "role": [
            "Picture of Heather P"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backing up the backup file - stopping the backup",
          "Text": "You may have already thought of this and checked it, but in case you didn't: If the Moodle backup process is on-going when the tape back-up starts, there will be files that are OPEN, (at least the one that is being built up, and perhaps others that are going into the zip or database entrie keeping track of the process) and in that case the backup program won't be able to handle it/them. If this is the case, make sure that the two backups are taking place at different times.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 24, 2008, 7:16 PM",
          "AuthorName": "Jeff Forssell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=104669&course=5",
          "role": [
            "Picture of Jeff Forssell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 409457,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409457",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Dealing with course restores with users",
          "Text": "Okay, folks, I have made a mess, and I would very much like to fix it. For reasons that I shan't get into here, I have had to do a server migration the dumb and brutal way, with downloaded course backup .mbz files. I backed the classes up with the user data intact. On the new server, I uploaded the user list from the old server to put the accounts in, as I assumed that they'd need to be there before pulling in the classes. I have since realized that when you back up user data in those .mbz files, it has the whole user in it. Would have been good to know... Here's where the problem lies, though: I started getting errors on course restore because when I uploaded the user list, I standardized the email addresses to the university email address, which meant changing some people's accounts. The course restore sees this as a different person and refuses to go through with the user data at all. Realizing what the problem was, and that the .mbz files had the full users in them, I decided to just delete the student user accounts and let them come back in with classes, and then upload them again to overwrite the offending mail addresses and add back accounts that were in no class this past semester. This results in no student accounts being restored, probably because (as I recently learned) when you delete an account in Moodle, all it does is flag it as deleted in the database . So I think it's seeing that there was indeed an account with that username, but it's since been deleted, so it doesn't import. So, database folks, what's my way around this? Here are the ideas I have: Go into the database itself and just delete all the records that have the deleted flag and try again. But will this gorf something else? I don't know that much about databases... Go into the database and flip all those deleted flags to 0 and then go and change email addresses as necessary so the restores go through with user data. (See concern about gorfing something.) Re-upload those accounts with the old email addresses. But will it make entirely new accounts or simply update the ones in the database to be deleted=0 and impute the new email address? If it makes new accounts, I imagine I'll be right back where I am now. Re-upload the accounts with the \"new\" uni email addresses, and when I run into an issue with a restore, just change that handful of students' email addresses back to their old ones and try again? But, again, will that result in entirely new entries in the database, or simply \"undeleted\" ones? Worst case scenario, I guess I could just restore a daily MySQL backup for the whole site from yesterday and pretend this never happened, but... in all these years of administering Moodle, I have yet to have ever had to do that, and I'm very worried that it doesn't work as smoothly as I hope. (No, I haven't done a test restore of a database. I'm just too scared; I know that's bad. Please don't lecture me.) For reference, I have about 2800 users, but the vast majority of them are inactive or just ones I've added in case they decide to take a class from a teacher using Moodle. There are maybe only 20 classes that need to be restored. It's not a big site. (And please don't say, \"Well, you should have just started with the moodle directory and database of your old site and upgraded!\" â€”I know. But the massive update that I needed to do would have required stepping through various PHP and Apache versions, when I also needed to change OSes and hardwareâ€”so I just decided to start fresh and pull things in the dumb way.) There's a lot here, I realize, but who here understands the user table in the database? I can't find anything detailed enough anywhere to even know where to start with it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 27, 2020, 7:48 PM",
          "AuthorName": "Aaron Batty",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1153115&course=5",
          "role": [
            "Picture of Aaron Batty"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Dealing with course restores with users",
          "Text": "Qualifications for this response ... not a certified DB person, but have run many moodles over the years and for a variety of entities. My 2 cents ... In the new site, delete rows 3 -> in mdl_user table.Â Â  That will leave you with ID 1 ... which is guest ... set to manual ... do not remove.Â  And ID 2, the account you created when the moodle was installed.Â  But ... see below .. You've not been successful in restoring any courses?Â  or you have but there are duplicate accounts for what should be student accounts in course backups from old server.Â  If latter, delete courses. So site would have only 2 users (guest/first admin) and no courses. Then take one of your backups from old site - if they do not have 'nu' in the filename of the backup, they should include users.Â  Pick the largest backup file first ... tweaks may be needed to php and possibly to my sql ... php time for a script to run ... memory a script can consume (php info in site admin menu) + in mysql max_allowed_packets - backups do have large chunks of data - such as in question bank (quizzes). In those courses, your new admin account should not exist or there will be a conflict.Â Â  Moodle protects that admin level account. Get that largest course backup restored and checked, then the rest should restore without issues. Exception to what I've said ... plugins ... if you've used addons in old site, install compat versions in new site *before* restoring courses that used them. Don't worry, at first, about theme ... don't immediately install new theme ... focus on getting courses restored first and site functioning properly before working on the 'fluff' ... ie, how it looks. Now I know you don't want any 'virtual finger wags' but do make notes of your mistakes in this adventure and internalize them ... and do know that the version you are running will not be 'forever' ... you will have to upgrade the site ... which really is much easier if you do that when versions are closer. Again ... my 2 cents. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 27, 2020, 9:49 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dealing with course restores with users",
          "Text": "Thanks, Ken! I've actually done a lot of moves with .mbz files, but I was always using them without the user data in them. I had no idea that they had the full accounts in them. I wish I'd known that; it would have saved me a lot of trouble. >You've not been successful in restoring any courses? I've gotten courses to go in without trouble... as long as none of the students had changed their email address in their profile. If I restore without users, there's no problem; I just enroll the teacher back in after restoring. I'd just love to keep the users if possible. I actually asked the teachers to do resets before I took the site down, but of course no one did. >Exception to what I've said ... plugins ... if you've used addons in old\nsite, install compat versions in new site *before* restoring courses\nthat used them. Everything is installed on the new site. >do know that the version you are running will not be 'forever' ... you\nwill have to upgrade the site ... which really is much easier if you do\nthat when versions are closer. Here's the longer form of why this has happened: I had been serving this off of a spare Mac using the old \"macOS Server\" application. They took webserver administration out of that awhile back, and their setup was so bizarre that I could never get the webserver to survive OS or Apache upgrades. I finally just started from scratch with another Mac Mini we had, and set up a standard Apache/PHP/MySQL install. I had hoped to just move over the moodle, moodledata, and MySQL database from the old server and then do an upgrade from Moodle 3.1 to 3.9, but I couldn't get the old Moodle to run in the new environment at all. So I decided to do it this ridiculous way instead. I'd been marooned for a long time. Most of my backups aren't too big, but in the case of my personal classes (I'm the heaviest user, of course), I'm going to have to bump up those PHP and MySQL values for sure. I have set expectations low for my teachers, but obviously I'd like the most stuff to transfer over as possible. Thanks again, and I'll do some database surgery and try again. I'll let you know what happens.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 28, 2020, 7:42 AM",
          "AuthorName": "Aaron Batty",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1153115&course=5",
          "role": [
            "Picture of Aaron Batty"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Dealing with course restores with users",
          "Text": "UPDATE! Not crazymaking! It worked with another class that I had tried last night. Perhaps the courses I was working with had been reset, but unenrolled user accounts still hang around in the record? At this point, it simply wouldn't surprise me... Perhaps they hang around to preserve grade history? I.e.: It might be working now. Preserving the below for reference. =============================================================== Okay, here's where we stand now: I went into the mdl_user table and deleted all the \"deleted=1\" rows. I then tried restoring a course that had failed last night to restore with users intact over itself (not a new course). â‡’ It kept the user settings from last night; just the teacher user I had enrolled. However, it still created all the new user accounts. It just didn't preserve their enrollments in the class. I then tried deleting the previously-restored course and bringing it back in fresh â‡’ Same behavior. I then tried restoring the course to a different category with a different name to try to trick Moodle into actually treating it as a new course. â‡’ Same behavior. This is now officially driving me mad. How does Moodle know that this course has been restored before, and that I had manually enrolled the teacher? Looking at the database (mdl_course), it actually does seem to delete courses when you ask, rather than bizarrely flagging them \"deleted\" and letting them sit there for literally 10 years like I just recently discovered is the case with users. This is truly crazymaking.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 28, 2020, 10:34 AM",
          "AuthorName": "Aaron Batty",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1153115&course=5",
          "role": [
            "Picture of Aaron Batty"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 124242,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=124242",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Help: can't backup course",
          "Text": "Dear Moodle users: I cannot backup a course on my Moodle. Here is the error message: name: backup-quiz-20090525-2148.zip Creating temporary structures Deleting old data An error occurred deleting old backup data What can/should I do?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 25, 2009, 11:17 PM",
          "AuthorName": "venny su",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=11242&course=5",
          "role": [
            "Picture of venny su"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Help: can't backup course",
          "Text": "Hi, Please see the Backup and restore FAQ for details of what to do.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 26, 2009, 3:04 AM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 94762,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=94762",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Fehlermeldung bei Kurssicherung",
          "Text": "Hallo, ich setze moodle 1.8.3 mit, mysql 4.1.22 und php 4.4.7 ein! Bei der Kurssicherung erhalte ich folgende Meldung: Kurssicherung: Schulnetz: Windows-Netzwerk (SW) Name: sicherung-sw-20080412-1314.zip VorÃ¼bergehende Strukturen erstellen LÃ¶sche alte Daten Warning : chmod() [ function.chmod ]: Operation not permitted in /www/htdocs/w0091f78/moodle/backup/lib.php on line 114 Warning : chmod() [ function.chmod ]: Operation not permitted in /www/htdocs/w0091f78/moodle/backup/lib.php on line 133 Warning : unlink(/www/htdocs/w0091f78/moodle/moodledata//temp/backup/1203155635/moodle. xml ) [ function.unlink ]: Permission denied in /www/htdocs/w0091f78/moodle/backup/lib.php on line 134 An error occurred deleting old backup data Auszug aus lib.php 114 chmod($dir, 0777); 133 chmod($dir_files[$i], 0777); 134 if (((unlink($dir_files[$i]))) == FALSE) {",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 12, 2008, 8:20 PM",
          "AuthorName": "Werner Karolus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=258170&course=5",
          "role": [
            "Picture of Werner Karolus"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 49009,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=49009",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Some courses fail to backup",
          "Text": "Some of my courses are failing to backup. With one of them I get this message - Fatal error: Call to a member function on a non-object in C:\\XAMPP\\xampp\\htdocs\\question\\backuplib.php on line 153 which refers to this section of code - // Backup question type specific data $status = $QTYPES[$question->qtype]->backup($bf,$preferences,$question->id); //End question and on others I get the message -",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 3, 2006, 4:26 PM",
          "AuthorName": "kathy hooper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20370&course=5",
          "role": [
            "Picture of kathy hooper"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Some courses fail to backup",
          "Text": "did you fix this because I am getting this error? Gavin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 6, 2006, 3:09 AM",
          "AuthorName": "Gavin Allinson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36273&course=5",
          "role": [
            "Picture of Gavin Allinson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Some courses fail to backup",
          "Text": "I have understood, in what a problem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 6, 2006, 9:14 PM",
          "AuthorName": "Alex Djachenko",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=11714&course=5",
          "role": [
            "Picture of Alex Djachenko",
            "Picture of Core developers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Some courses fail to backup",
          "Text": "for some reason it seems to have fixed itself - I don't know why - I think I may have deleted a lot of options in the backup until it ran smoothly and then did a full one - ie I deselected the hotpotatoes quizes, backed up, and then ran backup again with the quizes selected. It was a while ago. I do update with the latest code regularly so that might have helped too. I am having a lot of difficulty with the automatic backups though - they are just not happening. I think it is because cron is not running properly.Â  Good luck! kathy",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 7, 2006, 11:38 AM",
          "AuthorName": "kathy hooper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=20370&course=5",
          "role": [
            "Picture of kathy hooper"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 417393,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=417393",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Unable to delete course",
          "Text": "Hi, I haven't deleted courses for a while. Today I went to do it and I got this error message: error/backup_user_missing_capability I got all my administrator capabilities (courses, users, backup, restore...) ON My Moodle version is 3.5.1+ Can anyone help me? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 29, 2021, 1:34 AM",
          "AuthorName": "Victor Lamote de Grignon i Alifonso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=190055&course=5",
          "role": [
            "Picture of Victor Lamote de Grignon i Alifonso"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Unable to delete course",
          "Text": "Please turn on debugging all the way to developer level, try deleting a course again.Â  Debugging should provide more specific information about the error. Come back here to this thread and share the text of the debug output you get. Another place to check ... your web services error log or php error log ... which also might provide clues. 'SoS'. Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 29, 2021, 2:58 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to delete course",
          "Text": "Hi, Ken Thanks for your fast response. I'll do what you say and I'll come back with more details.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 29, 2021, 3:42 AM",
          "AuthorName": "Victor Lamote de Grignon i Alifonso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=190055&course=5",
          "role": [
            "Picture of Victor Lamote de Grignon i Alifonso"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to delete course",
          "Text": "Hi Ken, Here the debug: It's deleting CAEICAT1ESO error/backup_user_missing_capability More information about this error Debug info: Error code: backup_user_missing_capability $a contents: stdClass Object ( [userid] => 1 [courseid] => 57 [capability] => moodle/backup:backupcourse ) Stack trace: line 158 of /backup/util/checks/backup_check.class.php: backup_controller_exception thrown line 136 of /backup/controller/backup_controller.class.php: call to backup_check::check_security() line 119 of /admin/tool/recyclebin/classes/category_bin.php: call to backup_controller->__construct() line 185 of /admin/tool/recyclebin/lib.php: call to tool_recyclebin\\category_bin->store_item() line 4834 of /lib/moodlelib.php: call to tool_recyclebin_pre_course_delete() line 67 of /course/delete.php: call to delete_course() Any idea? Thanks again",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 2, 2021, 2:12 AM",
          "AuthorName": "Victor Lamote de Grignon i Alifonso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=190055&course=5",
          "role": [
            "Picture of Victor Lamote de Grignon i Alifonso"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to delete course",
          "Text": "It looks like the user that is trying to delete it does not have enough permission ...double check your permissions...also, I have seen an error where the recycle bin causes issues - I had to disable that for course deletion for one of my sites...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 2, 2021, 2:56 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to delete course",
          "Text": "Thank you Emma, that was the solution to my enigma!!! I've disabled the recycle bin and it works!!! You've saved my life!!! Thanks again!!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 2, 2021, 3:57 AM",
          "AuthorName": "Victor Lamote de Grignon i Alifonso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=190055&course=5",
          "role": [
            "Picture of Victor Lamote de Grignon i Alifonso"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to delete course",
          "Text": "Now this has happened elsewhere, I think I will be submitting a tracker ticket.Â  Except now I am having trouble replicating...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 2, 2021, 4:44 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to delete course",
          "Text": "What is \"CAEICAT1ESO\"? Is that a course title/shortname? The debug does refer to 'recyclebin' and a 'tool_recyclebin_pre_course_delete()' function. Is that course still viewable?Â Â  IF so, go all the way to the bottom of that course page and see if there is a module (activity/resource in the course that shows 'deletion pending'. Emma is probably onto something about roles and permissions (dunno), but let's pursue a little more ... Do you have access to phpmyadmin or ssh where you can use the mysql client?Â Â  If so, let's see what is in the mdl_files table related to recyclebin. ï»¿ my sql > select filename,filearea,userid from mdl_files where filename like '%.mbz'; userid will provide info for checking users permissions on the course, me thinks. Also check the settings for recyclebin. /admin/settings.php?section=tool_recyclebin In settings, set them to lowest value or shortest time to retain. Would also set 'auto hide' opposite so that a recyclebin link shows in the course admin menu all the time rather than appearing only when something is in recyclebin.Â Â  That gives one the ability to force removal the items. Also check ownerships permissions on your moodledata/temp/backup/ because that is the area moodle will use to build a backup ... recyclebin or other. Cron job and scheduled task running OK? There are 2 scheduled task related to recyclebin: \\tool_recyclebin\\task\\cleanup_category_bin \\tool_recyclebin\\task\\cleanup_course_bin If you set the path to php-cli in your site config, one could use the 'run now' link that would show in either of those task. And, finally, if you have CLI access, this course deletion could also be 'stuck' and now referenced as such that an adhoc_task needs to be executed. From: /admin/tool/task/cli/ php adhoc_task.php --execute Might also give us a clue as to what is failing. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 2, 2021, 3:50 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to delete course",
          "Text": "Make sure your session hasn't expired - log out and in again, clear caches...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 29, 2021, 3:36 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to delete course",
          "Text": "Hi, Ken Thanks for your fast response. I already tried all you say. Bye",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 29, 2021, 3:43 AM",
          "AuthorName": "Victor Lamote de Grignon i Alifonso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=190055&course=5",
          "role": [
            "Picture of Victor Lamote de Grignon i Alifonso"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to delete course",
          "Text": "We had a similar message recently. We couldn't get the external database plugin to create new courses because of this error occuring. Although it's a different context , we discovered our problem was caused by the main admin user account being removed by someone from the list of \"site administrator\" roles. And thus, the cron's \"user\" didn't have site administrator permissions. So perhaps check that the site administrator user, is actually a site administrator. Might be one you've already covered, but just thought I might share!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 13, 2021, 9:19 AM",
          "AuthorName": "Brad Pasley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3433519&course=5",
          "role": [
            "Picture of Brad Pasley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 48756,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=48756",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "Automated backups don't include forums (but manual backups do!)",
          "Text": "Hi everybody, I've got a backup problem I can't nail down on a fresh 1.6 box and one that was upgraded from 1.5-->1.6. When I schedule a backup of my courses, the zip files are created just fine, and when I unzip one and look at the moodle. xml , it does NOT include my forum categories or posts!Â  I have it setup as: Include Modules: Yes, wish user data Metacourse: Yes Users: Course Logs: No User Files: Yes Course files: Yes Messages: Yes Keep: 5 files But if I go in as admin, go into the specific course, and kick off a backup THAT way, the moodle.xml DOES have all my course content and I can import it every day of the week and twice on Sunday! This seems like such a basic thing to NOT be working!Â What in the unholy name of flaming farts is going on here!Â  I'd LOVE some help.Â  Thanks! Brian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 29, 2006, 12:10 PM",
          "AuthorName": "Brian Johnson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=142754&course=5",
          "role": [
            "Picture of Brian Johnson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Automated backups don't include forums (but manual backups do!)",
          "Text": "I couldn't help you, Brian. But I add my question to your post. I have realiced that automatic backup files are smaller than the manual backup files. The same course occupies 170 Kb in automatic backup but 2.5 Mb in manual backup... If I restore the automatic backup file the curse contains only the structure but no contents (the manual backup recover the course perfectly). In this way the automatic backup are totally unuseful.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 30, 2006, 11:52 PM",
          "AuthorName": "Juan MarÃ­n",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=79229&course=5",
          "role": [
            "Picture of Juan MarÃ­n"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups don't include forums (but manual backups do!)",
          "Text": "I noticed this size difference phenomenon also.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 3, 2006, 6:05 AM",
          "AuthorName": "Mike Strong",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100637&course=5",
          "role": [
            "Picture of Mike Strong"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups don't include forums (but manual backups do!)",
          "Text": "And Now??? Is Automatic Backup pocedure working well for most users? In this case, Why in some cases (me included) the automatic backup only save the 'course structure' but not all the \"contents\"?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 21, 2006, 8:09 PM",
          "AuthorName": "Juan MarÃ­n",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=79229&course=5",
          "role": [
            "Picture of Juan MarÃ­n"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups don't include forums (but manual backups do!)",
          "Text": "I'm getting the exact same issues. This is pretty alarming because I've been backing up for awhile with the assumption that all of my backups were good... now I don't really have any good backups of my courses because all the automatic ones are bad! Thankfully, we're currently between semesters so people aren't going to screw up their courses and ask for backups. This might help some people with really huge sites. An execution time of \"3000\" will only let the backup script run for 50 minutes until PHP kills it. For my site, it seems that it only takes about 15 minutes to make a full backup, but I've made the change just in case it might help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 3, 2006, 1:18 AM",
          "AuthorName": "Kenny Backus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=74011&course=5",
          "role": [
            "Picture of Kenny Backus"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups don't include forums (but manual backups do!)",
          "Text": "Well, no luck with that, I guess I should file a bug report.... it might be really hard to reproduce, though, if this isn't an issue with the majority of Moodle users.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 3, 2006, 2:10 AM",
          "AuthorName": "Kenny Backus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=74011&course=5",
          "role": [
            "Picture of Kenny Backus"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups don't include forums (but manual backups do!)",
          "Text": "Hi I am facing the same problem. Daily manual Back upÂ forÂ every courseÂ is a really tedious. Not sure if we could take manual backups in bulk? I am usingÂ Xamp (Moodle 1.6) and really surprised that there is no scheduled back up utility forÂ databases? (Please correct me if its me who is not aware of??) Any thoughts? Fouzia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 6, 2006, 12:12 PM",
          "AuthorName": "fouzia imran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=129069&course=5",
          "role": [
            "Picture of fouzia imran"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups don't include forums (but manual backups do!)",
          "Text": "I, too, am having this problem.Â  Automatic backups of courses are not including the resources/ activities /forums, etc.Â  Manual backups of courses do.Â  I am using 1.6.1.Â  Any word on a fix?Â  I can't find this in the bug tracker, has anyone posted this as a bug?Â  Should we?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 21, 2006, 6:10 AM",
          "AuthorName": "Roger Spurgeon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1649&course=5",
          "role": [
            "Picture of Roger Spurgeon"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "More backups problems with 1.6.2 - unpredictable results",
          "Text": "Hi folks, I upgraded to 1.6.2+ to resolve this problem but it stillÂ hasn't entirely gone away. Now when I restore from a scheduled backup all links toÂ resources and activities are created with the exception of contrib modules, which have icons but nothing else. If I click a link in the Activities blockÂ for one of these modules I get an error message saying, e.g. 'There are no dialogues'. Stranger still, if I restore from a manual backup, all instances of the Book module are there (and work absolutely fine), but any instances of theÂ Dialogue or Object don't exist at all - not even the icons this time! I've also noticed that backup files themselves are actually included in the backups (as course files) now - this results in backups which double in size every time! - Has anyone else encountered these symptoms? - Are contrib modules actually supported in backups? (I've never noticed that they weren't included before) - Finally, are glossary entries supposed to restore with the glossary itself or do you have to import them afterwards? This is something else I've noticed isn't happening with our backups, that seems like it should. Many thanks, Tony",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2006, 12:41 AM",
          "AuthorName": "Tony Butler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41888&course=5",
          "role": [
            "Picture of Tony Butler"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: More backups problems with 1.6.2 - unpredictable results",
          "Text": "Hi! 3rd party modules must be updated to backup/restore properly in 1.6.x, scheduled backups from 1.6 and 1.6.1 are mostly unusable. The bug with growing backups was solved 2 days ago. Glossary and database entries are stored as user data. I would recommend upgrading to fresh 1.6.2+. skodak",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2006, 2:25 AM",
          "AuthorName": "Petr Skoda",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=12863&course=5",
          "role": [
            "Picture of Petr Skoda",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: More backups problems with 1.6.2 - unpredictable results",
          "Text": "Thanks Petr, I'll upgrade to the latest 1.6.2+. So are you saying that I will need to upgrade all my contrib modules to the latest versions too - obviously I upgraded them whenÂ we first upgraded to Moodle 1.6. Cheers, Tony",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 19, 2006, 5:12 PM",
          "AuthorName": "Tony Butler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41888&course=5",
          "role": [
            "Picture of Tony Butler"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: More backups problems with 1.6.2 - unpredictable results",
          "Text": "Is there any way to fix this problem without upgrading to 1.6.2+?Â  I have 1.6.1+ and my automatically backed up courses have no content.Â  I cannot readily upgrade at this point.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 21, 2006, 5:41 AM",
          "AuthorName": "Greg Francom",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=58671&course=5",
          "role": [
            "Picture of Greg Francom"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups don't include forums (but manual backups do!)",
          "Text": "Hello, If you see the modules (only the titles) but not the instances of the\nmodules for some scheduled backups. It's maybe related to this bug. http://moodle.org/mod/forum/discuss.php?d=52156 I don't know how to put or check the bug tracker,Â  if someone can do this job it would be a good thing. Jean-Luc",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 21, 2006, 11:10 PM",
          "AuthorName": "Thirot Jean-Luc",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=15982&course=5",
          "role": [
            "Picture of Thirot Jean-Luc"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 84428,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=84428",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Fatal Error restoring course",
          "Text": "Fatal error: Call to a member function after_restore() on a non-object in /usr/local/apache2/htdocs/moodle/backup/restorelib.php on line 862 ...tried on both 1.8.3+ and 1.9. Backup was created on 1.8.2. Any thoughts?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 14, 2007, 12:20 AM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 268028,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=268028",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Error when trying to restore a course in 2.7",
          "Text": "Moodle 2.7+ (Build: 20140626) 1. Backup a course as a global course creator, course role as a teacher. No user data was backed up. 2. When I try to then restore that same course it gives me an error \" error/restore_user_missing_capability \" right after I chose a course category to put it in. I looked in the teacher settings and all of the permissions are right. This seems to have just come up in the last few days. I didn't change any settings. I'm also unable to go to my administration block, courses, restore course and restore a course. It's telling me I don't have permissions. Not sure if that is related. Any help?? This is very frustrating.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 28, 2014, 10:36 PM",
          "AuthorName": "Melissa Benson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=478787&course=5",
          "role": [
            "Picture of Melissa Benson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error when trying to restore a course in 2.7",
          "Text": "I didn't think this was the tracker item for this bug because it's been a problem forever but it might be?? https://tracker.moodle.org/browse/MDL-29477 I changed my course creator permissions to match what a teachers is in regards to \"Restore\". This seems to have solved the issue (are there any drawbacks of this??) but not it's giving me an error at the end \"The Student role in the backup file cannot be mapped to any of the roles that you are allowed to assign.\" Anyone know how to solve that problem? What permissions do you guys have set for CC and teachers. I give all staff members CC global rights.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 28, 2014, 10:59 PM",
          "AuthorName": "Melissa Benson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=478787&course=5",
          "role": [
            "Picture of Melissa Benson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Error when trying to restore a course in 2.7",
          "Text": "Now when we try and restore it goes to restore and it sits there. It says there tons of minutes left.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 30, 2014, 2:07 AM",
          "AuthorName": "Melissa Benson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=478787&course=5",
          "role": [
            "Picture of Melissa Benson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 164769,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=164769",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Can there be a straight-forward conversion script between Backup 1.9 and Backup 2.0",
          "Text": "The main thing keeping me from testing and then using in my class Moodle 2.0 is the lack of ability for 2.0 to read 1.9 backup files as well as the ability for 2.0 to save its backup in 1.9 format.Â  The docs say that 1.9 to 2.0 will be a feature in a future version. It would seem like one solution would be to have a script that could read in a 1.9 backup file and output it in 2.0 format and vice-versa.Â  Not every feature would need to be supported, just those that come from a plain-vanilla 1.9 course with no custom extensions. I can't see any documentation on the backup file format but I want to put out the question (before I try to reverse engineer and make a hack that does this): is there a reason that such a script would not be feasible? --Gary",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 21, 2010, 4:31 AM",
          "AuthorName": "Gary Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=81449&course=5",
          "role": [
            "Picture of Gary Anderson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can there be a straight-forward conversion script between Backup 1.9 and Backup 2.0",
          "Text": "Here are my notes about the format of both the 1.9 and 2.0 backup files: 1.9 backups end in .zip.Â  This file can be unzipped to reveal the structure. Files associated with the backup are located in folders and sub folders including site_files, course_files, moddata (for activities ) and user_files. All data of populating the database for the course is on the top level and is named moodle. xml .Â  This contains user data, activity descriptions, student and other participants submissions, grades, course details, section details, and role information. For 2.0 2.0 backups have a file ending of .mbz.Â  However, you can change the ending to .zip to open it. Database information is now divided into a good number of separate xml files; some of these are in folders. Course and user files, etc. are renamed to a hash code name with no extension.Â  However, you can use the files.xml file on the top level to rename them to their original filename and extension and these can be opened.Â  All such files are kept in the file directory in subdirectors that are named with the first two characters of the hash code. There is an activity directory with folders for individual activities.Â  Each of these contain serveral xml files depending on the type of activity. There is a course directory with several xml files and a blocks directory with more folders that have xml files describing the content of the blocks. There is a sections directory with one folder for each section (like week or topic). There are several top level xml files for things like gradebook, group, questions, scales, roles, users, outcomes, and users. The individual xml files seem to individually have very similar fields to the consolidated moodle.xml file of 1.9, but I have not dug into this in depth. So, making a 1.9 to 2.0 conversion script would involve parsing the moodle.xml file and creating a good number of individual xml files and a directory structure.Â  One would also have to generate a hash code and rename the files and make a files.xml to point individual files to their course locations. Making a 2.0 to 1.9 script would involved consolodating all the various xml files into a single moodle.xml file and using the files.xml information to copy and rename the hash-named files to appropriate directories.Â  You would, it would seem, loose any 2.0 features In summary, this is not a trivial script and would probably need to be restricted to straight forward courses with no wierd or unknown activities or special configurations.Â  But it does seem to be possible.Â  The only other alternative would seem to be to convert an entire site and extract individual courses that might be tested to see how they work in practice, and of course there is no way to go back once the course is underway.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 21, 2010, 1:45 PM",
          "AuthorName": "Gary Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=81449&course=5",
          "role": [
            "Picture of Gary Anderson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can there be a straight-forward conversion script between Backup 1.9 and Backup 2.0",
          "Text": "Gary, I'm glad somebody's willing to acknowledge again the presence of a 600-pound gorilla in the middle of the living room. Unless I see this taken up somewhere else, I'm going to encourage the collaborative with which I work ( CLAMP ) to make it a top priority.Â  For me, its a show-stopper -- I can't see going into 2.0 without a fresh database and can't see how that can reasonably happen without 2.0 being able to read 1.9 backups.Â  Hope some other tag along and show their support.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 22, 2010, 11:20 PM",
          "AuthorName": "Bob Puffer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5845&course=5",
          "role": [
            "Picture of Bob Puffer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can there be a straight-forward conversion script between Backup 1.9 and Backup 2.0",
          "Text": "The attached XSLT file--1600 lines of fun proofreading--might offer a starting point for someone who wants to take it up and develop it.Â  That xsl transformation is what I use for the Moodle 1.98-to-Moodle 2.0 conversion that takes place as a final step in my ANGEL-to-Moodle process in ConversionThingy 2 . (Because I wasn't aiming for the whole Moodle core but just those pieces I know I can pull from ANGEL, the xsl file covers those objects that, because of their universality, probably see the most use: File, Web Page, Text, Label, URL , Assignment, Forum, Quiz (w/Short Answer, Numeric, Essay, Multiple Choice, Matching, T/F), Wiki, and...um...that might be it.) If your needs don't go beyond those elements, you'll find that Conversionthingy 2 will probably do what you need it to do: just feed it your Moodle 1.98 backup (or ANGEL 7.3 or 7.4 backup) and it'll turn out a Moodle 2.0 backup. And if you need more that that, the stylesheet's probably useful starting point.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 16, 2011, 12:49 PM",
          "AuthorName": "Peter Friesen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5839&course=5",
          "role": [
            "Picture of Peter Friesen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 195074,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=195074",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle 1.9 -- Error Message In Backup / Cron",
          "Text": "I am noticing the following error message displaying in the output from the nightly cron backups: Notice : Undefined index: quiz in C:\\moodle\\moodle\\backup\\backup_scheduled.php on line 652 Notice : Trying to get property of non-object in C:\\moodle\\moodle\\backup\\backup_scheduled.php on line 652 The backups appear to be completing normally. Should I be concerned about this error message? What would I need to do to resolve it? Any suggestions would be appreciated. Thanks! --Blake",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 1, 2012, 1:20 AM",
          "AuthorName": "Blake Walter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1340909&course=5",
          "role": [
            "Picture of Blake Walter"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 433869,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=433869",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "error reading from database after restore my moodle site",
          "Text": "hi to all, I made a backupÂ  for my moodle by following these steps: 1- I exported the Database through the moodle admminer 2- I made a copy to moodle, moodledata directoryÂ  inside the server folder 3- I downloaded new moodle and install it After that i made a restore to my moodle site by following these steps: 1- I made an import to the exported Database into the moodle admminer of the new moodle 2- I put the moodle , moodledata folder that I copied into the new moodle folder 3- I changed the dbname,Â prefix and other information in the config.php file to the new database. after that when i stop and start the Moodle i found this message (error to read from database) and then,Â  when i open the site i found this message: Error: Database connection failed It is possible that the database is overloaded or otherwise not running properly. The site administrator should also check that the database details have been correctly specified in config.php. and when I stopÂ  Moodle I read(Can't find MySQL process #26396.) howÂ  can i make correct restore?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, April 24, 2022, 2:53 PM",
          "AuthorName": "ghadeer raad",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4720295&course=5",
          "role": [
            "Picture of ghadeer raad"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: error reading from database after restore my moodle site",
          "Text": "This forum is actually more for course backup and restore. But, 1. Moodledata folder should not be inside the moodle folder. 2. If you were just upgrading, you should have only done the following - after taking backups of moodle, moodledata and database, you should copy any plugins folders and the config.php file from your old moodle code folder to the new moodle code folder. Then rename the existing moodle code folder to moodle.bk or moodle.old and the new moodle code folder to moodle (or whatever your original folder was called) - then go to the site and let it go through the upgrade. You should not be importing database when you already have a working one. Unless you were switching servers in the process....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 13, 2022, 6:19 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: error reading from database after restore my moodle site",
          "Text": "Thanks for your reply I don't now when and where I restore the database for new Moodle version I need to upgrade my Moodle to last version to 3.11 ,but I can't do this process because when I try the steps isn't successful note: I'm installed my Moodle on local server",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 2, 2022, 6:54 PM",
          "AuthorName": "ghadeer raad",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4720295&course=5",
          "role": [
            "Picture of ghadeer raad"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 108145,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=108145",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Course Not Backing-up - Problem with Quiz Categories",
          "Text": "Hello, My course is not backing-up. The problem started when I created a quiz and imported questions. Error message below. \"An error occurred while backing up quiz categories\" Thanks for any help you can give us. Jim Frailing",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 14, 2008, 5:02 AM",
          "AuthorName": "Jim Frailing",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=208722&course=5",
          "role": [
            "Picture of Jim Frailing"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course Not Backing-up - Problem with Quiz Categories",
          "Text": "I have the same problem. I moved a course from another site by backing it up, downloading, uploading, and restoring, and after making modifications, I can't back it up. I get the same mesage, \"An error occurred while backing up quiz categories.\" I have tried modifying the quiz categories, and I have tried backing up with different configurations, including no quizzes at all, but it still doesn't work. I moved two other courses exactly the same way, and they can be backed up. Hope somebody can help us! Richard Ramsay",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 23, 2010, 4:25 AM",
          "AuthorName": "Richard Ramsay",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=83853&course=5",
          "role": [
            "Picture of Richard Ramsay"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 112609,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=112609",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restored Course falling in different category",
          "Text": "Hi, i am trying to restore the backup of a course from a moodle website to my local intranet moodle. The backup restore function works fine and shows me the contents has been successfully restored. But its throwing the items in a different course and not in the category i have selected. Any tips?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 16, 2008, 4:57 PM",
          "AuthorName": "uk nites",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=190851&course=5",
          "role": [
            "Picture of uk nites"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 252800,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=252800",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Merging courses",
          "Text": "I filed a tracker for the ability to merge courses into one new course with different sections . Please vote for this tracker if you think this is a good improvement of functionality: MDL-43830",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 24, 2014, 8:57 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 142093,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=142093",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore: Lost links to pictures",
          "Text": "After restoring a course by using an other instance many links to pictures or other objekts are lost. The pictures are saved in the restored course only links are lost.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 22, 2010, 3:49 AM",
          "AuthorName": "Johannes Boettcher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=504825&course=5",
          "role": [
            "Picture of Johannes Boettcher"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore: Lost links to pictures",
          "Text": "Hi Johannes, The problem you describe sounds like MDL-20255 which will hopefully no longer be a problem in Moodle 2.0.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 22, 2010, 4:06 AM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 202119,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=202119",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup a course with missing files",
          "Text": "Ultimately when performing a course backup all the information related to the course would be properly saved in the data directory and backup would perform flawlessly.Â  However, I have run across a couple courses where the file in the moodledata directory is missing.Â  When trying to perform a backup on the course there is a 'storedfilecannotread' exception thrown. Now, I suppose it would be easy enough to replace that exception with a file location of an error image but I'd rather find a way for the backup and eventually restore process to ignore missing files. There are a few mentions of this problem within the forums but no solution and I'm just wondering if anybody else has had any experience with this error.Â  And if so what was your solution? Aaron (Moodle 2.0.3 running on WAMPserver)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 8, 2012, 4:22 AM",
          "AuthorName": "Aaron Stanley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1440202&course=5",
          "role": [
            "Picture of Aaron Stanley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 163243,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=163243",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restoring Course with Activity Locks",
          "Text": "I am trying to figure out how to backup and restore a course that has activity locks on various activities - quizzes, certificates, etc., and carry over the locks. My non-profit manages multiple moodle sites, and when we create a course in our test site, we want to back it up and restore it in our other sites. Any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 30, 2010, 12:53 PM",
          "AuthorName": "Darren Richards",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1217987&course=5",
          "role": [
            "Picture of Darren Richards"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring Course with Activity Locks",
          "Text": "As a follow up to my first post, when I perform a backup and restore, all of the course content is restored with the exception of activity locks. I would like to try and figure out how to bring the activity locks over as well. Thanks so much. Darren",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 30, 2010, 11:53 PM",
          "AuthorName": "Darren Richards",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1217987&course=5",
          "role": [
            "Picture of Darren Richards"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 320204,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=320204",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Common Cartridge Format Issue",
          "Text": "Hello all, I'm attempting to import courses in to Moodle using Common Cartridge 1.1 format. When I do so, the course structure seems to match what I imported, but when I click on an activity Moodle says that the file wasn't found. The files in the package are web links, which should point to another site where our content is hosted. I've attached an example of the format we have produced, which according to the CC validator is valid. I'm currently trying to trace through the code to see what exactly is going on. Any and all help would be appreciated. Thanks, Chris Aumiller",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 18, 2015, 8:39 PM",
          "AuthorName": "Chris Aumiller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1998994&course=5",
          "role": [
            "Picture of Chris Aumiller"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Common Cartridge Format Issue",
          "Text": "Hi Chris, This appears to be a backup and restore thing: https://docs.moodle.org/29/en/IMS_Common_Cartridge_import_and_export - so I'll move to that forum. Gareth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 18, 2015, 11:39 PM",
          "AuthorName": "Gareth J Barnard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=442195&course=5",
          "role": [
            "Picture of Gareth J Barnard",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Common Cartridge Format Issue",
          "Text": "Thanks Gareth. I was actually able to figure out what was going on... turns out I shouldn't have been using web links at all, but rather LTI links. I think I'm good here. Thanks. -Chris Aumiller",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 22, 2015, 10:35 PM",
          "AuthorName": "Chris Aumiller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1998994&course=5",
          "role": [
            "Picture of Chris Aumiller"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 194952,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=194952",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup dependencies",
          "Text": "I have a large course with the visibility of various components (lessons, pages, etc.) dependant on completing earlier components in the course. Due to the filesize of the course (650 MB zipped), I cannot backup the entire course in one shot, so I have to back it up in pieces. Is there any way that I can backup the course so that the dependencies are not lost? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 30, 2012, 7:50 PM",
          "AuthorName": "Yehuda Zimmerman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1397043&course=5",
          "role": [
            "Picture of Yehuda Zimmerman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 394084,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=394084",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Database dump - activity tags missing",
          "Text": "Moodle 3.5.2 DB dump from production to staging. Tags in activities are missing. We also upgraded this Moodle 3.5.2 on another staging environment (stage 2), to moodle 3.7.2. Even on there the 3.5.2 DB restore looses the activity tags.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 29, 2019, 9:45 PM",
          "AuthorName": "Louisa van der Linden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2680939&course=5",
          "role": [
            "Picture of Louisa van der Linden"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Database dump - activity tags missing",
          "Text": "That's really strange as a my sql dump command is mysql and has nothing really to do with php nor moodle code ... only what's in the DB for the moodle. From mysql dient using your DB for Moodle, what does: show tables like '%tag%'; should show: | mdl_quiz_slot_tagsÂ Â Â Â Â Â Â Â Â Â Â  | | mdl_tagÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  | | mdl_tag_areaÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  | | mdl_tag_collÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  | | mdl_tag_correlationÂ Â Â Â Â Â Â Â Â Â  | | mdl_tag_instanceÂ Â Â Â Â Â Â Â Â Â Â Â Â  | Using command line and in the location of a mysqldump'd sql file for moodle, issue: fgrep 'mdl_tag' mdl35.sql That will show all the references to mdl_tag_X in the mdl_tag table contained in the dump. For tag areas fgrep 'mdl_tag' mdl35.sql |grep mdl_tag_area one of the areas ... book ... fgrep 'mdl_tag' mdl35.sql |grep book If sql dump has no tag data or missing tag tables then makes no diff as to how one imports an sql or upgrades a Moodle. Again ... very strange. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 30, 2019, 6:52 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 354900,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=354900",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup Error",
          "Text": "Hello, I'm getting this error when I try to backup my course: \n```text\nFatal error: Uncaught ddl_change_structure_exception: Execution Error DDL \nSQL\n in /var/www/public_html/lib/dml/moodle_database.php:492 Stack trace: #0 /var/www/public_html/lib/dml/mysqli_native_moodle_database.php(1000): moodle_database->query_end(false)Â \n\n\n#1 /var/www/public_html/lib/ddl/database_manager.php(77): mysqli_native_moodle_database->change_database_structure('DROP TEMPORARY ...', Array)Â \n\n\n#2 /var/www/public_html/lib/ddl/database_manager.php(332): database_manager->execute_sql_arr(Array, Array)Â \n\n\n#3 /var/www/public_html/lib/dml/moodle_temptables.php(140): database_manager->drop_table(Object(xmldb_table))\n\n\n#4 /var/www/public_html/lib/dml/moodle_database.php(405): moodle_temptables->dispose()Â \n\n\n#5 /var/www/public_html/lib/dml/mysqli_native_moodle_database.php(565): moodle_database->dispose()Â \n\n\n#6 /var/www/public_html/lib/dml/moodle_database.php(160): mysqli_ in /var/www/public_html/lib/dml/moodle_database.php on line 492\n```\n I'm receiving (in mail) the same error after execution of cron job: /usr/bin/php /var/www/public_html/admin/cli/cron.php > /dev/null Any ideias? Edit_1:Â I already gave all permissions to the database user. Kind Regards!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 4, 2017, 9:39 AM",
          "AuthorName": "Kodden Tech",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2257045&course=5",
          "role": [
            "Picture of Kodden Tech"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup Error",
          "Text": "After read that forum thread: https://moodle.org/mod/forum/discuss.php?d=351931#p1431781 I got the solution: 1 ) Edit mysql / mariadb config fie \n```text\nnano /etc/mysql/my.cnf\n```\n 2) Add: \n```text\n[mysqld]\ninnodb_strict_mode = OFF\n```\n 3) restart mysql/mariadb \n```text\nsystemctl restart mariadb\n```\n Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 5, 2017, 12:39 AM",
          "AuthorName": "Kodden Tech",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2257045&course=5",
          "role": [
            "Picture of Kodden Tech"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 421721,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=421721",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restoring Course with existing users.",
          "Text": "Hi, We are trying to merge two moodle installations we have by exporting/importing courses one one into the second and we do want to bring in users and their information. Enabling debug and running an import shows the following error: Class coursecat is now alias to autoloaded class core_course_category, course_in_list is an alias to core_course_list_element. Class coursecat_sortable_records is deprecated without replacement. Do not include coursecatlib.php line 31 of /lib/coursecatlib.php: call to debugging() line 29 of /theme/bcu/renderers.php: call to require_once() line 771 of /lib/outputlib.php: call to include_once() line 679 of /lib/outputlib.php: call to theme_config->__construct() line 7400 of /lib/moodlelib.php: call to theme_config::load() line 1158 of /backup/util/dbops/restore_dbops.class.php: call to get_list_of_themes() line 1144 of /backup/moodle2/restore_stepslib.php: call to restore_dbops::create_included_users() line 34 of /backup/util/plan/restore_execution_step.class.php: call to restore_create_included_users->define_execution() line 181 of /backup/util/plan/base_task.class.php: call to restore_execution_step->execute() line 178 of /backup/util/plan/base_plan.class.php: call to base_task->execute() line 168 of /backup/util/plan/restore_plan.class.php: call to base_plan->execute() line 377 of /backup/controller/restore_controller.class.php: call to restore_plan->execute() line 219 of /backup/util/ui/restore_ui.class.php: call to restore_controller->execute_plan() line 143 of /backup/restore.php: call to restore_ui->execute() Error writing to database More information about this error Ã— Debug info: Duplicate entry '0-kasha' for key 'mdl_user_mneuse_uix' INSERT INTO mdl_user (username,idnumber,email,icq,skype,yahoo,aim,msn,phone1,phone2,institution,department,address,city,country,lastip,picture,url,description,descriptionformat,imagealt,auth,firstnamephonetic,lastnamephonetic,middlename,alternatename,firstname,lastname,confirmed,policyagreed,deleted,lang,theme,timezone,firstaccess,lastaccess,lastlogin,currentlogin,mailformat,maildigest,maildisplay,autosubscribe,trackforums,timecreated,timemodified,trustbitmask,password) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) [array ( 0 => 'kasha', 1 => '', 2 => 'someone@oursite.com', 3 => '', 4 => '', 5 => '', 6 => '', 7 => '', 8 => '', 9 => '', Ã— Stack trace: line 489 of /lib/dml/moodle_database.php: dml_write_exception thrown line 1331 of /lib/dml/my sql i_native_moodle_database.php: call to moodle_database->query_end() line 1377 of /lib/dml/mysqli_native_moodle_database.php: call to mysqli_native_moodle_database->insert_record_raw() line 1245 of /backup/util/dbops/restore_dbops.class.php: call to mysqli_native_moodle_database->insert_record() line 1144 of /backup/moodle2/restore_stepslib.php: call to restore_dbops::create_included_users() line 34 of /backup/util/plan/restore_execution_step.class.php: call to restore_create_included_users->define_execution() line 181 of /backup/util/plan/base_task.class.php: call to restore_execution_step->execute() line 178 of /backup/util/plan/base_plan.class.php: call to base_task->execute() line 168 of /backup/util/plan/restore_plan.class.php: call to base_plan->execute() line 377 of /backup/controller/restore_controller.class.php: call to restore_plan->execute() line 219 of /backup/util/ui/restore_ui.class.php: call to restore_controller->execute_plan() line 143 of /backup/restore.php: call to restore_ui->execute() Error Paste end : My knowledge of mysql tell me that since the user with the same username already exists, it wouldn't continue but at the same time I see the following https://docs.moodle.org/37/en/MySQL_full_unicode_support url recommended as a possible fix. Can anyone shed some light here? Thanks, Chetan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 2, 2021, 2:05 PM",
          "AuthorName": "Chetan Madaan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1002706&course=5",
          "role": [
            "Picture of Chetan Madaan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring Course with existing users.",
          "Text": "\" Class coursecat_sortable_records is deprecated without replacement \" So we are trying to 'merge' courses from 2 different moodles ... what are the versions of moodle involved?Â Â  Guessing older moodle version > newer moodle version? or is it the other way round? Error has been reported before and back then, the advice suggested to fix follows (summation/translated below): Compare what you have in config.php DB array (especially collation) with the true tables collation ... use scripts in moodlecode/admin/cli/ for mysql ... run them all to verify tables and columns are all the same. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 2, 2021, 10:46 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 174263,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=174263",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Tricky Moodle 2.0 backup and restore question",
          "Text": "The short version of the question is: How do I do the equivalent of this bit of DB upgrade code: https://github.com/timhunt/Moodle-Question-Engine-2/blob/qe2_wip/question/type/numerical/db/upgrade.php#L98 on restore. To explain a bit more, basically what is going on is that in 2.0, there were two separate DB fields for the numerical question type: question.quetsiontext, and question_numerical_options.instructions. In Moodle 2.1, we want to get rid of instructions by merging it into quetsion text. So if in the past questiontext was \"What is the speed of light?\" and instructions were \"Remebmer to give the correct unit.\" then on upgrade to 2.1, that becomes questiontext = \"What is the speed of light? _______________ Remebmer to give the correct unit.\" Note that instructsions has an assoicated file area, and we need to copy those files into the questiontext file area. So, Eloy, or any other gurus, please can I have some clues on how to do this. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 29, 2011, 3:28 AM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 256929,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=256929",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup/restore specific roles",
          "Text": "Hi, I am wondering if anyone has rolled over courses from one year to the next and if there is anyway to automate keeping some role but not others (e.g. keeping tutors, but not students)? If so, can you let me know how you did that? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 24, 2014, 8:54 PM",
          "AuthorName": "William Mair",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1311249&course=5",
          "role": [
            "Picture of William Mair"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 205643,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=205643",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Backup not even starting",
          "Text": "v1.9.17 I go to the Admin Block.Â  Click on Backup and nothing at all happens.Â  Is there something incorrectly set? Thanks Dave",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 27, 2012, 10:01 PM",
          "AuthorName": "Dave Catlin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761832&course=5",
          "role": [
            "Picture of Dave Catlin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup not even starting",
          "Text": "Have you http://docs.moodle.org/19/en/Cron set?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 28, 2012, 3:11 AM",
          "AuthorName": "Visvanath Ratnaweera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41095&course=5",
          "role": [
            "Picture of Visvanath Ratnaweera",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup not even starting",
          "Text": "Hi Visvanath, Sorry for the delay in replying.Â  I asked my ICT Support and they said. The cron job is failing which means it is not completing fully or not running at all, so I have to figure out why. It may be server related or moodle related depending on how far it gets thru the task. H owever,Â  the issue is not cron related.Â  I am trying to copy the contents of a course to another course.Â  According to the documenation I should be able to go to the course.Â  Click on Admin Back Up.Â  Which I do.Â  But nothing happens.Â  It simply hangs there.Â  My understanding this has nothing to do with cron which manages an automatic back up process.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 29, 2012, 12:19 PM",
          "AuthorName": "Dave Catlin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761832&course=5",
          "role": [
            "Picture of Dave Catlin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup not even starting",
          "Text": "Hi Dave The fact is, the backup and restore scripts crash. Raise the http://docs.moodle.org/en/Debugging level to see why.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 29, 2012, 4:53 PM",
          "AuthorName": "Visvanath Ratnaweera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41095&course=5",
          "role": [
            "Picture of Visvanath Ratnaweera",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup not even starting",
          "Text": "Hi Visvanath,Â  I have asked my ICT support the question and well report as soon as I have had their reply.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 1, 2012, 6:36 PM",
          "AuthorName": "Dave Catlin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761832&course=5",
          "role": [
            "Picture of Dave Catlin"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 178139,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=178139",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course Backup - Track down error",
          "Text": "I vote for no server space.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 24, 2011, 7:36 AM",
          "AuthorName": "ben reynolds",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=259778&course=5",
          "role": [
            "Picture of ben reynolds"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 415694,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=415694",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "[3.9.1] Delete oldest automated backup from Moodledata instantly, not keeping them in trashdir",
          "Text": "Hello, In Moodle 3.9.1 we keep 4 weekly automated course backups in moodledata. However when automated backus runs oldest backups are moved to moodledata/trashdir and it sits there depending on \" filescleanupperiod \" (Clean up trash pool files) setting. So if we set filescleanupperiod to 5 days oldest backups are kept in this trashdir for 5 days and only then deleted from server . In this scenario if have ~3000 course backups weekly, so every weekend we get 3000 new automated course backups and 3000 oldest backups moved to trashdir which gets deleted after 5 days. So as you can see we need to have a lot extra space, because for few days we actually keep 4 weeks course backups + 1 week oldest backups in trashdir = 5 weeks automated backups. Even if we would set filescleanupperiod to 1 day (default setting) it wouldn't help, because automated backups are done within ~8-9hours. Is it possible somehow to automatically delete oldest backups from server without moving to trashdir? And if it's automatic process why automated backups are moved to trashdir? why they are not deleted from server instantly? Other solution would be to set filescleanupperiod to like 10minutes, and run \" \\core\\task\\file_trash_cleanup_task\" like every 30minutes or so? Because this task runs every 6 hours by default. Also I am confused about \"filescleanupperiod\" setting (set for 5 days), is it somehow related to course recycle bin \"tool_recyclebin | coursebinexpiry\" (set for 3 weeks) ? For example if teacher deletes some resources from a course, does it moved to trashdir or to other location and only after 3 weeks deleted resource moved to trashdir? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 21, 2020, 4:04 PM",
          "AuthorName": "Marius S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1338211&course=5",
          "role": [
            "Picture of Marius S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: [3.9.1] Delete oldest automated backup from Moodledata instantly, not keeping them in trashdir",
          "Text": "Hi Marius, Where do you keep your backups from the automated backup? We store them in a different path outside the Moodle data. When our backups are removed (replaced with a new version), they are deleted from the filesystem only, and don't stay in the Moodle trashcan.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 21, 2020, 9:04 PM",
          "AuthorName": "Alain Raap",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2249010&course=5",
          "role": [
            "Picture of Alain Raap",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: [3.9.1] Delete oldest automated backup from Moodledata instantly, not keeping them in trashdir",
          "Text": "What do you have in Site administration > Courses > Backups > Automated backup setup: Automated backup storage (backup | backup_auto_storage) and Save to (backup | backup_auto_destination)?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 22, 2020, 4:45 AM",
          "AuthorName": "Visvanath Ratnaweera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41095&course=5",
          "role": [
            "Picture of Visvanath Ratnaweera",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 360271,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=360271",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Import activities",
          "Text": "Hello,\n\nI made the upgrade to Moodle 3.3 and I am not able to import features and activities between courses.\n\nMoodle displays the name of the activities and resources being marked for import, but at the end of the process only the titles of the blocks are imported.\n\nWhat could it be?\n\nPHP 7.0",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 19, 2017, 11:32 PM",
          "AuthorName": "AndrÃ© Mazzarello",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1390465&course=5",
          "role": [
            "Picture of AndrÃ© Mazzarello"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Import activities",
          "Text": "I experienced the same problem with Moodle 3.4.Â  I chose the Import feature from the course page and selected the names of sections and the forums in those sections from another course on the same site (total of 4 forums).Â  The names of the forums and their descriptions came through but none of the posts in the forums. Is this a known issue?Â  What would help?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 5, 2018, 12:08 AM",
          "AuthorName": "Stephen Wise",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1587837&course=5",
          "role": [
            "Picture of Stephen Wise"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 114837,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=114837",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "\"No Questions found\" message when restoring course",
          "Text": "We have previously applied the fix as is mentioned in MDL-14725 . Now when we try to restore the course with quizzes, the restore process is successful. But when we look into the quiz, the questions are not found. Please help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 27, 2009, 1:14 PM",
          "AuthorName": "smrithi puli",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=574452&course=5",
          "role": [
            "Picture of smrithi puli"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"No Questions found\" message when restoring course",
          "Text": "I am still on a really out of date moodle (1.6.x) and I get this from time to time. What follows is only for those that are still using out of 'date versions' of moodle. I noticed that the error occurs not just on the restored course, but also on the original course from which the new course was restored. I think that I may have found a way to avoid the behaviour. It seems to occur with the recreation of published categories. I.e. the category is published in the first course, and then backed up and restored, it creates two published categories by the same id and something falls apart. I feel sure that this bug has been fixed years ago. I do not seem to get this behaviour in unpublished categories. Phew. And sinceÂ I don't use the publishing feature (I back up and restore to other courses) I am still in business.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 2, 2009, 11:53 AM",
          "AuthorName": "Timothy Takemoto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4185&course=5",
          "role": [
            "Picture of Timothy Takemoto"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 164125,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=164125",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.0 instillation and upgrade",
          "Text": "Can someone please tell me what may cause the installation of moodle 2.0 to fail while using FTP and the correct file rormat? My site is hosted by 000webhost.com and each time I try to upload suing their 1-click website restore it fails...and FTP isn't able to upload all files (quess this is quota related) SItes in question: modelstudents.hostoi.com fintonpaul.hostei.com ant help will be greatly appreciated",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 11, 2010, 11:01 AM",
          "AuthorName": "Finton Paul",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=925415&course=5",
          "role": [
            "Picture of Finton Paul"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 59086,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=59086",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Backup Issues with Moodle 1.5.3+",
          "Text": "I have been having issues with backing up courses and have tried all the recommended solutions I found in the forums and still have no success. I have increased resources - memory and execution time. Here is what happens .. The process runs till Creating temporary structures\nDeleting old data\nCreating XML file Writing header Writing general info Writing course data Course info Blocks Sections Writing users info Writing categories and questionsquiz_category_ids_by_backup. . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . And then hangs... Any ideas ?? Thanlks for any help or direction",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 20, 2006, 9:19 PM",
          "AuthorName": "Moodle Coder",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=106411&course=5",
          "role": [
            "Picture of Moodle Coder"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup Issues with Moodle 1.5.3+",
          "Text": "Backups usually \"hang\" because the server has run out of time or memory to perform the backup. There are instructions on various places in the forums and documentation on how to increase the amount of time and memory allowed to the Moodle php routines that perform the backup. Do you have a lot of quiz categories? Are you using an inexpensive shared server? If the answer to one or both of these questions is yes, then suspect that your server is simply running out of time or memory to perform the backup. Consider using a Moodle Partner, orÂ even your own dedicated server if that is within your budget and expertise. Very very occasionally thereÂ might beÂ a problem with the database , due to a server glitch, or a way of setting up or fillingÂ your moodle database unforseen by developers. One way toÂ test whether theÂ problem is simply a question of processing power orÂ something more serious is to install a moodle installation in your computerÂ -the computer you used to post the message above. To do this download one of the installers on the downloads page or this WindowsXP Desktop Moodle . Then (assuming you have the expertise, ask again if not)Â you can dump your database from your server and put it in the database inÂ your computer. Usually your 'client'Â computer will have enough processing power to perform the backupÂ because it is dedicated to you alone. If the backup does not work on your client machine, even when it is the only task running and you have increased the memory and timeout restrictions to the full, then you may suspect a problem with the database. If then you do suspect a problem with the database then one thing that might improve things is upgrading your moodle to 1.6 (on your client machine as a test first or at least after backing upÂ your database). I know that work was done on quiz categories to improve their display speed (for me in part, thanks Howard) and it is concievable that this wouldÂ also have resulted in an improvement in backup speed too.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 20, 2006, 10:53 PM",
          "AuthorName": "Timothy Takemoto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4185&course=5",
          "role": [
            "Picture of Timothy Takemoto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup Issues with Moodle 1.5.3+",
          "Text": "Thanks, Timothy. I am using a shared server and I do have a few categories (15) with about 9000 questions. So perhaps it is a resource issue. I will try the client installation as soon as possible and try to check this out. Thanks,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 20, 2006, 11:39 PM",
          "AuthorName": "Moodle Coder",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=106411&course=5",
          "role": [
            "Picture of Moodle Coder"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup Issues with Moodle 1.5.3+",
          "Text": "9000 questions!? I am jealous.Â That is quite a few. I think that you mayÂ  need quite a powerful server (Moodle partner, or dedicated server, or at least a server dedicated toÂ your institution) to cope with that number of questions. Please let us know how it goes with the client side server. Timothy",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 21, 2006, 1:12 AM",
          "AuthorName": "Timothy Takemoto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4185&course=5",
          "role": [
            "Picture of Timothy Takemoto"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 133450,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=133450",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Are assignments to metacourses backuped( and  can they be restored)",
          "Text": "Hello , We work a lot with metacourses. when transforming a backup from a course which is the childcourse in several metacourses in a new course these assignments are not established for the new course. So after the creation of the new course whe have to go to the pages of all the metacourses to assign this new course ( while this new course is a duplicate from the originally backuped course with the assignments) In my memory we didn;t had this problem in a previous version of Moodle (currently 1.93): the new course was automatically assigned to the same metacourses as the backuped original from which it was created. it saved some work so it would be helpfull to have a solution to this problem thanks Willem",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 23, 2009, 5:39 PM",
          "AuthorName": "willem stempvoort",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=26806&course=5",
          "role": [
            "Picture of willem stempvoort"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 61482,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=61482",
      "NoOfResponses": 10,
      "ResponsesInList": [
        {
          "Title": "How to prevent Backup Timeouts",
          "Text": "Hello, I have been combing through information on how to make sure my backups occur correctly for quite a while (on and off for months) and still have some questions. First off, my Moodle 1.6.1 installation is setup on a shared hosting account and the sever settings are: Operating system - Linux Kernel version - 2.6.17-11_4.BHsmp Apache version - 1.3.37 (Unix) PHP version - 4.4.4 MySQL version - 4.1.21-standard-log Now that we are in the winter break, I am wanting to upgrade to Moodle 1.7 but I have had some problems with backups breaking. I would like to get good backups before I try to upgrade. OK, I must admit, I tried to use cPanel's fantastico to upgrade to 1.7 but it didn't work and I suspect that the same problems I am having with backups are preventing a fantastico script based upgrade from working. One of these days I need to do an install/upgrade without relying on fantastico but that is another issue. So, now, I need to get the backups working correctly. I have a rather small Moodle installation with just 7 active classes and 9 inactive ones. There are 150 student accounts with no more than 60 active during any one academic term. I HAVE been recording lectures via camtasia and posting them in the moodle classrooms in flash format so the total zip for some of my classes is > 200megs.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 29, 2006, 1:02 AM",
          "AuthorName": "Daniel Brouse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41073&course=5",
          "role": [
            "Picture of Daniel Brouse"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to prevent Backup Timeouts",
          "Text": "An update: I deleted the html font formatting (see the original post if this doesn't make sense) on all of the resources and, although the backup dialog looked a lot nicer, I ran into the same problems. The backup stalled on the \"logs\" I then turned off the backup of the logs and now instead of halting on the \"logs\" it is halting on the \"zipping files.\" Thanks in advance to all/any who respond.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 29, 2006, 1:53 AM",
          "AuthorName": "Daniel Brouse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41073&course=5",
          "role": [
            "Picture of Daniel Brouse"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to prevent Backup Timeouts",
          "Text": "See this discussion for how to increase the time limit on php scripts.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 29, 2006, 2:51 AM",
          "AuthorName": "John Isner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=104240&course=5",
          "role": [
            "Picture of John Isner"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to prevent Backup Timeouts",
          "Text": "John, Thanks for the link to the discussion. I learned something that I was wondering about -- where the updated php.ini file needs to reside. In the past I didn't know that it really needed to be in the moodle/admin folder and so I just copied it everywhere! It appears that some other people have had the same issue. Thanks again. Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 29, 2006, 4:41 PM",
          "AuthorName": "Daniel Brouse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41073&course=5",
          "role": [
            "Picture of Daniel Brouse"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to prevent Backup Timeouts",
          "Text": "Hi Daniel You can go into the admin ->backup section and select what files you want to backup. I suspect that if you set course files to no the size of your backup zips will drop dramatically. I just did this and will see what happens at 1:00pm tomorrow morning. I hope my \"big\" class will go through easily. Simon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 29, 2006, 6:46 AM",
          "AuthorName": "Simon Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=150934&course=5",
          "role": [
            "Picture of Simon Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to prevent Backup Timeouts",
          "Text": "Hi Daniel, I am running on a similar config at www.bluehost.com . Seems that shared hosts limit the script execution time so when your backup script exceeds their limit they just kill it. I switched to the external zip and unzip routines and I can now manually backup my courses. The automated nightly backup fails on one course with 25 mb of files but I don't mind. However, I can back it up manually. What I did was go to my config page in the moodle admin section and put in the path for my external zip routine (/usr/bin/zip) and unzip routine (/usr/bin/uzip) in the operating system subsection. You may have to get the path from your own host . This works for me but I don't know if it will work for you. I suspect that problem lies in the size of your camtasia files. Why don't you host these outside your moodle class so that the backup does not have to deal with them. You could link to them so all the backup would have to store is the link and not the entire file. Hope this helps Simon Simon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 29, 2006, 6:36 AM",
          "AuthorName": "Simon Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=150934&course=5",
          "role": [
            "Picture of Simon Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to prevent Backup Timeouts",
          "Text": "Simon, Thank you for the response. I smiled when I saw that you specifically mentioned bluehost.com as that is the host provider that I use. I almost mentioned them in my original post but decided to not mention them because I didn't want to seem to be advertising for them. Thank YOU for mentioning that you are having a similar problem with bluehost as it makes your other comments particularly useful for my purposes. I think that in the future I will provide such information. I am pretty sure that I can get the automated backup to work with files larger than 25MB but I know that significantly higher than that, and the automated backup seems to timeout. I have updated the php.ini file with the following: max_execution_time = 60 ; Maximum execution time of each script, in seconds. DCB updated from 30 memory_limit = 12M ; Maximum amount of memory a script may consume (8MB) DCB updated from 8 upload_max_filesize = 16M ; Maximum allowed size for uploaded files - DCB updated from 8M Does anyone have any pointers on determining the optimal settings of the above values? Should I just find out the maximum value permitted and use that or is there a problem with increasing any of these values above a certain level? I haven't designated external processes for the zip and unzip but I have noticed that manual backups (at the course level using the backup tool) will succeed when automated ones fail. At this point I am unable to get the manual backups to successfully complete when everything is included in the course backup (logs, files, etc.) and so I am getting a little worried. As you are using bluehost and have used the external backup processes, I guess I will give it a try also. I have been hesitant because I don't understand how specifying a path (directory structure) changes the zip and unzip processes. If anyone can explain that to me I would be obliged. I have thought of putting all of my big files in the \"files\" subdirectory rather than include them as part of the course files. I will do this if necessary but I would prefer that the files not be accessible outside of the course, and I will really miss being able to easily look up the hyperlink information inside Moodle. If I place them in the \"files\" directory I will need to use something other than Moodle to determine the link to use for those resources. Thank you again for your help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 29, 2006, 4:30 PM",
          "AuthorName": "Daniel Brouse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41073&course=5",
          "role": [
            "Picture of Daniel Brouse"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to prevent Backup Timeouts",
          "Text": "Follow-up I changed the zip & unzip to the external processes by pasting the suggested paths [zip routine (/usr/bin/zip) and unzip routine (/usr/bin/uzip)] into the appropriate fields in the configuration variables page. I also increased the php.ini max_execution_time to 120, the memory_limit to 16M, and the upload_max_filesize to 24M. I pasted this to the admin directory and then confirmed that the configuration: variables page allowed 24M upload instead of the prior 16M. I probably should have done these separately, to make it more scientific, but I did all of the above and then tried manual backups on three of my biggest courses. I still got timeouts on my \"logs\" for the two of the three classes (the other timed out on \"assignments\") but once I turned off the \"logs\" portion of the backup I ended up with at 220M, a 337M, and a 186M backup file for each. So it appears that I can backup these large (filesize) classes. I bet that if I increased the max execution time I could backup the logs also but I haven't tried it yet. I found AN answer to my questions about how high you can safely go with php.ini settings in the \"help\" section of my host provider. It is not terribly informative (doesn't give very many numbers as guidelines) but it does provide some information about what you can change in the php.ini file and which ones may cause problems if you increase them too much (memory_limit). http://helpdesk.bluehost.com/kb/index.php?x=&mod_id=2&id=124 Daniel",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 29, 2006, 5:43 PM",
          "AuthorName": "Daniel Brouse",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41073&course=5",
          "role": [
            "Picture of Daniel Brouse"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to prevent Backup Timeouts",
          "Text": "Hi Daniel, This is good information on the php.ini settings. I will experiment with these as well before the start of the semester.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 29, 2006, 9:23 PM",
          "AuthorName": "Simon Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=150934&course=5",
          "role": [
            "Picture of Simon Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to prevent Backup Timeouts",
          "Text": "Hi Daniel, Do you have an update on your changes? Are your backups working now? I made some of the changes you suggested and will see what happens tonight. Simon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 7, 2007, 1:56 AM",
          "AuthorName": "Simon Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=150934&course=5",
          "role": [
            "Picture of Simon Fraser"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 72386,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=72386",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup-Restore accross different versions of moodle",
          "Text": "Will it work? We set up a new installation of moodle (1.8) and would like to import some courses from our old installation of moodle(1.5.4) Is this possible or do I need to update the 1.5.4 installation to 1.8 first? Also, what is the difference between Restore and Import? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 26, 2007, 12:23 AM",
          "AuthorName": "Brad Schonhorst",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=42898&course=5",
          "role": [
            "Picture of Brad Schonhorst"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 87687,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=87687",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup hangs at Blocks in 1.9",
          "Text": "Hello, I am unable to backup any of my courses in Moodle 1.9. The backup hangs with the following error: Name: backup-infection_control-20080108-0554.zip Creating temporary structures Deleting old data Creating XML file Writing header Writing general info Writing course data Course info Blocks Fatal error : Call to undefined method block_participants::backup_encode_absolute_links_in_config() in C:\\Program Files\\xampp\\htdocs\\moodle1-9\\backup\\backuplib.php on line 966 I don't know whether it's related, but on the highest error reporting setting on, my front page is riddled with these warnings above some of the blocks (with no adverse effects to their function). Notice : Undefined property: object::$specific in C:\\Program Files\\xampp\\htdocs\\moodle1-9\\blocks\\moodleblock.class.php on line 688 Is it a bug, or do you think I've broken something?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 8, 2008, 3:02 PM",
          "AuthorName": "Zoe Bogner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=450532&course=5",
          "role": [
            "Picture of Zoe Bogner"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 206982,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=206982",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "restore course created with moodle 1.8 to moodle 2.2",
          "Text": "Hi , is it possilbe to restore course created with moodle 1.8 into a moodle 2.0? Thanks Piero",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 14, 2012, 12:05 AM",
          "AuthorName": "Piero Fornoni",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1429748&course=5",
          "role": [
            "Picture of Piero Fornoni"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: restore course created with moodle 1.8 to moodle 2.2",
          "Text": "I have tried to restore a 1.8 platform course into 2.2.3 and I recevie the following error message: \"error/tmp_backup_directory_not_found\" When I click the \"More information about this error\" link, I am taken to a help page on moodle.org but it page is blank. Is this type of restore possible?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 19, 2012, 6:54 PM",
          "AuthorName": "Donald Ardiel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=295791&course=5",
          "role": [
            "Picture of Donald Ardiel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: restore course created with moodle 1.8 to moodle 2.2",
          "Text": "So you have a backup of a course from a 1.8 site and you are trying to restore it in a moodle 2.0 site?Â  The only way I have been able to do this is to upgrade the old site up (in your case 1.8) up to the current version of the new site (2.2) adn then backing it up and restoring it to the new site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 21, 2012, 1:27 AM",
          "AuthorName": "Mark Sadecki",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1312208&course=5",
          "role": [
            "Picture of Mark Sadecki"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 239512,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=239512",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "MBZ file not recognized",
          "Text": "A friend purchased, from a professional organization, a course that is supposed to work in Moodle. I've been trying to restore it (using Moodle 1.9 still) but when I upload it to the files area in Moodle 1.9, I don't get the \"restore\" option. I tried renaming the MBZ file as a ZIP file and then I did get the \"restore\" option. But when I tried restoring it, I got the familiar error: Error checking backup file. moodle. xml not found at root level of zip file. I tried unzipping the file and looking for a file called moodle.xml (or is it file.moodle.xml?) but no such file is there. Is it possible that my friend purchased a Moodle course that is not restore-able? There is a moodle_backup.xml file, making me think that someone knew what s/he was doing when s/he created the course in Moodle. Another thought: might the course have been created in Moodle 2.x and these courses are not restore-able to Moodle 1.9? I'm an amateur Moodle site admin so I'm grateful for any advice from you pros. Thanks. - Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 23, 2013, 9:15 PM",
          "AuthorName": "Peter Seaman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=239226&course=5",
          "role": [
            "Picture of Peter Seaman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: MBZ file not recognized",
          "Text": "You cannot restore an MBZ to a 1.9 server . Â MBZ file format was introduced in Moodle 2.0 and it is incompatible with a 1.9 server. Â You will have to restore to a version of Moodle that is as new as or newer than the version of Moodle that created the backup.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 23, 2013, 11:09 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: MBZ file not recognized",
          "Text": "Aha! - as I expected. Thanks, Emma, for your quick reply.Â  I hope I didn't just miss that guidance somewhere in the Moodle docs . Thanks again. Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 24, 2013, 3:17 AM",
          "AuthorName": "Peter Seaman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=239226&course=5",
          "role": [
            "Picture of Peter Seaman"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 82265,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=82265",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup and Restore of a complete Moodle course",
          "Text": "Hi, Is there a way of restoring the full layout of a Moodle course, including HTML blocks added by the teacher? It seems that by restoring my backup, only resources and activities are restored. Thanks Stefano",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 13, 2007, 4:29 AM",
          "AuthorName": "stefano federici",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=164021&course=5",
          "role": [
            "Picture of stefano federici"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 313500,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313500",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Trouble with manual backups",
          "Text": "Hello! Â I am trying to back up a course in a shared- server installation of Moodle to move to a dedicated server. Â I am unable to finish the backup, as I get the following error. Â I turned debug on to get all the extra info. Â Any ideas? Chris Error reading from database More information about this error Debug info: MySQL server has gone away SELECT i.*, r.type AS repositorytype, r.visible, r.sortorder FROM mood_repository_instances i JOIN mood_repository r ON r.id = i.typeid WHERE i.id = ? [array ( 0 => '1', )] Error code: dmlreadexception Stack trace: line 443 of /lib/dml/moodle_database.php: dml_read_exception thrown line 1080 of /lib/dml/my sql i_native_moodle_database.php: call to moodle_database->query_end() line 1476 of /lib/dml/moodle_database.php: call to mysqli_native_moodle_database->get_records_sql() line 630 of /repository/lib.php: call to moodle_database->get_record_sql() line 78 of /lib/filestorage/stored_file.php: call to repository::get_repository_by_id() line 155 of /lib/filestorage/file_storage.php: call to stored_file->__construct() line 80 of /backup/util/helper/backup_file_manager.class.php: call to file_storage->get_file_instance() line 107 of /backup/moodle2/backup_custom_fields.php: call to backup_file_manager::copy_file_moodle2backup() line 82 of /backup/util/structure/backup_nested_element.class.php: call to file_nested_element->fill_values() line 99 of /backup/moodle2/backup_custom_fields.php: call to backup_nested_element->process() line 107 of /backup/util/structure/backup_nested_element.class.php: call to file_nested_element->process() line 97 of /backup/util/plan/backup_structure_step.class.php: call to backup_nested_element->process() line 181 of /backup/util/plan/base_task.class.php: call to backup_structure_step->execute() line 177 of /backup/util/plan/base_plan.class.php: call to base_task->execute() line 120 of /backup/util/plan/backup_plan.class.php: call to base_plan->execute() line 320 of /backup/controller/backup_controller.class.php: call to backup_plan->execute() line 111 of /backup/util/ui/backup_ui.class.php: call to backup_controller->execute_plan() line 131 of /backup/backup.php: call to backup_ui->execute()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 14, 2015, 12:26 AM",
          "AuthorName": "Chris Malanga",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7633&course=5",
          "role": [
            "Picture of Chris Malanga"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Trouble with manual backups",
          "Text": "It seems to be telling you it is an issue with the database - are you having any other issues with the site? Is this a very large course?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 14, 2015, 1:00 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with manual backups",
          "Text": "This ( MySQL server has gone away) indicates it's a mysql server issue.Â  The variable max_allowed_packet is probably at it's default of 1M.Â  Since you are on shared system, you probably don't have the access levels to the DB server to change that.Â Â  Contact hosting provider for assistance. Because that setting affects all clients using that shared DB server,Â  hosting provider might not change the variable as it would require restart of the MySQL service. What you might have to do is be selective in creating the backup.Â Â  Any links to large files contained in the course? (those large files might be videos/audios)Â Â  Exclude them from the backup.Â Â  If that is successful, download that backup.Â Â  Then go back in to the backup routine and exclude all the other resources in the course except those you excluded the first time and backup. To restore to a dedicated server, check the max_allowed_packet setting of the MySQL DB server first and set it to something like 16M first.Â Â  Then restore your backups to the same course. Alternative ... ask provider for a backup of the entire moodle ... code directory, data directory, and an sql dump of the DB.Â Â  You could then follow the directions for migrating a site. https://docs.moodle.org/26/en/Moodle_migration and restore the entire site on the dedicated server. 'spirit of sharing', Ken 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 14, 2015, 1:51 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with manual backups",
          "Text": "I am still having trouble with this backup. Â Whatever I select, even if it is a teeny tiny document, it just refuses to back up. Â I get the following error in a large box on the screen: \n```text\nError reading from database\n\n\nMore information about this error\n\n\nDebug info: Table 'i902346_mood1.mood_backup_ids_temp' doesn't exist\n\n\nSELECT COUNT(*)\n\n\nFROM mood_backup_ids_temp b\n\n\nJOIN mood_user u ON u.id = b.itemid\n\n\nWHERE b.backupid = ?\n\n\nAND b.itemname = 'userfinal'\n\n\nAND u.mnethostid != ?\n\n\n[array (\n\n\n0 => 'd56adc9bc30e7ee3dc94c938d15c1a1c',\n\n\n1 => '1',\n\n\n)]\n\n\nError code: dmlreadexception\n\n\nStack trace:\n\n\nline 443 of /lib/dml/moodle_database.php: dml_read_exception thrown\n\n\nline 1080 of /lib/dml/mysqli_native_moodle_database.php: call to moodle_database->query_end()\n\n\nline 1476 of /lib/dml/moodle_database.php: call to mysqli_native_moodle_database->get_records_sql()\n\n\nline 1549 of /lib/dml/moodle_database.php: call to moodle_database->get_record_sql()\n\n\nline 1759 of /lib/dml/moodle_database.php: call to moodle_database->get_field_sql()\n\n\nline 471 of /backup/util/dbops/backup_controller_dbops.class.php: call to moodle_database->count_records_sql()\n\n\nline 1613 of /backup/moodle2/backup_stepslib.php: call to backup_controller_dbops::backup_includes_mnet_remote_users()\n\n\nline 88 of /backup/util/plan/backup_structure_step.class.php: call to backup_main_structure_step->define_structure()\n\n\nline 181 of /backup/util/plan/base_task.class.php: call to backup_structure_step->execute()\n\n\nline 177 of /backup/util/plan/base_plan.class.php: call to base_task->execute()\n\n\nline 120 of /backup/util/plan/backup_plan.class.php: call to base_plan->execute()\n\n\nline 320 of /backup/controller/backup_controller.class.php: call to backup_plan->execute()\n\n\nline 111 of /backup/util/ui/backup_ui.class.php: call to backup_controller->execute_plan()\n\n\nline 131 of /backup/backup.php: call to backup_ui->execute()\n```\n At the bottom, in the Debug area, I get the following: Fatal error: Uncaught exception 'ddl_change_structure_exception' with message 'DDL sql execution error' in /home/tadadouce/public_html/connect/lib/dml/moodle_database.php:449 Stack trace: #0 /home/tadadouce/public_html/connect/lib/dml/mysqli_native_moodle_database.php(905): moodle_database->query_end(false) #1 /home/tadadouce/public_html/connect/lib/ddl/database_manager.php(76): mysqli_native_moodle_database->change_database_structure(Array) #2 /home/tadadouce/public_html/connect/lib/ddl/database_manager.php(326): database_manager->execute_sql_arr(Array) #3 /home/tadadouce/public_html/connect/lib/dml/moodle_temptables.php(140): database_manager->drop_table(Object(xmldb_table)) #4 /home/tadadouce/public_html/connect/lib/dml/moodle_database.php(370): moodle_temptables->dispose() #5 /home/tadadouce/public_html/connect/lib/dml/mysqli_native_moodle_database.php(481): moodle_database->dispose() #6 /home/tadadouce/public_html/connect/lib/dml/moodle_database.php(152): mysqli_native_moodle_database->dispose() #7 [internal function in /home/tadadouce/public_html/connect/lib/dml/moodle_database.php on line 449 I have no idea what to check... any ideas? Â Thanks in advance. Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 22, 2015, 9:57 PM",
          "AuthorName": "Chris Malanga",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7633&course=5",
          "role": [
            "Picture of Chris Malanga"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Trouble with manual backups",
          "Text": "Well, it's DB for sure, but what does this link: \n```text\nMore information about this error\n```\n say? The DB user for the Moodle DB should have pretty much permissions to do all things MySQL.Â  Think I'd check on that first. The DB is mysql. This query: ï»¿ mysql> select Alter_priv from user where user='root'; You replace the 'root' above to the DB user you see in your config.php file. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 23, 2015, 12:03 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 154999,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=154999",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Import courses from moodle 1.9x to moodle 2",
          "Text": "Hi I have been install new moodle version to try the new features, but when I try to import courses from Moodle 1.9 to newest version it doesn't work. Can someone help me? Thanks for your attention",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 30, 2010, 2:32 AM",
          "AuthorName": "r rai",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=214132&course=5",
          "role": [
            "Picture of r rai"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Import courses from moodle 1.9x to moodle 2",
          "Text": "You're right. That functionality isn't written yet (and, I think, won't be until 2.1). The work around is to upgrade your 1.9 site (or a copy of it) to 2.0 then backup/restore. 2.0 has a completely new backup/restore system.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 30, 2010, 3:34 AM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import courses from moodle 1.9x to moodle 2",
          "Text": "I am trying to import from one of my courses to another. I was always able to before, and now I can't. I have been trying to solve this problem but nothings works. Can you help me? I don't know what version of Moodle I have. Where do you find that information?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 10, 2010, 8:18 AM",
          "AuthorName": "Elaine Diamond",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1025686&course=5",
          "role": [
            "Picture of Elaine Diamond"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import courses from moodle 1.9x to moodle 2",
          "Text": "Hi, One of my responsability it's to evaluate the impacts of a migration to Moodle 2.0. I'm tracking all the usual actions that we are doing in the 1.9.7 version and tring to transfert it in a Moodle 2.0 environment. My evaluation and bogs encountered are written down in a testing report.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 24, 2010, 3:58 AM",
          "AuthorName": "Isabelle Cayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=683904&course=5",
          "role": [
            "Picture of Isabelle Cayer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import courses from moodle 1.9x to moodle 2",
          "Text": "Thanks for you answer Best Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 2, 2010, 10:59 PM",
          "AuthorName": "r rai",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=214132&course=5",
          "role": [
            "Picture of r rai"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 181150,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=181150",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restoring 1.x moodle backups into another 2.0 moodle",
          "Text": "Recently I installed my laptop with moodle 2.0 I have several backup stored in moodle 1.x .Â  How can I RestoreÂ  1.x moodle backups into another 2.0 moodle please help..........?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 13, 2011, 10:18 PM",
          "AuthorName": "steven mpondi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1340653&course=5",
          "role": [
            "Picture of steven mpondi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring 1.x moodle backups into another 2.0 moodle",
          "Text": "You need version 2.1 and your backups need to be from at least 1.9. Â View the release notes on 2.1 for some of the other considerations.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 14, 2011, 7:55 PM",
          "AuthorName": "Kyle Hill",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1230078&course=5",
          "role": [
            "Picture of Kyle Hill"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 218818,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=218818",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Unable to export question bank",
          "Text": "I am using 2.1.5 and I want to export my question bank before I attenpt upgrading to 2.2.Â  The problem is that no matter what export format I choose, I get an error; \"No valid arguments supplied or incorrect server configuration\" I need to upgrade my site but I do not want to risk losing my question bank.Â  If there another way to export the questions?Â  I am very nervous about attempting the upgrade but if I cant export my question bank for backup purposes I might be stuck with 2.1.5 I am seeking any advice to help solve my problem or show me another way to backup my moodle content with exporting.Â  I really would like to upgrade moodle.Â  thanks in advance for any help you can offer.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 31, 2012, 11:55 AM",
          "AuthorName": "juice masters",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449168&course=5",
          "role": [
            "Picture of juice masters"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Unable to export question bank",
          "Text": "Other options are http://docs.moodle.org/21/en/Course_backup and http://docs.moodle.org/21/en/Site_backup . You could also turn on Debugging ( http://docs.moodle.org/21/en/Debugging ) to see if that adds more useful informaiton to the error message.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 31, 2012, 4:18 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to export question bank",
          "Text": "Well, I went ahead and upgraded to 2.2.6 last night hoping that would solve my problem.Â  Unfortunately, I am still getting the same message.Â  Now I want to export my question bank and still get \"No valid arguments supplied or incorrect server configuration\".Â  I tried looking around for possible solutions but I have yet to find one.Â  I am thinking that because this problem still exists with 2.2 maybe that will help someone who knows more than me, identify the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 1, 2013, 4:21 PM",
          "AuthorName": "juice masters",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449168&course=5",
          "role": [
            "Picture of juice masters"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to export question bank",
          "Text": "Did you try turning on Debugging ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 1, 2013, 6:40 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Unable to export question bank",
          "Text": "Yes, I tried turning debugging on and I did not see any new information show up.Â  I still cant export the questions.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 3, 2013, 7:12 AM",
          "AuthorName": "juice masters",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1449168&course=5",
          "role": [
            "Picture of juice masters"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 73593,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=73593",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restore removes all course information",
          "Text": "Hello! I have a big problem with restore function. The college where I work offers Moodle courses in order to teach teachers how to use this platform, we've detected that when the people in a course try to restore a backup copy some of them lose their course, the course exists but it's completelly empty (no students, no teacher, no topics, no blocks, etc) it only has the files uploaded to it. The only solution is to restore as admin the backup copy. We think that problem is the concurrency, when a lot of people try to restore a backup copy at the same time it fails, sometimes remove all the course data, sometimes mix the students of several courses, etc... Â¿are we right?Â¿Does anyone notice the same problem?Â¿Any idea or suggestion? We are using Moodle 1.6.4 version. Thanx in advance. Alberto",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 11, 2007, 6:37 PM",
          "AuthorName": "Alberto Montoya Lara",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=143501&course=5",
          "role": [
            "Picture of Alberto Montoya Lara"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 56372,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=56372",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "migrating to a new server",
          "Text": "I am trying to migrate our school's moodle from a windows server which has performance issues to a new faster LINUX version. We have set up the new Moodle server and it sems to run well. What is the best way to migrate all the courses from the old moodle to the new one? The backups on the old one do not seem to restore well - usually they will not restore the resource links on the main topics page!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 15, 2006, 2:44 AM",
          "AuthorName": "Mike Jackson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=10211&course=5",
          "role": [
            "Picture of Mike Jackson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: migrating to a new server",
          "Text": "Mike, Please read the following post. http://moodle.org/mod/forum/discuss.php?d=50535 Mits",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 15, 2006, 4:20 AM",
          "AuthorName": "Mitsuhiro Yoshida",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1177&course=5",
          "role": [
            "Picture of Mitsuhiro Yoshida",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: migrating to a new server",
          "Text": "Thanks Mits, If I understand correctly, then we need to back up the MySQL database and then restore it. In addition we need to copy over all the data files. However, it seems as if this may not work if we don't keep the same server URL /name (we were planning to change it).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 15, 2006, 4:48 AM",
          "AuthorName": "Mike Jackson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=10211&course=5",
          "role": [
            "Picture of Mike Jackson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: migrating to a new server",
          "Text": "Mike, >However, it seems as if this may not work if we don't keep the same server URL /name (we were planning to change it). When you backup your My SQL database using phpMyAdmin or mysqldump command,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 15, 2006, 6:29 AM",
          "AuthorName": "Mitsuhiro Yoshida",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1177&course=5",
          "role": [
            "Picture of Mitsuhiro Yoshida",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 111353,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=111353",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backups Fail On Single Course",
          "Text": "Hello: We have a problem where backups for a particular course are failing, while other courses appear to be backing up just fine. The failure seems to be an incomplete backup or timeout on the backup process for this course. We have tried most if not all of the potential fixes in the Moodle forum threads on \"failed backups\". Any suggestions would be greatly appreciated! See history below: Our setup is Moodle 1.8.6, Apache 2.2, MySQL 4.1.22, and PHP 5. Nightly backups fail, and the crontab log shows lines after the backup has started, like this: <b>Notice</b>: Undefined property: stdClass::$instances in <b>/moodle/html/backup/backuplib.php</b> on line <b>2226</b><br /> <br /> <b>Warning</b>: Invalid argument supplied for foreach() in <b>/moodle/html/backup/backuplib.php</b> on line <b>2227</b><br />",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 27, 2008, 4:59 AM",
          "AuthorName": "Dan Eklof",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=54338&course=5",
          "role": [
            "Picture of Dan Eklof"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 345796,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=345796",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restoring a course...blank page",
          "Text": "I am trying to restore a course. When I click restore the screen goes blank. I turned on debugging and got this error. Warning :\nrequire_once(/home/sisfyi/public_html/backup/util/loggers/error_log_logger.class.php):\nfailed to open stream: No such file or directory in /home/sisfyi/public_html/backup/util/includes/restore_includes.php on line 59 Fatal error : require_once(): Failed opening required\n'/home/sisfyi/public_html/backup/util/loggers/error_log_logger.class.php'\n\n(include_path='/home/sisfyi/public_html/lib/ pear :.:/opt/alt/php56/usr/share/pear:/opt/alt/php56/usr/share/php')\nin /home/sisfyi/public_html/backup/util/includes/restore_includes.php on line 59 I am wondering what I should do next as I don't really know what it is saying. Thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 14, 2017, 11:28 AM",
          "AuthorName": "G Koo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1188902&course=5",
          "role": [
            "Picture of G Koo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring a course...blank page",
          "Text": "Hi all I am on Moodle 2.5 and have a similar problem where the screen goes blank on restore. Â The contents of the backup file (made on the same install of Moodle) looks fine as far as I can see. Â The file is about 80Mb in size, so really not that big at all. If someone has an idea, please let us know. Â G Koo, any soluttionÂ yet? Jan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 30, 2017, 4:51 PM",
          "AuthorName": "Jan Combrink",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=52185&course=5",
          "role": [
            "Picture of Jan Combrink"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 253546,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=253546",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "restore course from linux to windows",
          "Text": "Hi all, has anyone backed up a course in Moodle 2.x in linux and restored that to Moodle 2.x in Windows? I'm trying to switch hosting and server . I've got a brand new Moodle 2.x installation in Windows, but i don't know how to migrate my Moodle 2.x linux over to to windows. any help is appreciated. thanks, chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 5, 2014, 10:36 AM",
          "AuthorName": "chris chen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1750515&course=5",
          "role": [
            "Picture of chris chen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: restore course from linux to windows",
          "Text": "It shouldn't make any difference that you have a different OS. Â Courses should restore just fine.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 5, 2014, 8:33 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: restore course from linux to windows",
          "Text": "thank you emma.i'll i give this another try and let you know.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 6, 2014, 12:03 AM",
          "AuthorName": "chris chen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1750515&course=5",
          "role": [
            "Picture of chris chen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 173039,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=173039",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "restoring data from a deleted course",
          "Text": "I got anemail from a teacher today saying that two of his courses had disappeared and he has to give a quiz on monday. Sure enough the courses were no longer listed in Moodle, or any record of them in the database .Â  Through some sleuthing & searching I found the course id's - and if you try to visit them you get 'invalid id' - meaning the course actually doesn't exist in Moodle. Fortunately I keep weekly backups of all courses, so I have a rollback for him to 04/02 (and since it's spring break, he shouldn't be missing a week's worth of student work, I hope). Anyways, the question is, what's going to be the procedure to 'restore' a deleted course, or materials from a deleted course - should I have him create new courses in Moodle and then go to the server and use the restore feature to find the backup zip and restore that backup into a new course? Grades/past activity isn't the priority here since we have a separate grade book software where all activity from Moodle is logged - what's important is course content, activities (e.g. this quiz for Monday), and resources. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 9, 2011, 12:19 PM",
          "AuthorName": "Danny Wahl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1039872&course=5",
          "role": [
            "Picture of Danny Wahl"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 61066,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=61066",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "restore problem --Help!!",
          "Text": "Hi All : When i restore some courses on our new server with moodle 1.6.3 from the backups(made with moodle 1.5.x on our old server), all but one of the courses has the following problem: 1. I click the resore link to start the restore process, which open the page with the message: You are about to start the restore process for: backup-ahis-206-s090-20061218-0933.zip Later in this process you will have a choice of adding this backup to an existing course or creating a completely new course. Do you want to continue? 2. I click the \"Yes\" button, which should start the restore process. But instead it opens a download window , saying \"You have choosen to open restore.php , which is a PHP file from http://... ...\" All other courses with the same way work fine only this one course met such problem. And if I restore the course on the old server from the same backups, it works well. Need any clue or help. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 19, 2006, 9:56 AM",
          "AuthorName": "Andy An",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=73749&course=5",
          "role": [
            "Picture of Andy An"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: restore problem --Help!!",
          "Text": "The problem is the memory leak. Set the PHP memory limit from 64 M to 256 M It works. (We use PHP 5.0.x so it's a problem). Pasted here to help if some one has the similar problem. Thanks for Moodle community.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 19, 2006, 11:53 PM",
          "AuthorName": "Andy An",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=73749&course=5",
          "role": [
            "Picture of Andy An"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 200251,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=200251",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.2.2+ Backup/Restore/Import memory error",
          "Text": "Hi everybody, (sorry about my poor english, this is not my native language) I recently instaled a fresh moodle 2.2.2+, and almost everything worked fine.. but Backup / Restore and Import always get memory error: Fatal error: Allowed memory size of 67108864 bytes exhausted (tried to allocate 122880 bytes) in /home/ditizio/www/moodle/admin/settings/security.php on line 39 I already set $CFG->extramemorylimit Â in config.php, to 1G, 1536M, 2G, 16G, and the error persist. Any Idea ? thanks a lot.. IberÃª",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 11, 2012, 6:34 AM",
          "AuthorName": "Ibere Di Tizio",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1444146&course=5",
          "role": [
            "Picture of Ibere Di Tizio"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 104316,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=104316",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Bad restore from 1.8 to 1.9.2+",
          "Text": "Hello All I am in the process of restoring 300 courses to our new Moodle 1.9.2, having previously reset, then backed up in our old Moodle, and downloaded to external drive. When i upload to new Moodle, restore messages state that it is successful, but the courses are all messed up, all of the resources (Word, Powerpoint, weblinks etc) have been dumped into the Topic Outline, not into the correct topic blocks. I also cannot seem to move the resources to the right place. The restore record for some of these courses seems very odd too..example below: Forums without user data News forum A level Philosophy forum Glossaries without user data",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 27, 2008, 11:04 PM",
          "AuthorName": "Vicki Weavers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=126540&course=5",
          "role": [
            "Picture of Vicki Weavers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 127395,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=127395",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "No Continue Button on course restore",
          "Text": "Hello, I recently installed Moodle on a Windows Vista Business laptop using WOS. It works just fine but when i tried to restore a course from my university into the laptop it displays the current errors on its log after trying to restore: --------------------------------------------------------------- Creating log entries . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . action (forum-mail blocked) unknown. Not restored Not restored",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 5, 2009, 7:55 AM",
          "AuthorName": "Carlos Andrade",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=843539&course=5",
          "role": [
            "Picture of Carlos Andrade"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 203292,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=203292",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Time needed to export courses from Bb, Import to moodle",
          "Text": "I read that \"archiving\" is more accurate than \"exporting\" but my main concern is just gettingÂ  a ballpark number with regard to the time it would take to get our Bb courses into moodle. In our environment, we would have roughly 2,500 courses (spring, summer & fall combined) that would need to be ported from Bb to moodle. So my questions are: 1. Rough estimate-- how long would it take someone to perform this? A day? A week? 2. Can the whole courseload be ported all in one shot (with subsequent tweaking) or does it have to be done manually course by course? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 24, 2012, 12:12 AM",
          "AuthorName": "George Haines",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1455920&course=5",
          "role": [
            "Picture of George Haines"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 450115,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450115",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Course backup missing Custom mod plugin",
          "Text": "Hi All, I have developed one custom modules (mod) plugin which is I have added in course and trying to take a backup but this is not comming in MBZ file. please let me know where I am missing module structure .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 4, 2023, 7:40 PM",
          "AuthorName": "Nilesh Pathade",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2255217&course=5",
          "role": [
            "Picture of Nilesh Pathade"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course backup missing Custom mod plugin",
          "Text": "Hi, Certainly you could have a look at the documentation about plugin contribution (and linked pages), and related to backup API . HTH , SÃ©verin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 12, 2023, 8:17 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 153621,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=153621",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Is it possible to import only 1 topic?",
          "Text": "Hi! Is there a possibility to import only 1 Topic without having to deselect each single component that doesnÂ´t belong to this topic or without having to deselct everything and then selct each single component from this topic? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 7, 2010, 5:13 PM",
          "AuthorName": "Christophe Leville",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64167&course=5",
          "role": [
            "Picture of Christophe Leville"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 200731,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=200731",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Incorrect pool file error",
          "Text": "when i upload a scorm file its shows the error \"Incorrect pool file content ....\" and also uploaded scorm can't be disaplay",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2012, 11:23 PM",
          "AuthorName": "Azmat Ullah",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1329936&course=5",
          "role": [
            "Picture of Azmat Ullah"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 144519,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=144519",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Unable to move content from one course to another",
          "Text": "I've tried both the \"import\" feature, and the \"backup/restore\" feature and am unable to get content to move from one course to another. I successfully get to the screen that says \"Exported data from 'from' course successfully.Continue to import into your 'to' course.\" Then press \"continue\" and get a page that just says, \"Import course data\" with no other buttons or options. This seems to keep creating new backup folders in the \"from\" course, but nothing in the \"to\" course. When I tried the \"backup\" then \"restore\" I never got the screen where I could chose to restore the content to a different course. Any help?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 24, 2010, 9:49 PM",
          "AuthorName": "Melanie Dever",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1074069&course=5",
          "role": [
            "Picture of Melanie Dever"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Unable to move content from one course to another",
          "Text": "Hi Melanie, Just wondering what version of Moodle you are using and whether you have admin or teacher rights? I'm going to move this discussion to the backup and restore forum where hopefully someone will be able to help...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2010, 5:13 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 176149,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=176149",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Disallowing non-admins from deleting as part of restore (v1.9.9)",
          "Text": "Hi, I thought I'd share a little hack that others might find useful. We allow teachers to backup and restore into existing courses, but not create new courses (using standard permissions). However, there is no permission (as far as I'm aware) to deny the deleting of a course as part of the restore process. We really don't have a need for full deletes prior to restore, other than at a moodle admin level. And as the full delete has the ability to wipe out grades in the gradebook, it was quite a risk, given that all our assessment is now online, in the gradebook! So, assuming you've also denied 'course creation' capabilities, you could wrap lines 217 and 228 (or thereabouts) of backup/restore_form.html in if statements like: if ($cancreatecourses) { ...etc... } Doing this limits the options in the drop down box to only 2 - 'Current course, adding data to it' and 'Existing course, adding data to it'. I hope others might find this helpful if their situation calls for a similar restriction. Cheers, Michael",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 26, 2011, 1:13 PM",
          "AuthorName": "Michael Woods",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=285779&course=5",
          "role": [
            "Picture of Michael Woods",
            "Picture of Core developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 372447,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=372447",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Delete old backup files?",
          "Text": "When a user creates a backup the backup file just sits in the user's private files area. I am guessing it stays there forever? Is there a config setting to limit how long backup files last? Or does anyone have a script that we can run to delete backups that haven't been used in over 2 years or something similar?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 23, 2018, 3:15 AM",
          "AuthorName": "Rex Lorenzo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=760981&course=5",
          "role": [
            "Picture of Rex Lorenzo"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Delete old backup files?",
          "Text": "ï»¿ Boy I wish! :| When in private files, only by logging in as that Teacher can admin level actually see them - thus be able to delete via Admin UI. Query select contenthash,filearea,filename,filesize from `mdl_files` where\n(`filearea` like \"backup\" and `filename` like \"%.mbz%\") order by\nfilesize DESC Then manually remove the file in moodledata/filedir/contenthashdirs/contenthash/ and of course the row in DB mdl_files that referenced it. Moosh does have a command: http://moosh-online.com/commands/ Example 4: Remove all automated backups and reclaim the space \n```text\nmoosh file-list -i 'component=\"backup\" AND filearea=\"automated\"' | moosh file-delete -s\nmoosh file-delete --flush\n```\n 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 23, 2018, 5:47 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 154386,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=154386",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Teachers role lost from restored course",
          "Text": "We've restored a course from a backup, including the user data. It all went fine, but one day later the teacher no longer has the teacher role assigned for that course. I'm told this has happened after a few restores now. Has anyone else seen anything like this? This is with Moodle 1.9.8 (Build: 20100326) Thanks, David.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 20, 2010, 5:50 PM",
          "AuthorName": "David Moore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=54206&course=5",
          "role": [
            "Picture of David Moore"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 175417,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=175417",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "mass-import of courses from another site",
          "Text": "hello I have a lot of courses backup (mbz files) I want to restore/ import them on another site, is it possible ? 10x",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 16, 2011, 6:35 PM",
          "AuthorName": "Asaf Ohaion",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1295149&course=5",
          "role": [
            "Picture of Asaf Ohaion"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: mass-import of courses from another site",
          "Text": "I have a similar question in this thread that you may want to keep an eye on. FWIW, I haven't discovered a way to do this without just doing the manual upload process.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 16, 2011, 8:35 PM",
          "AuthorName": "Intense Red",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1190345&course=5",
          "role": [
            "Picture of Intense Red"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 57211,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=57211",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Merging installations",
          "Text": "Can different installation of moodle be merged into a single one?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 27, 2006, 4:55 AM",
          "AuthorName": "Arnor Kristjansson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=50941&course=5",
          "role": [
            "Picture of Arnor Kristjansson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 408679,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=408679",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Category-context questions are copied to course-context, why?",
          "Text": "Hello, I'm having a problem, why is question categories copied to course- context when they are originally in category-context with Administrator-rights? I have tested with Moodle 3.1, 3.5 and 3.8. Error message per category is following; \"The questions category \"0 Oletus kohteelle Technology\", originally at system/course category context in backup file, will be created at course context by restore \"The questions category \"cars\", originally at system/course category context in backup file, will be created at course context by restore Why is backup reverting to fallback when I'm doing this as an administrator Steps to repeat I create Quiz on a course1 in category1 I add an question to the quiz from this category level questionbank category called category1 I create a course2 I use import to import Quiz from course1 I get an warning: \"The questions category \"0 Oletus kohteelle Teknologia\", originally at system/course category context in backup file, will be created at course context by restore Questions are restores to course-context and they do not stay in category-context.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 13, 2020, 3:44 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Category-context questions are copied to course-context, why?",
          "Text": "Are the courses in the same category?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 15, 2020, 8:21 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Category-context questions are copied to course-context, why?",
          "Text": "Hello, both courses are in same subcategory called mathematics Technology/mathematics /course1 /course2",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 17, 2020, 2:04 PM",
          "AuthorName": "Jari Vilkman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1830157&course=5",
          "role": [
            "Picture of Jari Vilkman"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 233658,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233658",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Restore makes duplicates of everything",
          "Text": "When I restore the course, it makes duplicates of everything. It makes duplicates of assignments and everything. How do I set it so it won't? Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 2, 2013, 10:40 AM",
          "AuthorName": "ed mackeen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=870538&course=5",
          "role": [
            "Picture of ed mackeen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore makes duplicates of everything",
          "Text": "Hey Ed Are you restoring the backup as a new course or in a existing course. Can you please post the screenshot here",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 2, 2013, 3:01 PM",
          "AuthorName": "Sakshi Goel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1403539&course=5",
          "role": [
            "Picture of Sakshi Goel"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore makes duplicates of everything",
          "Text": "Thanks. Restoring it as existing course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 2, 2013, 11:44 PM",
          "AuthorName": "ed mackeen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=870538&course=5",
          "role": [
            "Picture of ed mackeen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 177860,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=177860",
      "NoOfResponses": 14,
      "ResponsesInList": [
        {
          "Title": "Import in Moodle 2.0 does not work!",
          "Text": "Hi! I've been installing Moodle 2.0 and found that the import functionality does not work. When I click on import and choose the course from which I shall import, then click continue.... everything seems fine, but when I check the course, I find that nothing had been imported! Did anyone face this issue before? Thanks in advance!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 21, 2011, 10:13 PM",
          "AuthorName": "Fatema Abou El Ela",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1194998&course=5",
          "role": [
            "Picture of Fatema Abou El Ela"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "Yes...we are having this exact issue. Â I've tried about everything I can think of. Â I can backup and restore the course without an issue BUT we cannot use the course import. Â It says it completed successfully but when you go into the course there is nothing there. Â We have upgraded to the latest Moodle 2.11 thinking that would help our situation. Â Our teachers are used to using the course import ... I tried the methods I found on the Moodle.Org site...permissions and increasing the number of courses to display but can't seem to get this to work. ...Jay",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 6, 2011, 8:10 PM",
          "AuthorName": "Jay Schupp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=670026&course=5",
          "role": [
            "Picture of Jay Schupp"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "Hello, I have more than 50 Moodle and update all to the latest version (2.1) and am having trouble with import , simply does not work. He says everything is fine but doesnt do anything. Please someone help solve this. Greetings !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 7, 2011, 5:42 AM",
          "AuthorName": "Ernesto Yannini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=642058&course=5",
          "role": [
            "Picture of Ernesto Yannini"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "If you put debugging into developer mode, what does it show?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 7, 2011, 11:59 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "Hi, In regard to this import error, I posted here on 2 December without response: http://moodle.org/mod/forum/discuss.php?d=182312 Here's what I posted, including the debugging trace: Hi,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 8, 2011, 12:47 AM",
          "AuthorName": "Bill Stone",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1301691&course=5",
          "role": [
            "Picture of Bill Stone"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "We had problems with an add on causing a problem with the backup. You may wish to attempt removing any add ons then attempting a backup/restore.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 8, 2011, 1:51 AM",
          "AuthorName": "Jonathan Newman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1305565&course=5",
          "role": [
            "Picture of Jonathan Newman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "Hi, Thanks for the tip, but can you be more specific? Do you know which \"add on\" was causing the problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 8, 2011, 4:34 AM",
          "AuthorName": "Bill Stone",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1301691&course=5",
          "role": [
            "Picture of Bill Stone"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "Yes, I found that some questions were the culprits and sometimes it was just one course that caused problems. Â Most of the time, I never did figure out exactly which one as I was lucky enough where the teacher with the issue had another section that she was able to import from. Â The error does not look familiar to what I was seeing prior. The other error I had was a failure to restore to a new course but I was able to rectify that creating the course and the sections in the course before restoring. Â You might check and see if the course that you are restoring into has enough sections in it. The question module has been known to cause issues, in particular Cloze questions (of which I have hundreds of course!). Â At least you have found a work around - have you submitted a tracker ticket?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 8, 2011, 5:38 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "In our case it was Big Blue Button. After we reinstalled it we had no problems. If you read through the forums there were other Moodle users with other add ons causing the similar problems. Best of luck!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 8, 2011, 5:49 AM",
          "AuthorName": "Jonathan Newman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1305565&course=5",
          "role": [
            "Picture of Jonathan Newman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "We were having the same issue.Â  I deleted the Slideshow Mod and the import worked.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 15, 2011, 9:22 PM",
          "AuthorName": "Jim Lee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=482519&course=5",
          "role": [
            "Picture of Jim Lee"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "Yes, you are right Jonathan. In my case QuickMail block was the issue. Thanks Jaswant",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 17, 2013, 9:10 PM",
          "AuthorName": "Jaswant Tak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=137899&course=5",
          "role": [
            "Picture of Jaswant Tak"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "Thanks, Emma and Jonathan, for suggestions. Still working to figure out what's causing the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 9, 2011, 4:44 AM",
          "AuthorName": "Bill Stone",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1301691&course=5",
          "role": [
            "Picture of Bill Stone"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "Hi, Although none of our users were actually utilizing it at all, it appears the \"Presenter\" module was the culprit. Once it was uninstalled, the fatal errors generated by the duplicate, restore, and import functions vanished.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 10, 2011, 2:50 AM",
          "AuthorName": "Bill Stone",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1301691&course=5",
          "role": [
            "Picture of Bill Stone"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import in Moodle 2.0 does not work!",
          "Text": "I don't have presenter installed.. Infact I have removed a lot of the unwanted modules. I just tried an import and a restore and get the same resulting fault.. I manage anbout 8 different sites and a few of them have this healthcenter fault and for the life of me I can not see why. PLEASE can anyone help This section is what is displayed when I go to developer debugging, the lower section displays what is left within the moddle frame. Warning : Invalid argument supplied for foreach() in /home/producti/public_html/lms/backup/util/plan/restore_structure_step.class.php on line 421 Invalid get_string() identifier: 'healthcenter' or component 'moodle'. Perhaps you are missing $string['healthcenter'] = ''; in lang/en/moodle.php? line 6343 of /lib/moodlelib.php: call to debugging() line 6935 of /lib/moodlelib.php: call to core_string_manager->get_string() line 8 of /admin/settings/unsupported.php: call to get_string() line 5927 of /lib/adminlib.php: call to require() line 2993 of /lib/navigationlib.php: call to admin_get_root() line 2901 of /lib/navigationlib.php: call to settings_navigation->load_administration_settings() line 601 of /lib/pagelib.php: call to settings_navigation->initialise() line 617 of /lib/pagelib.php: call to moodle_page->magic_get_settingsnav() line 133 of /blocks/settings/block_settings.php: call to moodle_page->__get() line 280 of /blocks/moodleblock.class.php: call to block_settings->get_content() line 232 of /blocks/moodleblock.class.php: call to block_base->formatted_contents() line 926 of /lib/blocklib.php: call to block_base->get_content_for_output() line 978 of /lib/blocklib.php: call to block_manager->create_block_contents() line 349 of /lib/blocklib.php: call to block_manager->ensure_content_created() line 9 of /theme/formal_white/layout/general.php: call to block_manager->region_has_content() line 685 of /lib/outputrenderers.php: call to include() line 637 of /lib/outputrenderers.php: call to core_renderer->render_page_layout() line 2062 of /lib/outputrenderers.php: call to core_renderer->header() line 334 of /lib/setuplib.php: call to core_renderer->fatal_error This is what is within Moodle: error/decode_rule_mappings_incorrect_count More information about this error Stack trace: line 157 of /backup/util/helper/restore_decode_rule.class.php: restore_decode_rule_exception thrown line 49 of /backup/util/helper/restore_decode_rule.class.php: call to restore_decode_rule->validate_params() line 101 of /mod/presenter/backup/moodle2/restore_presenter_activity_task.class.php: call to restore_decode_rule->__construct() line ? of unknownfile: call to restore_presenter_activity_task::define_decode_rules() line 143 of /backup/util/helper/restore_decode_processor.class.php: call to call_user_func() line 417 of /backup/moodle2/restore_stepslib.php: call to restore_decode_processor::register_link_decoders() line 34 of /backup/util/plan/restore_execution_step.class.php: call to restore_decode_interlinks->define_execution() line 153 of /backup/util/plan/base_task.class.php: call to restore_execution_step->execute() line 148 of /backup/util/plan/base_plan.class.php: call to base_task->execute() line 157 of /backup/util/plan/restore_plan.class.php: call to base_plan->execute() line 310 of /backup/controller/restore_controller.class.php: call to restore_plan->execute() line 147 of /backup/util/ui/restore_ui.class.php: call to restore_controller->execute_plan() line 46 of /backup/restore.php: call to restore_ui->execute()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 12, 2012, 7:20 AM",
          "AuthorName": "Paul Vivian",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1175819&course=5",
          "role": [
            "Picture of Paul Vivian"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 181460,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=181460",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Moodle 2.1 User Import from 1.9",
          "Text": "How can I import all my users (without courses) from my moodle 1.9 installation to my new moodle 2.1 installation?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 19, 2011, 2:49 PM",
          "AuthorName": "Manfred K",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1095996&course=5",
          "role": [
            "Picture of Manfred K"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle 2.1 User Import from 1.9",
          "Text": "Hi Manfred, I used phpMyAdmin in CPanel to export my Moodle users out of my 1.9 MySQL database and then reversed the process and imported them into my new 2.x database.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 19, 2011, 9:59 PM",
          "AuthorName": "Jason Maitland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=857803&course=5",
          "role": [
            "Picture of Jason Maitland"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 2.1 User Import from 1.9",
          "Text": "You could also go under Site administration -> Users -> Bulk user actions and select all the users and then download (export) and save it as a csv file which you could then use to upload into the 2.1 instance of Moodle. Alternatively, if you wanted to maintain things like message history between users, you may want to simply update the whole site and then delete all of the courses. If you want to keep the course data, you could simply reset the courses and I believe (not 100% sure off the top of my head) that that will remove all of the enrollments. Peace - Anthony",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 23, 2011, 6:28 AM",
          "AuthorName": "Anthony Borrow",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=51473&course=5",
          "role": [
            "Picture of Anthony Borrow",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 64681,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=64681",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Image links not updated after restored as a new course",
          "Text": "I restored a course as a new course.Â  Everything works just fine except the image links in the quizes.Â  All the image links in the quizes are not updated to reflect the new location of the new course. for example, in the old course, the image link is http://moodle/file.php?file=/56/Images/Cimino1d.jpg then it should be http://moodle/file.php?file=/111/Images/Cimino1d.jpg for the new course.Â  But it didn't change. Is there any way to mass-update all the image links in the quizes?Â  In the future, how do I prevent this problem. My Moodle is 1.6.2",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 13, 2007, 5:43 AM",
          "AuthorName": "David Ha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=70641&course=5",
          "role": [
            "Picture of David Ha"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 180971,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=180971",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Duplicating a course",
          "Text": "Can anybody describe to me how to duplicate a course. The result should contain the original course's data and structure but without the students. We are using Moodle 1.9.9 Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 11, 2011, 7:54 PM",
          "AuthorName": "Moshe Golden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=341427&course=5",
          "role": [
            "Picture of Moshe Golden"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Duplicating a course",
          "Text": "Simplest way would be to backup course then do a course restore to a new course. It allows you to uncheck information which you do not want to restore.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 11, 2011, 8:45 PM",
          "AuthorName": "ros bowstead",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=314463&course=5",
          "role": [
            "Picture of ros bowstead"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Duplicating a course",
          "Text": "Backup your course without student data and then restore it.Â  If you choose the option to restore it as a new course, it will be given a new name (e.g. Math Course will be Math Course 2).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 11, 2011, 8:53 PM",
          "AuthorName": "Laura Squires",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=668975&course=5",
          "role": [
            "Picture of Laura Squires"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 145832,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=145832",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Fatal error: Call to a member function load_grade_item() on a non-object in /var/www/moodle/backup/restorelib.php on line 1852",
          "Text": "I have this problem when I try restore a course backup, I restored a backup days ago without problem, but now not. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 13, 2010, 4:56 AM",
          "AuthorName": "Luis Alberto Molina Quintanilla",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=988161&course=5",
          "role": [
            "Picture of Luis Alberto Molina Quintanilla"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 164124,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=164124",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Help - Moodle 2 upgrade failure",
          "Text": "Hello I recently upgraded from 1.9 to 2.0 and was unable to completely upload all files...i tried reverting to 1.9 but when i log in (fintonpaul.hostei.com) I am unable to view or enter my courses. Infact, a blank screen is there. I know that the content hasn't gotten deleted butÂ  how can I get things back to normal again? Oh, my webhost is 000webhost.com (presently a free account I'm using)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 11, 2010, 10:55 AM",
          "AuthorName": "Finton Paul",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=925415&course=5",
          "role": [
            "Picture of Finton Paul"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 125862,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=125862",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Manual Course Restore",
          "Text": "I need to restore a single Moodle course, however I don't have a 'Moodle Backup' of the course only the full database backup. ( mySQL Dump . sql ) So how can I restore the course from backup manually using the SQL Dump (1), which tables are required? 1. I suspect it might be easier to restore the whole site to a test site then run the Moodle Backup and Restore to the live site? ---- The course page appears totally blank apart from the breadcrumb navigation and the 'turn editing' on button. The course content and blocks just fail to appear. Debugging doesnt give me any output.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 15, 2009, 10:15 PM",
          "AuthorName": "Dan Humpherson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=274519&course=5",
          "role": [
            "Picture of Dan Humpherson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 49980,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=49980",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "backup continues to run, hangs and then fails after mysql rebuild",
          "Text": "I recently was locked out of my system because I was trying to configure login at https, and then got locked out because my ssl would not run, and then I could not login. fun times... I restored off from my mysql backup from the day before and everything seemed to come back fine all except for the backup.Â  The backup runs at the correct time but it hangs about halfway through the courses, and then just runs and runs and runs.Â  I even rebooted my server and my sql , still running.Â  Any ideas.Â  THe log shows that the backup stops at the \"checking parameters\" for each class with an error, and then shows unfinished for the rest of the classes. Any ideas?Â  I'm a novice at mysql, but can get around. ztechguy I",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 18, 2006, 8:06 AM",
          "AuthorName": "ztechguy Z",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=99066&course=5",
          "role": [
            "Picture of ztechguy Z"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 374250,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=374250",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Backing Up Announcements",
          "Text": "Hi all, Can you backup posted announcements and then restore them into a new course?Â  I create about 40 announcements each time I teach and would like to not have to recreate these announcements every time.Â  Help!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 6, 2018, 1:07 AM",
          "AuthorName": "Juan F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1477574&course=5",
          "role": [
            "Picture of Juan F"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backing Up Announcements",
          "Text": "Hi Juan, You could create a backup of posted announcements by backing up the forum and including user data. However, when you restore the backup file, all users enrolled in the original course would be enrolled in the new course! Thus, you should create the announcements in a course with no other enrolled users. An alternative to using backup and restore functionality would be to keep your original course with announcements forum hidden, and then copy and paste each announcement when you need it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 6, 2018, 10:52 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backing Up Announcements",
          "Text": "Helen, can we push the announcements into courses using SQL from the Moodle Dashboard ?Â  That'd be a great feature...guess I can give it a shot since I have admin access.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 13, 2018, 8:34 AM",
          "AuthorName": "Juan F",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1477574&course=5",
          "role": [
            "Picture of Juan F"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 252955,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=252955",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Course backups not automatically being removed.",
          "Text": "I am using moodle 2.3.Â  In my automatic course backup setting,Â  I set the Keep number to 2 .Â  The text beneath the Keep settings says \" How many recent backups for each course do you want to keep? (older ones will be deleted automatically )\" I interpret this to mean that moodle will automatically delete course backups when new ones are created, in my case once the 3rd backup is created, it will delete the 1st.Â  I am saving the backup files to a specified location other than the default. There are currently 7 copies of each course saved. Am I interpreting this wrong? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 27, 2014, 11:35 PM",
          "AuthorName": "james mergenthaler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=894843&course=5",
          "role": [
            "Picture of james mergenthaler"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course backups not automatically being removed.",
          "Text": "backup_auto_keep is NOT working for me either! In some of my courses I have 100's of backups. I am using Moodle 2.7.1 (Build: 20140714) this is a critical problem for me with no apparent fix in sight.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 14, 2014, 7:16 PM",
          "AuthorName": "Rick Houghton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=731476&course=5",
          "role": [
            "Picture of Rick Houghton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course backups not automatically being removed.",
          "Text": "You might double check that you have permissions set correctly on the folder allowing the apache user (linux) to delete...I have noticed that sometimes if you set the auto delete number after the fact, it will not always delete previously made backups but should work from then on - i.e. You have seven backups already and set it to 2. Â Moodle will allow two new backups (totally nine) and then start deleting but the original seven are not always deleted....I think anyway....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 14, 2014, 9:07 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course backups not automatically being removed.",
          "Text": "My backups are not being deleted either, even though settings are set to only keep 1 copy. 4 of my courses have over 20 backups and are increasing 1 every day. To further complicate things I cannot understand why these 4 backups are occurring to begin with, as they are not being updated. I'm using moodle 2.7, windows 2008/ IIS . The course backups folder has Full Control permissions for the SYSTEM and IUSR user names so I didnt think it was a permissions issue. Does moodle not recognize the previous backups existence because the date is included in the name, so it appears different each day? ie backup-moodle2-course-4488-2016wi_busi_3324_01_16_18-20160124-1017 ie backup-moodle2-course-4488-2016wi_busi_3324_01_16_18-20160123-1017 Notice the 23 and 24 for the day of month. Any suggestions on troubleshooting this, are there some logs I should be reviewing?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 12, 2016, 11:50 PM",
          "AuthorName": "Paul Lindgreen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1673900&course=5",
          "role": [
            "Picture of Paul Lindgreen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course backups not automatically being removed.",
          "Text": "I forgot to add to the post above, I use 'specified directory for automated backup'. Its on the same disk drive as moodle but in a seperate folder location. moodle version 2.7.8",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 13, 2016, 12:46 AM",
          "AuthorName": "Paul Lindgreen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1673900&course=5",
          "role": [
            "Picture of Paul Lindgreen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course backups not automatically being removed.",
          "Text": "I just checked site\nadmin-reports-backups. those 4 courses have Warnings on the main page, when viewing the detailed logs for each course the first line indicates Status OK but further down there's a common error like the following: Missing file\nin pool: /ZZZZZ.pdf ( context 286117 'File: ZZZZZ', component\nmod_resource, filearea content, itemid 0)\n[E:\\moodledata\\YYYYY/filedir/5b/50/5b5090bb837289dea6a23101b7de34920e772c48] When I view the course and click the link for the file i get a file not found error and see in the moodledata folder that the file is not there. Is this a bug with moodle? A missing file causes automated backups to continue daily even when they are unchanged and settings indicate they should only backup when changed. More importantly, these backups are not deleted even when the setting is to only retain 1, this can have disastrous consequences as it will quickly fill up our hard drive and manually monitoring for this problem is not feasible.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 13, 2016, 1:27 AM",
          "AuthorName": "Paul Lindgreen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1673900&course=5",
          "role": [
            "Picture of Paul Lindgreen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course backups not automatically being removed.",
          "Text": "Will backups work *IF* one removes the errant link toÂ  the non-existent file in the course?Â Â  Moodle code only doing what it's been told to do ... backup, and include links to resource files (that's taken from meta data in the DB) and place those files in the backup. Remove the errant link to non-existent file, then run the backup manually.Â  Complete without error? Question might remain, however, why/how was the file removed?Â  Thought IF there was one course (hidden or active) that linked to a file resource, the file would never been removed. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 13, 2016, 2:40 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course backups not automatically being removed.",
          "Text": "I removed the errant link from one course and added a file to the expected file location for another course, both solutions appear to be working. Makes me nervous knowing a simple missing file can result in a drive space filling up unless I manually monitor it?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 16, 2016, 11:31 PM",
          "AuthorName": "Paul Lindgreen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1673900&course=5",
          "role": [
            "Picture of Paul Lindgreen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 63295,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=63295",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup and Restore",
          "Text": "I'm having problems with the Backup and Restore function.Â  I get an error: An error occured while backing up course start.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 25, 2007, 2:07 AM",
          "AuthorName": "Billy Woodson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=223859&course=5",
          "role": [
            "Picture of Billy Woodson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup and Restore",
          "Text": "Search the forums (Advanced Search) using the string An error occurred while backing up You will find many discussions explaining what might have caused this error, and what you can do about it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 25, 2007, 3:17 AM",
          "AuthorName": "John Isner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=104240&course=5",
          "role": [
            "Picture of John Isner"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 233101,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=233101",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Course Import/Restore error",
          "Text": "Hello! I have moodle 2.5.1+ installed.Â I created a course named Course A with 5 topics which only have title and description. I tried to import these topics to Course B but I get the following error: \"Restore method process_pmatchreverse is missing. It must be defined by a developer.\" The same error came up when I tried to restore a backup file of Course A merging it into Course B. I tried to restore the backup file into a new course on a different moodle 2.5.1+ installation I have. Still the same error... Any idea why this is happening? :S",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2013, 8:02 PM",
          "AuthorName": "Dora K.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1618998&course=5",
          "role": [
            "Picture of Dora K."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course Import/Restore error",
          "Text": "I turned on debugging developer mode and tried import again... I got the following... No idea what this means however... Debug info: Error code: restore_path_element_missingmethod Stack trace: line 83 of /backup/util/structure/restore_path_element.class.php: restore_path_element_exception thrown line 91 of /backup/util/structure/restore_path_element.class.php: call to restore_path_element->validate_pobject() line 63 of /backup/moodle2/restore_plugin.class.php: call to restore_path_element->set_processing_object() line 322 of /backup/util/plan/restore_structure_step.class.php: call to restore_plugin->define_plugin_structure() line 3266 of /backup/moodle2/restore_stepslib.php: call to restore_structure_step->add_plugin_structure() line 84 of /backup/util/plan/restore_structure_step.class.php: call to restore_create_categories_and_questions->define_structure() line 153 of /backup/util/plan/base_task.class.php: call to restore_structure_step->execute() line 163 of /backup/util/plan/base_plan.class.php: call to base_task->execute() line 157 of /backup/util/plan/restore_plan.class.php: call to base_plan->execute() line 315 of /backup/controller/restore_controller.class.php: call to restore_plan->execute() line 132 of /backup/import.php: call to restore_controller->execute_plan()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 24, 2013, 9:12 PM",
          "AuthorName": "Dora K.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1618998&course=5",
          "role": [
            "Picture of Dora K."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Import/Restore error",
          "Text": "Hi Isidora, It sounds as though the problem is caused by the add-on question type Reverse pattern match. Please see Tim's comments in the plugins directory entry https://moodle.org/plugins/view.php?plugin=qtype_pmatchreverse .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 25, 2013, 3:11 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Import/Restore error",
          "Text": "Thanks Helen! That was it!Â I fixed it!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 25, 2013, 4:42 PM",
          "AuthorName": "Dora K.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1618998&course=5",
          "role": [
            "Picture of Dora K."
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 72031,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=72031",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Upgrade hell",
          "Text": "Every Moodle upgrades produces problems. Specially 3dr party modules are very fragile. Clever - or lazy, what ever - administrators don't install 3rd party modules, because probably they don't work properly after Moodle upgrade. And the worst thing, they have lost their data. Backup is worst thing in 3rd modules. It's made very last thing after interesting features. Usually it's made very static way, where every change in database structure breaks backup. And - In this situation Moodle gives all responsibility to these modules. I have suggestion how to solve this bad situation: http://tracker.moodle.org/browse/MDL-9827 It's technical, but idea is, that core Moodle takes more responsibility also 3rd party modules backups. And it's possible. Let's vote. - ari -",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 22, 2007, 5:20 AM",
          "AuthorName": "Ari Tahvanainen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=78891&course=5",
          "role": [
            "Picture of Ari Tahvanainen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 97985,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=97985",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore Moodle course to new site",
          "Text": "Are there any \"tricks\" when restoring a course at a site from a backup of a course that came from another site - most links, files are restored succesfully however pictures in particular that have been restored in many cases are still trying to link back to the original site and as a result do not display",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 26, 2008, 2:15 PM",
          "AuthorName": "Phil Purling",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=15502&course=5",
          "role": [
            "Picture of Phil Purling"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore Moodle course to new site",
          "Text": "Don't know if this is exactly what you are running into, but here is a link that might help. The problem is that some absolute reference links are stored in the database - for example, in the Sections HTML. Those links are not automatically changed when copying a course (via backup and restore) to a different server . If the instructions in the above link do not help, you do have the option to manually edit those absolute references after the restore. If there are too many of them, using the admin/replace.php script might be an option. You can find more information on that in the same Moodle Migration document.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 27, 2008, 10:37 PM",
          "AuthorName": "Greg Wathke",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=537785&course=5",
          "role": [
            "Picture of Greg Wathke"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 95688,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=95688",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course Backup failure",
          "Text": "Having problems with a Moodle 1.7.4 course. The site has followed the patch path from 1.7.1 over time. When trying to do course backups, some courses, and some modules particularily resources but also forums fail. The backup will say it completed successfully but here's what the report says in total. Name: backup-misc101-20080423-1636.zip Creating temporary structures Deleting old data Creating XML file Writing header Writing general info Writing course data Course info Metacourse Blocks Sections Writing users info. Writing categories and questions Writing scales info Writing groups info Writing events info Writing gradebook info Writing modules info Assignments Databases Forums Glossaries Journals Labels Quizzes Resources Warning : mkdir() [ function.mkdir ]: Unable to access /var/apache2/moodledata/temp/backup/1208986611/moddata/resource/ in /opt/coolstack/apache2/htdocs/lib/moodlelib.php on line 6759 Copying course files\nZipping backup Warning : getdate() [ function.getdate ]: It is not safe to rely on the system's timezone settings. Please use the date.timezone setting, the TZ environment variable or the date_default_timezone_set() function. In case you used any of those methods and you are still getting this warning, you most likely misspelled the timezone identifier. We had to select 'UTC' because your platform doesn't provide functionality for the guessing algorithm in /opt/coolstack/apache2/htdocs/lib/pclzip/pclzip.lib.php on line 2855 Cleaning temp data Backup completed successfully - I removed the extra redundant errors, they repeated multiple times as you might expect.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 24, 2008, 5:43 AM",
          "AuthorName": "Rasul Shishehbor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=164796&course=5",
          "role": [
            "Picture of Rasul Shishehbor"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 80607,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=80607",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "migrate moodle to another LAMP server",
          "Text": "Dear All, We are using a moodle 1.5.3 on a LAMP Server . Now, we would like to move our moodle site to another LAMP server. Because we developp addons, we would like to keep the same version (script, databases and moodledata). So juts to migrate our whole moodle in another server. I proceed this way : 1. Dum the content of the current moodle database into the new one database. 2. Copy the whole moodle folder on the new server. 3.Change the content of the config.php according to the new server parameters. When I go to the new moodle URL , it displays the front page and the content well. But, but when I try to login, it's not working. In addition, the page description (meta), contains the information about the previous installation. Tks for any help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 21, 2007, 1:50 AM",
          "AuthorName": "Eli Komi SODOKE",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138306&course=5",
          "role": [
            "Picture of Eli Komi SODOKE"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: migrate moodle to another LAMP server",
          "Text": "I have done this many times and it is really as simple as you described. Two additional things though. 1. Did you also bring across the moodledata directory and reset it's directory permissions? 2. I usually open up the sql export in a text editor to do a 'find and replace' of the url. Moodle hardcodes links to images in posts and such, so these need to be updated to whatever your new url on the new server will be. Won't stop things working if not done, but will get rid of broken images yo would typically get after the move. JR",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 21, 2007, 8:03 AM",
          "AuthorName": "Julian Ridden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=39680&course=5",
          "role": [
            "Picture of Julian Ridden"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447202,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447202",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Restore course using moosh Failed",
          "Text": "Hi I'm trying to restore a course in my backup site using Moosh 1.10. The backup file is from my moodle site and it was created using moosh too. The moodle version is the same. When i try to restore, I'm getting the following error. I use the mbz file to restore it using de Moodle web interface and it runs perfectly, the problem is only when i try to restory it using moosh Thanks! Error code: dmlwriteexception* line 489 of /li!!! ErroINSERT INTO mdl_question (parent,name,questiontext,questiontextformat,generalfeedback,generalfeedbackformat,defaultmark,penalty,qtype,length,stamp,version,hidden,timecreated,timemodified,createdby,modifiedby,idnumber,category) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) [array ( 0 => '0', 1 => '1', 2 => '<p>En la planta el fitocromo se encuentra en forma de...</p> <p>In the plant phytochrome is a...</p>', 3 => '1', 4 => '', (...) Potential coding error - existing temptables found when disposing database. Must be dropped!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 29, 2023, 8:27 PM",
          "AuthorName": "fran pais",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1445981&course=5",
          "role": [
            "Picture of fran pais"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore course using moosh Failed",
          "Text": "Sorry, no suggestion yet, but a question and a thought ... What are the exact moodle versions of the 2 sites? from code/ directory: fgrep '$release' version.php Thought?Â Â  if restoring to a 4.1.highest of Moodle, there is now a 'restore_backup.php' script in admin/cli/ of 4.1 code. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 29, 2023, 9:42 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore course using moosh Failed",
          "Text": "Hi $release = '3.10.9+ (Build: 20220222)';// Human-friendly version name In both sites Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 30, 2023, 4:01 PM",
          "AuthorName": "fran pais",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1445981&course=5",
          "role": [
            "Picture of fran pais"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 225633,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=225633",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Import Issue with IMS Common Cartridge",
          "Text": "Moodle does support IMS Common Cartridge 1.0. However, we observed the following problems in Moodle after importing some of the IMS CC packages. My package contains the content as HTML pages which has embedded images, css and script. However, After importing the package Moodle creates a Page Resource for the HTML links and removes the CSS and SCRIPT references from the page content. As a result the page does not render correctly. Images that are in-line with the question text does not import and hence are not rendered when previewing the quiz. - Nilesh Shinde",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 28, 2013, 5:14 PM",
          "AuthorName": "Nilesh Shinde",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=621861&course=5",
          "role": [
            "Picture of Nilesh Shinde"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Import Issue with IMS Common Cartridge",
          "Text": "Hi Nilesh, Which version of Moodle are you using? Polly",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 13, 2013, 11:38 PM",
          "AuthorName": "Polly Helm",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=223047&course=5",
          "role": [
            "Picture of Polly Helm"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import Issue with IMS Common Cartridge",
          "Text": "Hi Nilesh, Which version of Moodle are you using? Polly",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 13, 2013, 11:41 PM",
          "AuthorName": "Polly Helm",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=223047&course=5",
          "role": [
            "Picture of Polly Helm"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Import Issue with IMS Common Cartridge",
          "Text": "I have the same issue, we are using Moodle 2.5.1. After restoring the IMS CC at the course level the CSS file is stripped out making the files render incorrectly.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 30, 2014, 1:58 AM",
          "AuthorName": "Joseph Thibault",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=322584&course=5",
          "role": [
            "Picture of Joseph Thibault",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 226266,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=226266",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "\"Import -> Schema Settings\" Checkbox Functionality",
          "Text": "I am trying to import activities from one course to another. When I get to the \"Import -> Schema Settings\" page, where I should be selecting via checkbox the actual activities I import, I find that one of two things happen: I am able to check/uncheck any given box, but there is a lag of up to ten to fifteen seconds between the time I check the box and the time the check appears in the box. I am unable to check any box. The \"Check all/Uncheck all\" link works in both scenarios, but it always works with the same kind of lag described in scenario one above. I am unable therefore to import selected activities. Any suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 9, 2013, 2:46 AM",
          "AuthorName": "Gary Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=119202&course=5",
          "role": [
            "Picture of Gary Scott"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"Import -> Schema Settings\" Checkbox Functionality",
          "Text": "Anybody have any ideas? I am trying to import activities from one course to another. When I get to the \"Import -> Schema Settings\" page, where I should be selecting via checkbox the actual activities I import, I find that one of two things happen: I am able to check/uncheck any given box, but there is a lag of up to ten to fifteen seconds between the time I check the box and the time the check appears in the box. I am unable to check any box. The \"Check all/Uncheck all\" link works in both scenarios, but it always works with the same kind of lag described in scenario one above. I am unable therefore to import selected activities. Any suggestions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 18, 2013, 11:21 PM",
          "AuthorName": "Gary Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=119202&course=5",
          "role": [
            "Picture of Gary Scott"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Import -> Schema Settings\" Checkbox Functionality",
          "Text": "Hey guys, thanks for all the help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 23, 2013, 11:40 PM",
          "AuthorName": "Gary Scott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=119202&course=5",
          "role": [
            "Picture of Gary Scott"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Import -> Schema Settings\" Checkbox Functionality",
          "Text": "I have the exact same problem. Additionally, when I get to the Confirmation step and click ahead to proceed with the import, I get the message \"an error occurred while processing this directive\".",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 13, 2013, 7:56 PM",
          "AuthorName": "Andrew Lyman-Buttler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1631077&course=5",
          "role": [
            "Picture of Andrew Lyman-Buttler"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Import -> Schema Settings\" Checkbox Functionality",
          "Text": "I have the same problem. MyÂ message was: \"504 Gateway Time-out nginx/1.4.2\" Please, help My web sever: Virtual CPU 1500 MHZ Memory 1500 Mb (swap) 2999 Mb HDD 30000 Mb Installed PHP extensions: bz2.so cgi-fcgi.so core.so ctype.so curl.so date.so dom.so",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 1, 2013, 5:37 AM",
          "AuthorName": "Denis Belaev",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1556136&course=5",
          "role": [
            "Picture of Denis Belaev"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 87845,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=87845",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Backup in 1.5.3, restore to 1.8.3",
          "Text": "Hi all, I am currently in the process of upgrading a small Moodle installation from version 1.5.3 to 1.8.3. I have a number of courses that are comprised mainly of SCORM learning units (compiled using Reload). It has been suggested in other discussions that for a successful upgrade, courses should be backed up and restored individually to version 1.6., then 1.7 andÂ finally 1.8.Â I was wondering whether this is the most efficient way to upgrade my site/courses and whether there any other issues that you are aware of when it comes to using SCORM learning objects in version 1.8.3. I would really appreciate any advice that you can give on this. Mary Sams",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 10, 2008, 9:23 PM",
          "AuthorName": "mary sams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=354879&course=5",
          "role": [
            "Picture of mary sams"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup in 1.5.3, restore to 1.8.3",
          "Text": "Hi Mary, I donÂ´t know, if you really need every step, but there are significant changes in the database (1.5.something to 1.6.4 and later; UTF-8!!!) and the rights management (1.6.5 to 1.7 and later; rights and roles). Beside of that the quiz module and others are rearranged. If you do not have to much user data and do not really need this, I would recommend building new courses in a plain new installation. So far we didnÂ´t use SCORM as our test server was not performant enough.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 17, 2008, 6:57 PM",
          "AuthorName": "Marcus Hoberg",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=36121&course=5",
          "role": [
            "Picture of Marcus Hoberg"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup in 1.5.3, restore to 1.8.3",
          "Text": "Hello Mary, We are currently upgrading from 1.6.5 to 1.8.4 and we need to restore over 800 courses, and as you said, restoring them idividually isn't the most efficient way. We were looking into the \"Batch Course Upload /Update\" http://moodle.org/mod/forum/discuss.php?d=30126 as a means to restore several courses, but we're not sure if it'll work, or if there a simpler way to do that. Please let me know if you found a way, or if the Batch Course Upload/Update works for you, we'll let you know if it works for us or in case we found a way. Thank You.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 30, 2008, 9:29 PM",
          "AuthorName": "EDZ -",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=407997&course=5",
          "role": [
            "Picture of EDZ -"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 176451,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=176451",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Resources lost in 2.0 Upgrade",
          "Text": "All my web / text resources were corrupted in the 2.0 upgrade carried out by my hosting service.Â  I have one off-site backup, but I'm getting the message that I must restore the course to 1.9 then upgrade to 2.0.Â  Is there an instance of 1.9 somewhere in the public domain where I can do this, or is there a work-around?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 31, 2011, 1:09 PM",
          "AuthorName": "John Lowry",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6434&course=5",
          "role": [
            "Picture of John Lowry"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Resources lost in 2.0 Upgrade",
          "Text": "At the risk of making a very silly suggestion: wouldn't this be possible in a local installation (XAMP-lik) on a desktop computer?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 14, 2011, 4:59 PM",
          "AuthorName": "Sytske van Hasselt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1224673&course=5",
          "role": [
            "Picture of Sytske van Hasselt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 130128,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=130128",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Course restores with all HTML code - why?",
          "Text": "Hi Moodle Fixers, When I back up a course and send it over to another for restore, it all restores in HTML. Any ideas why? Thank you so much, Anne",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 12, 2009, 7:02 AM",
          "AuthorName": "Anne Thorp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7462&course=5",
          "role": [
            "Picture of Anne Thorp"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course restores with all HTML code - why?",
          "Text": "Hi Anne. I think this might be your problem - i n the docs:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 12, 2009, 1:25 PM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course restores with all HTML code - why?",
          "Text": "Thank you so much!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 12, 2009, 8:45 PM",
          "AuthorName": "Anne Thorp",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7462&course=5",
          "role": [
            "Picture of Anne Thorp"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course restores with all HTML code - why?",
          "Text": "Hi, Mary I am having the same problem. The Moodle is installed on a web server with php version 5.2.6. I asked the web host to replace the libxml2 file. He has replaced it with file libxml2 2.7.3. He has told me he can't change the php version. No difference. When I restore a course I get the HTML code with the text.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 10, 2009, 12:20 AM",
          "AuthorName": "Shefali Bhuta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=590509&course=5",
          "role": [
            "Picture of Shefali Bhuta"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course restores with all HTML code - why?",
          "Text": "Hi, This is for anyone else who may face the same problem: The Web hosting support - compiled PHP with libexpat and I had to re- restore the data and it all worked fine. wishes Shefali Bhuta",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 10, 2009, 10:38 PM",
          "AuthorName": "Shefali Bhuta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=590509&course=5",
          "role": [
            "Picture of Shefali Bhuta"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 41937,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=41937",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "A simple question",
          "Text": "Can someone tell me where the \"root\" is for the backups?Â  I'm trying to put a Unix path in place of the default value and keep getting errors. Is the path referenced to the Moodle directory,Â or theÂ Admin directory or someplace else? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 18, 2006, 12:58 AM",
          "AuthorName": "David Maynard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=97283&course=5",
          "role": [
            "Picture of David Maynard"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 137415,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=137415",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "BACKUP SITE SETTINGS",
          "Text": "Probably a dumb question, but I have searched to find any information on backing up program settings that I have customized for the site, but no luck. I want to backup all setting, everything from hiding guest buttons to popup window sizes. I have sites on different servers and would like back up the settings at one site and upload to the others. 1.9.6 Any suggestions would be gratefully received. Thank you for your patience.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 9, 2009, 8:55 AM",
          "AuthorName": "Michigan Moodler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=61098&course=5",
          "role": [
            "Picture of Michigan Moodler"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 209184,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=209184",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Rogue Restore from 1.9 to 2.3",
          "Text": "I am trying to restore a 189Mb course from 1.9 into 2.3. Once started, the progress graphic just spins and spins and spins and ...... NOTHING I do stops this process from continuing on. I have started and stopped Moodle a number of times, logged out, left the Course, returned to the course, shut down XAMPP, restarted XAMPP, shut down the server , restarted the serverÂ  - you get the idea. All to no avail. As soon as I go back to have a look at Restore in that Course - there is the progress bar spinning merrily. No error messages, nothing but a spinning bar. Really have no ideas at this stage - though I am going to try deleting the Course next. Any ideas gratefully accepted.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 17, 2012, 10:13 AM",
          "AuthorName": "Peter Meehan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1477898&course=5",
          "role": [
            "Picture of Peter Meehan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Rogue Restore from 1.9 to 2.3",
          "Text": "How long have you left it running? I've been restoring 1.9 courses into 2.3 and had the same problem. What I discovered was you need to just wait... and wait. OK, my 'net connection is nothing to wrote how about, but wait an hour or more and then see what happens.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 17, 2012, 4:08 PM",
          "AuthorName": "Adrian Baker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=513522&course=5",
          "role": [
            "Picture of Adrian Baker"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 339215,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=339215",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Implementing backup strategy for local plugins",
          "Text": "Hi all I'm seeking some info about how could be used part of the backup/restore subsystem to provide some Moodle formatted exports of a site level local plugin. I found an abstract class backup_local_plugin but seems having been never used and no real info on how the local backup process should be done. Most of the tricky part is that local plugins may often (this is the case) use site level data (similar to question base) and thus cannot be driven from a course backup controller. I'm wondering if a specialized backup plan derivated from high level abstraction could propose a similar backup/restore process behaviour refactoring locally whatever needed classes for it. At first glance it seems it could be possible as the high level abstractions provide a structural agnostic framework, but i'm not figuring me out the effort to get something working. If some backup coding guru is wandering here, might he have an opinion about this ? Questions already lauched : Why not simply using csv or other simple formats for export/imports ? this is of course being examined, but the central data held by this plugin is quite complex relational data (prone to xml encoding) and moreover is attached to file assets (images, pdfs, etc) that would worth being stored into the package. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 3, 2016, 6:39 AM",
          "AuthorName": "Valery Fremaux",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1487618&course=5",
          "role": [
            "Picture of Valery Fremaux",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 115922,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=115922",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Batch File SQL \"Got error: 1045:\"",
          "Text": "Can anyone help please, I am running moodle on a Windows 2003 server , on Apache with MYSQL . When I use this command D:\\backup>d:\\my sql \\bin\\mysqldump --user=root --password=***** moodleÂ  1>D:\\backup\\moodledump.sql From the command line it works great, but when I include the line in a .CMD batch file for scheduling, the command returns this error. D:\\backup>d:\\mysql\\bin\\mysqldump --user=root --password=***** moodleÂ  1>D:\\backup\\moodledump.sql mysqldump: Got error: 1045: Access denied for user 'root'@'localhost' (using pas sword: YES) when trying to connect Thank you. Steve",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 9, 2009, 5:42 PM",
          "AuthorName": "Steve Audus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=293146&course=5",
          "role": [
            "Picture of Steve Audus"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Batch File SQL \"Got error: 1045:\"",
          "Text": "I created a nice batch file that does this a while back that might do this better for you - check it out here: http://moodle.org/mod/forum/discuss.php?d=80948",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 9, 2009, 7:24 PM",
          "AuthorName": "Dan Marsden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21591&course=5",
          "role": [
            "Picture of Dan Marsden",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Plugins guardians",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Batch File SQL \"Got error: 1045:\"",
          "Text": "Thank you, Dan I did try your script, but got the same error. D:\\backup>sqlbackup.bat mysqldump: Got error: 1045: Access denied for user 'root'@'localhost' (using pas sword: YES) when trying to connect 'gzip' is not recognized as an internal or external command, operable program or batch file. Also what is gzip? Thanks again Steve",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 9, 2009, 7:41 PM",
          "AuthorName": "Steve Audus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=293146&course=5",
          "role": [
            "Picture of Steve Audus"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Batch File SQL \"Got error: 1045:\"",
          "Text": "Hi Steve - are there any spaces in your password or username? - make sure you keep the quotes in the original file I sent through.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 10, 2009, 6:17 AM",
          "AuthorName": "Dan Marsden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21591&course=5",
          "role": [
            "Picture of Dan Marsden",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Plugins guardians",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Batch File SQL \"Got error: 1045:\"",
          "Text": "Dan, Thank you for helping me with this, but I still can't get it to work. I have put back the quotes around the password, which is quite strong as it contains numbers, upper and lower case letters, an underscore and a percentage symbol, but no spaces. I also tried using root@localhost , instend of just root, but got this error. D:\\backup>sqlbackup.bat mysqldump: Got error: 1045: Access denied for user 'root@localhost'@'localhost' (using password: YES) when trying to connect I'll get gzip. Thank you again for your help with this. Steve",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 10, 2009, 4:37 PM",
          "AuthorName": "Steve Audus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=293146&course=5",
          "role": [
            "Picture of Steve Audus"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 257019,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=257019",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "How to build the missing \"FORMATDATA\" converter for course format additional data from Moodle 1.9 to 2.x",
          "Text": "hi I was seeking deep to check how to get back all the previous flexipage (now waiting for release as \"Page format\") courses backups to moodle 2 and just noticed that there were no moodle1_format_handler class available in Moodle 1 converter implementation the question is, pursuant i manage building the missing class, how easy is to integrate it in the converting process whithout hacking core ? would there be some kind of tweacked alternative that allow process course format data from another location, f.e. triggering some extra processing from other component handlers ? (seems hazardous anyway). thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 25, 2014, 9:39 PM",
          "AuthorName": "Valery Fremaux",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1487618&course=5",
          "role": [
            "Picture of Valery Fremaux",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Tech track of exploration",
          "Text": "Seems being a quite weird thing after internal exploration : Moodle 2 standard format backup process stores format data information into the course/course. xml file. This is noticeable by a plugin_format_<formatname>_course subhierarchy in the course.xml flow. this file is produced by the moodle1_course_header_handler class when scheduled by the Moodle XML Parser, but is closed when the last closing <HEADER> xml tag is found in original XML, that is : before format data come to be avaiable. so there seems being a structural impossibility to process and merge this information unless delaying the course.xml construction to a very late instant (f.e. : on COURSE closing tag at the end of the parsing). Fortunately I could watch that the course.xml content was made one shot from a $this->course hierarchical structure, built by the handler. Unfortunately did not found already where and how to plug code to : - delay the actual production of the course.xml content file - collect and parse at the most accurate moment the formatdata information - be capable to append the collected data to the course structure/. more news later.....",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 26, 2014, 2:56 AM",
          "AuthorName": "Valery Fremaux",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1487618&course=5",
          "role": [
            "Picture of Valery Fremaux",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Tech track of exploration",
          "Text": "News of the quest.... After long delay seeking for inspiration, and coming back upon the work, there is at the moment no way to get out without restructuring the Moodle1 converter implementation : the Moodle converter process is a simple SAX sequential progressive parsing of the moodle.xml original file, then progressively recomposing a moodle 2 storage backup architecture. but the core converter did not implement any after_parse() seek back function, so we have in moodle 2 restore plan to make late consolidation processing on restored data. Such a late post processing could solve the course format issue, by post-injecting the course format xml converted sequence into the course/course.xml file. I'm up to prototype such changes as experimentation, and will provide some results in Moodle Tracker if succeeds...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, June 1, 2014, 7:12 AM",
          "AuthorName": "Valery Fremaux",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1487618&course=5",
          "role": [
            "Picture of Valery Fremaux",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 61799,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=61799",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How can I move an entire Moodle site from a Mac Intel to a PPC?",
          "Text": "I need to move an entire Moodle site that was developed on a Mac Intel computer, to a Mac PPC computer. Both computers are using Moodle/ MAMP installations. What's the easiest way to go about this? Thanks, -Brock",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 5, 2007, 1:30 PM",
          "AuthorName": "Robert Brock",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=155948&course=5",
          "role": [
            "Picture of Robert Brock"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How can I move an entire Moodle site from a Mac Intel to a PPC?",
          "Text": "Assuming that both versions are the same and you are logged in as the same user: On PPC Cntrl-click on the MAMP/data folder and create an archive (zip file) Cntrl-click on the MAMP/htdocs folder and create an archive (zip file) Use phpmyadmin, navicat or some other utility to data transfer / export the moodle database to a text file. Stick these 3 files on a thumb drive or cd ... or transfer to your intel remotely ON Intel, rename the original Intel folders to old-data and old-htdocs as a precaution Copy the compressed zip files to the intel computer (if not done so in #4); place inside the MAMP folder and expand; Use phpmyadmin, navicat or some other utility to backup your existing intel moodle database Use phpmyadmin, navicat or some other utility to perform a new query / import the moodle text file into the moodle database; thus overwriting the database. If the intel box is to have the same domain name as the ppc one, all should work. If the intel box has a different domain name, the MAMP/htdocs/moodle/config.php file file will need to be changed and the courses might have to be backed up from the ppc box and restored to the intel one to recreate the proper internal links ... testing will tell you. If things mess up, reinstall your mysql backup and rename your data and htdocs folder.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 3, 2007, 6:56 PM",
          "AuthorName": "Larry Elchuck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=121840&course=5",
          "role": [
            "Picture of Larry Elchuck"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 345242,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=345242",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Data too long for column 'controller'",
          "Text": "I'm trying to find out if the following is an anomaly in this environment or if this is a bigger issue within Moodle. I have a course that is used for template purposes and therefore often used with the import function. After a migration to a new server and database the backup/restore function does not work on this particular course, neither does the import function as it relies on the backup process. After the database migration I redefined defaults using the XMLDB editor's tools to check for defaults and keys and executed those queries. This might be important. The debug log says the following. And the 'controller' contains 92364 characters. While it's database field is of the TYPE notation and therefore only allows 65535 characters. \n```text\nDebug info:\n Data too long for column 'controller' at row 1\n\n\nINSERT\n INTO mdl_backup_controllers \n(backupid,operation,type,itemid,format,interactive,purpose,userid,status,execution,executiontime,checksum,controller,timecreated,timemodified)\n```\n I'm now trying to find out whether this is an anomaly for this site; or a bug. I can circumvent the problem by making the 'controller' field in the database a LONGTEXT using: \n```text\nALTER TABLE mdl_backup_controllers MODIFY COLUMN controller LONGTEXT NOT NULL;\nï»¿\n```\n What is the controller's function? How can a controller be so long?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 5, 2017, 2:58 PM",
          "AuthorName": "Virgil Ashruf",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1355163&course=5",
          "role": [
            "Picture of Virgil Ashruf"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 166922,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=166922",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restore Relative to Course Start Date",
          "Text": "Recently, we upgraded from Moodle 1.95 to 1.99.Â  Previously, when faculty restored courses from one semester to the other, there was shift in assignment due dates depending on the course start dates. The assignment was relative to the start date, and when a backup was created, the restore recognized that the start date had changed, and it automatically adjusted the due dates by the number days between the the two course start dates. Now course start dates seem irrelevant.Â  If the backup file had an assignment due Jan 12, 2010, it retains that date as the due date when restored to a new course.Â  Now, as an administrator, I get additional options when performing a restore, so I can invoke the relevance of the course start date.Â  Faculty do not see that option. Is there a site wide preference that can be toggled in order to return to the old model where varying course start dates invokes a due date change?Â  Thanks for any leads. Mary Beth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 22, 2011, 2:57 AM",
          "AuthorName": "Mary Beth McKee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=246157&course=5",
          "role": [
            "Picture of Mary Beth McKee"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 162521,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=162521",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Restore",
          "Text": "I did create back up of two courses and then we changed the theme...now i can restore those courses.It says Error checking backup file. moodle. xml not found at root level of zip file.I tried to unzip it...its says \"Archive:Â  backup-comms-20101027-1013.zip End-of-central-directory signature not found.Â  Either this file is not a zipfile, or it constitutes one disk of a multi-part archive.Â  In the latter case the central directory and zipfile comment will be found on the last disk(s) of this archive. note:Â  backup-comms-20101027-1013.zip may be a plain executable, not an archive unzip:Â  cannot find zipfile directory in one of backup-comms-20101027-1013.zip or backup-comms-20101027-1013.zip.zip, and cannot find backup-comms-20101027-1013.zip.ZIP, period.\" I need to put those courses back onto the moodle. Any Suggestions Please. Regards, Param",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, November 18, 2010, 11:33 AM",
          "AuthorName": "Param Singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1271585&course=5",
          "role": [
            "Picture of Param Singh"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore",
          "Text": "The zipÂ file might be damaged. Have you tried to unzip it with another program, like WinRar or 7zip?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 19, 2010, 12:15 AM",
          "AuthorName": "G. M.",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1031471&course=5",
          "role": [
            "Picture of G. M."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore",
          "Text": "It says file is corrupted.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 19, 2010, 7:49 AM",
          "AuthorName": "Param Singh",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1271585&course=5",
          "role": [
            "Picture of Param Singh"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 146022,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=146022",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Backup not working",
          "Text": "Hello Everyone, I know this seems to be a recurring problem on the forum but I have been unable to find a good solution. When I attempt a backup it always stops at \"zipping backup\". The total size for the site at the moment including the moodledata folder is about 750 MB. To back up my site at the moment I simply make a copy of all files and the database manually. Obviously I would like to use the moodle backup system but I just can't get it to work for me. Do any of you have any suggestions on how to fix this or for another good solution? My site will soon have hundreds and possibly thousands of users so I have to find a good and reliable way of backing up the site. Many thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 16, 2010, 6:09 PM",
          "AuthorName": "Marlon Higgins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=535853&course=5",
          "role": [
            "Picture of Marlon Higgins"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup not working",
          "Text": "Hi Marlon, Just wondering whether you've tried the advice given in the Backup and restore FAQ 'Backup stops at Zipping backup'? Either way, I suggest you keep making site backups, as it's not recommended to use automated course backups as a primary backup system. PS I'm going to move this discussion thread to the backup and restore forum...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 16, 2010, 7:12 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup not working",
          "Text": "Thanks for this. As I use a hosting company I don't know what the path to their zip program is but I shall endeavour to investigate this. Thanks again.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 16, 2010, 8:13 PM",
          "AuthorName": "Marlon Higgins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=535853&course=5",
          "role": [
            "Picture of Marlon Higgins"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 76630,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=76630",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Export/Import Course from DEV > PROD",
          "Text": "I have slogged through many of the posts regarding the import/export course feature of Moodle, but for the life of me I'm not grasping the process of exporting a single course from one Moodle server and importing the course into another server of the same Moodle version. We create and test all new courses on a test server first and then wish to import this course into the production server. I am able to export the course from the dev/test box and I can see the course .zip file in the \\backupdata folder under the course #Â folder in \\moodledata, but what do I need to do in order toÂ get the course unzipped and imported into production? Any clarificationÂ you can provide is much appreciated. Brian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 24, 2007, 11:59 PM",
          "AuthorName": "Brian Maynes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=103666&course=5",
          "role": [
            "Picture of Brian Maynes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Export/Import Course from DEV > PROD",
          "Text": "Hi Brian Got exactly the same task to do as you have. Have backup of courses and want to import them on another moodle server (instead of your situation it's a newer version than the backup was taken from...finger crossed...) Did you find a solution to your problem/question? greets",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 14, 2007, 8:10 PM",
          "AuthorName": "roger keller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=279170&course=5",
          "role": [
            "Picture of roger keller"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Export/Import Course from DEV > PROD",
          "Text": "This may not be the best procedure possible, but here's what I do: If this is my first course transfer, I create a new course called Transfers in a new category called Admin (these names are just my convention). Backup the empty Transfers course. This creates a backup directory in the Moodle data folder ( moodledata by default). Take note of the id for the Transfers course (found in the URL when viewing the course). Let's call this newid from now on. Backup the course I want to transfer on the other site. Just do a course backup as you normally would. Take note of the id for the course you want to transfer (see the URL). I'll call this oldid from now on. Copy the backup file from oldserver :/ path to / moodledata / oldid /backupdata to newserver :/ path / to / moodledata / newid /backupdata by whatever means you have available ( FTP , SFTP, NFS, CIFS, scp, cp). Visit the Files section of your Transfers course and you will see the backup of the old course. Restore it to a new course like you normally would when cloning a course on a single site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 28, 2007, 10:44 PM",
          "AuthorName": "Dean Thayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=108078&course=5",
          "role": [
            "Picture of Dean Thayer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Export/Import Course from DEV > PROD",
          "Text": "Some Moodle docs indicated that you may need to edit the backup file before restoring.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 28, 2007, 11:00 PM",
          "AuthorName": "Dean Thayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=108078&course=5",
          "role": [
            "Picture of Dean Thayer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Export/Import Course from DEV > PROD",
          "Text": "To export it, simply got to the folder called backupdate, open it, and right click on the zip file. Save target as to your desktop. Then go through the normal import steps, importing the zip from yuor desktop. Easy as pie.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 26, 2010, 11:01 AM",
          "AuthorName": ".. ..",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=661255&course=5",
          "role": [
            "Picture of .. .."
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Export/Import Course from DEV > PROD",
          "Text": "I followed your instructions and thought I was almost there... until I got an error saying \"A required parameter (id) was missing\". any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 24, 2010, 10:19 AM",
          "AuthorName": "Denise Lewis",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=876017&course=5",
          "role": [
            "Picture of Denise Lewis"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Export/Import Course from DEV > PROD",
          "Text": "Hi Denise, That's the typical message when your file upload is larger than the limit on your Moodle or classroom. Search Moodle.org on that phrase for how to fix.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 25, 2010, 8:11 AM",
          "AuthorName": "ben reynolds",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=259778&course=5",
          "role": [
            "Picture of ben reynolds"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Export/Import Course from DEV > PROD",
          "Text": "Thanks for posting this. It definitely got me on the right track!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 18, 2012, 8:28 AM",
          "AuthorName": "Jason Robertson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1470029&course=5",
          "role": [
            "Picture of Jason Robertson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 184494,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=184494",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Make Moodle course using custom script",
          "Text": "Hi I am trying to create a custom script for exporting course in moodle fomat I have course in 8 week format in my system and want to export course in zip format so that moodle can easily restore this. My course structure is ================= course Mathmatics week 1 section 1 section 2.... week 2 section 1Â Â Â  section 2.... week 3 week 4....... I know moodle is supported Basic Lti so I think if I make each week as lti Activity after thatÂ  moodle restore this course and all activity of this course will open in LTI frame. But I am not able to understand how could I export this course for moodle 2.0.what is mandatory files to make moodle back up course. Any bit of information will be very helpful please help me Regards Gautam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 31, 2011, 6:36 PM",
          "AuthorName": "Gautam Bishwas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=904614&course=5",
          "role": [
            "Picture of Gautam Bishwas"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 76275,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=76275",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Some Backup and Restore Ideas and problems solved",
          "Text": "In another forum I was given a great idea on how to move a course from one moodle site to a new one. Create an admin course (perhaps named backup and restore) with admins having access to it. When you want to restore a course from another moodle instance back it up there then copy the zip file to the backupdata folder of the new backup course. You can restore all you need to from there without creating a ton of courses first - it was easy! I also discovered that the new gallery module (at least if not totally set up) will break the backup and restore functions at the second screen. This was a huge issue for me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 19, 2007, 4:27 AM",
          "AuthorName": "David Mead",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=111873&course=5",
          "role": [
            "Picture of David Mead"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Some Backup and Restore Ideas and problems solved",
          "Text": "Can you explain your process in more detail, David? I posted a similar question regarding course import/export in this thread . Regards, Brian",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 25, 2007, 12:11 AM",
          "AuthorName": "Brian Maynes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=103666&course=5",
          "role": [
            "Picture of Brian Maynes"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Some Backup and Restore Ideas and problems solved",
          "Text": "I posted my procedure for transferring courses from one site to another in the thread you mentioned .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 28, 2007, 10:54 PM",
          "AuthorName": "Dean Thayer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=108078&course=5",
          "role": [
            "Picture of Dean Thayer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 223232,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=223232",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Need student data but cannot get any data- restore fails bug",
          "Text": "Hello, We know about but this huge bug where we cannot restore a course from a backup https://tracker.moodle.org/browse/MDL-34172 We are having trouble restoring a course and keep getting the following error and have the same exact debug details as recorded in Moodle Tracker for MDL-34172 This is critical for us as we are trying to review the work of a student who said she submitted the assignments. Is there another way to get her course logs or what she uploaded? the bug workaround states not to restore course logs! So how can we find what we need to do? ---- Coding error detected, it must be fixed by a programmer: define_restore_log_rules() method needs to be overridden in each subclass of restore_activity_task More information about this error Stack trace: line 255 of /backup/moodle2/restore_activity_task.class.php: coding_exception thrown line ? of unknownfile: call to restore_activity_task->define_restore_log_rules() line 50 of /backup/util/helper/restore_logs_processor.class.php: call to call_user_func() line 73 of /backup/util/helper/restore_logs_processor.class.php: call to restore_logs_processor->__construct()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 27, 2013, 6:43 AM",
          "AuthorName": "John Reese",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1392695&course=5",
          "role": [
            "Picture of John Reese"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Need student data but cannot get any data- restore fails bug",
          "Text": "Hello John, I hope this helps those that are having restore problems where you could not restore a course unless you uncheck / do not restore activity log as part of the restore process. After your test restore, make sure that all the key functionality, scores, logs, assignments, grades, etc. are intact. In a nutshell, while the restore may look like it went successfully, best to test that all the the data is fine after the restore Here is the workaround explanation â€¦ Background: ---------- The problem was during the restore, we get the following error, which is exactly recorded as a bug: https://tracker.moodle.org/browse/MDL-34172 â€”â€”â€” Coding error detected, it must be fixed by a programmer: define_restore_log_rules() method needs to be overridden in each subclass of restore_activity_task More information about this error Stack trace: line 255 of /backup/moodle2/restore_activity_task.class.php: coding_exception thrown line ? of unknownfile: call to restore_activity_task->define_restore_log_rules() line 50 of /backup/util/helper/restore_logs_processor.class.php: call to call_user_func() line 73 of /backup/util/helper/restore_logs_processor.class.php: call to restore_logs_processor->__construct() line 2008 of /backup/moodle2/restore_stepslib.php: call to restore_logs_processor::get_instance() line 131 of /backup/util/plan/restore_structure_step.class.php: call to restore_activity_logs_structure_step->process_log() line 103 of /backup/util/helper/restore_structure_parser_processor.class.php: call to restore_structure_step->process() line 125 of /backup/util/xml/parser/processors/grouped_parser_processor.class.php: call to restore_structure_parser_processor->dispatch_chunk() line 91 of /backup/util/helper/restore_structure_parser_processor.class.php: call to grouped_parser_processor->postprocess_chunk() line 148 of /backup/util/xml/parser/processors/simplified_parser_processor.class.php: call to restore_structure_parser_processor->postprocess_chunk() line 92 of /backup/util/xml/parser/processors/progressive_parser_processor.class.php: call to simplified_parser_processor->process_chunk() line 169 of /backup/util/xml/parser/progressive_parser.class.php: call to progressive_parser_processor->receive_chunk() line 253 of /backup/util/xml/parser/progressive_parser.class.php: call to progressive_parser->publish() line ? of unknownfile: call to progressive_parser->end_tag() line 158 of /backup/util/xml/parser/progressive_parser.class.php: call to xml_parse() line 137 of /backup/util/xml/parser/progressive_parser.class.php: call to progressive_parser->parse() line 105 of /backup/util/plan/restore_structure_step.class.php: call to progressive_parser->process() line 153 of /backup/util/plan/base_task.class.php: call to restore_structure_step->execute() line 187 of /backup/moodle2/restore_activity_task.class.php: call to base_task->execute() line 148 of /backup/util/plan/base_plan.class.php: call to restore_activity_task->execute() line 157 of /backup/util/plan/restore_plan.class.php: call to base_plan->execute() line 315 of /backup/controller/restore_controller.class.php: call to restore_plan->execute() line 147 of /backup/util/ui/restore_ui.class.php: call to restore_controller->execute_plan() line 46 of /backup/restore.php: call to restore_ui->execute() â€”â€” This is what I discovered. This is an activity problem. Hence, we need to look at all activities under the /mod directory In every activity, they have the same path pattern /mod/$OurActivityName/backup/moodle2/ In the moodle2 folder there is a â€œrestoreâ€ php file with name of the file patterned as: restore_â€™$OurActivityNameâ€™_activity_task.class.php where $OurActivityName is the name of the activity. So if it was a book activity, the file we are interested in is: â€œrestore_book_activity_task.class.phpâ€ If it was a hotpot activity, the file we are interested in is: â€œrestore_hotpot_activity_task.class.phpâ€ If it was a journal activity, the file we are interested in is: â€œrestore_journal_activity_task.class.phpâ€ ... and so on. In each of these files, there are 6 basic functions that they must have: protected function define_my_settings() { } protected function define_my_steps() { } static public function define_decode_contents() { } static public function define_decode_rules() { } static public function define_restore_log_rules() { } static public function define_restore_log_rules_for_course() { } The key are the last 2 functions: define_restore_log_rules() and define_restore_log_rules_for_course(). If the activity does not have these 2, the restore will fail because these defines the rules for restore. To fix it, we simply copy from and activity that have these 2 functions and add them accordingly with their associated activity name. The problem we had was with Hotpot and Journal activity. They were missing these 2 functions! Hotpot: restore_hotpot_activity_task.class.php â€”â€”â€”â€” /** added fix â€¦ */ /** Define the restore log rules that will be applied by the {@link restore_logs_processor} when restoring folder logs. It must return one array of {@link restore_log_rule} objects */ static public function define_restore_log_rules() { $rules = array(); $rules[] = new restore_log_rule(â€˜hotpotâ€™, â€˜addâ€™, â€˜view.php?id={course_module}â€™, â€˜{folder}â€™); $rules[] = new restore_log_rule(â€˜hotpotâ€™, â€˜editâ€™, â€˜edit.php?id={course_module}â€™, â€˜{folder}â€™); $rules[] = new restore_log_rule(â€˜hotpotâ€™, â€˜viewâ€™, â€˜view.php?id={course_module}â€™, â€˜{folder}â€™); return $rules; } /** Define the restore log rules that will be applied by the {@link restore_logs_processor} when restoring course logs. It must return one array of {@link restore_log_rule} objects Note this rules are applied when restoring course logs by the restore final task, but are defined here at activity level. All them are rules not linked to any module instance (cmid = 0) / static public function define_restore_log_rules_for_course() { $rules = array(); $rules[] = new restore_log_rule(â€˜hotpotâ€™, â€˜view allâ€™, â€˜index.php?id={course}â€™, null); return $rules; } Journal: restore_journal_activity_task.class.php â€”â€”â€”â€”â€”â€”â€”â€” /** added fix â€¦ */ /** Define the restore log rules that will be applied by the {@link restore_logs_processor} when restoring folder logs. It must return one array of {@link restore_log_rule} objects */ static public function define_restore_log_rules() { $rules = array(); $rules[] = new restore_log_rule(â€˜journalâ€™, â€˜addâ€™, â€˜view.php?id={course_module}â€™, â€˜{folder}â€™); $rules[] = new restore_log_rule(â€˜journalâ€™, â€˜editâ€™, â€˜edit.php?id={course_module}â€™, â€˜{folder}â€™); $rules[] = new restore_log_rule(â€˜journalâ€™, â€˜viewâ€™, â€˜view.php?id={course_module}â€™, â€˜{folder}â€™); return $rules; } /** Define the restore log rules that will be applied by the {@link restore_logs_processor} when restoring course logs. It must return one array of {@link restore_log_rule} objects Note this rules are applied when restoring course logs by the restore final task, but are defined here at activity level. All them are rules not linked to any module instance (cmid = 0) / static public function define_restore_log_rules_for_course() { $rules = array(); $rules[] = new restore_log_rule(â€˜journalâ€™, â€˜view allâ€™, â€˜index.php?id={course}â€™, null); return $rules; } It is important that the activity blocks have these functions in place for the restore to work without the need to \"uncheck\" activity logs so it would work. Hope this helps. Feel free to contact me for me details.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 6, 2013, 4:11 AM",
          "AuthorName": "Lawrence N",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1571090&course=5",
          "role": [
            "Picture of Lawrence N"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 450224,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450224",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Course import from Moodle to iomad",
          "Text": "Can we restore Moodle 3.9 courses to iomad 4.0 ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 7, 2023, 6:11 PM",
          "AuthorName": "kirupa lakshmi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2235011&course=5",
          "role": [
            "Picture of kirupa lakshmi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course import from Moodle to iomad",
          "Text": "I would guess yes - try it and see!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 7, 2023, 8:18 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course import from Moodle to iomad",
          "Text": "I am going to try it and reply here if i got worked. Thanks !",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 8, 2023, 1:41 AM",
          "AuthorName": "kirupa lakshmi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2235011&course=5",
          "role": [
            "Picture of kirupa lakshmi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course import from Moodle to iomad",
          "Text": "It works good.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 15, 2023, 3:37 AM",
          "AuthorName": "kirupa lakshmi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2235011&course=5",
          "role": [
            "Picture of kirupa lakshmi"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course import from Moodle to iomad",
          "Text": "Hello i want to know how are you doing the import?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 2, 2024, 2:09 AM",
          "AuthorName": "ibrahima seck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2209163&course=5",
          "role": [
            "Picture of ibrahima seck"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 128249,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=128249",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Does not backup nor restore properly...",
          "Text": "I have some lessons as flashcards.Â  I have it in one course, but want to move it to another course.Â  I tried to backup just that one lesson to see if it works, but I keep backing up the whole course, even when I uncheck all the other activities .Â  So I just get the whole zip file, delete the ones I do not use, and then restore it to another course.Â  But in that course, the lesson is a little messed up and is not an exact copy of the original.Â  Is this due to the fact that backup restore does not render HTML correctly?Â Â Â  Anyone know what problems I'm running into?Â  Any help would be great, thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 16, 2009, 4:50 AM",
          "AuthorName": "Frank Park",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=792986&course=5",
          "role": [
            "Picture of Frank Park"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Does not backup nor restore properly...",
          "Text": "Dear Frank park, First of all when you uncheck certain activities or resources which are to backed up and still you end up with the whole course backup with all the contents ! ! This has to be looked into first , can you post screen shots on how are you deselecting and taking a backup ? And backup resore dosent render html correctly ! ! how do you say that ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 16, 2009, 12:16 PM",
          "AuthorName": "Ravishankar Somasundaram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761222&course=5",
          "role": [
            "Picture of Ravishankar Somasundaram"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Does not backup nor restore properly...",
          "Text": "I uncheck everything except that one activity.Â  And when I restore the zip file to a new course, it renders it all weird.Â  In the lesson activity, I have pictures and corresponding audio.. The audio plays but the text and placement of all the stuff is jumbled..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 18, 2009, 12:06 AM",
          "AuthorName": "Frank Park",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=792986&course=5",
          "role": [
            "Picture of Frank Park"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Does not backup nor restore properly...",
          "Text": "I have never come across or heard about a problem like this in backup and restore, can you post some screenshots and tell us what exactly you are restoring and what gets misplaced ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 18, 2009, 1:19 AM",
          "AuthorName": "Ravishankar Somasundaram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761222&course=5",
          "role": [
            "Picture of Ravishankar Somasundaram"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 56419,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=56419",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "backup has problems with quiz questions",
          "Text": "I have been doing quite a bit of experimenting with backup and restore in the past few days as I am working on migrating one moodle setup to another server . I was having trouble backing up a couple of large courses - they would always hangup when \"writing categories and questions\". I tried a backup without quizzes and the back up worked well. I have not been able to test the restore yet as the files exceed the upload limit for my new server. If I try to backup just the quizzes, the backup fails. I would like to figure out what aspect of the questions is causing the problem. Are there any detailed backup logs? I have not been able to find them.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 16, 2006, 3:50 AM",
          "AuthorName": "Mike Jackson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=10211&course=5",
          "role": [
            "Picture of Mike Jackson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: backup has problems with quiz questions",
          "Text": "I have had problems in the past with an old version (1.5? 1.4) version of moodle and lots of quiz questions and categories. You may find that upgrading moodle (after taking all precautions) helps. On the other hand others have mentioned that backups started stalling after the upgrade to 1.6. This will probably depend on the reason for stall. It soulds like the usual lack of memory/php execution time. As I just advised eslewhere changing to internal zip/unzip routines, if you are not using them already, can change your backup and restore life enourmously for the better. If you have not set the path to the internal zip/unzip routines then that is the first choice. After you have looked into increasing execution times and memory limits (perhaps these may even be .htaccess settable) you can backup your course in bits. E.g. backup works without the tests. Then backup half of the tests and then the other half. By the way, you should be able to upload your course backups to the new server by ftp : 1) upload an empty text file to the site or course files. This willÂ get moodle to create a folder in moodledata called \"1\",Â \"2\", \"3\" or whatever correspondingÂ to the id of the course - \"1\" if it is the site files. 2) Upload the backup into the folder (\"1\",\"2\", or \"3\" etc)Â in your moodle data folder using aÂ ftp client in the same way that you uploaded moodle itself. 3) Return to the moodle GUI and restore the uploaded file.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 16, 2006, 10:48 AM",
          "AuthorName": "Timothy Takemoto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4185&course=5",
          "role": [
            "Picture of Timothy Takemoto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backup has problems with quiz questions",
          "Text": "Thanks Tim, I am trying to move from a windows 1.6.1 to a linux 1.6.3 system. I will look into the execution time thing. Are there internal zip/unzip functions for a windows server? If this is possible, how does one set it up? As to ftp, I am waiting to get the right rights to the moodle data folder.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 16, 2006, 12:14 PM",
          "AuthorName": "Mike Jackson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=10211&course=5",
          "role": [
            "Picture of Mike Jackson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backup has problems with quiz questions",
          "Text": "Before I go on, I should say that, to my embarassment, my course backupsÂ are almost timing out on my 1.6.1 installation due to the number of questions and categories, and I am only on the second week of term. So this is going to be a problem for me, and I have the zip and unzip specified. Ouch. Perhaps we should report a bug. If you find an effective .htaccess file to extendÂ execution time then please let me know. The zip unzipÂ paths are for my linux servers and it says in the instructions that it only works for UNIX , and I confirm that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 16, 2006, 7:14 PM",
          "AuthorName": "Timothy Takemoto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4185&course=5",
          "role": [
            "Picture of Timothy Takemoto"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backup has problems",
          "Text": "My system administrator said use a htaccess to change the php settings so I am trying that at last. It does not seem likely since the php is trying to change things but I have tried this as in the attached. LimitRequestBody 0 php_value max_execution_time 9000 php_value upload_max_filesizeÂ  100M php_value memory_limitÂ  101M php_value post_max_sizeÂ  101M",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 22, 2006, 8:09 PM",
          "AuthorName": "Timothy Takemoto",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4185&course=5",
          "role": [
            "Picture of Timothy Takemoto"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 211675,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=211675",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to Backup a site?",
          "Text": "Hi, Is there a best practice guide to backup a site? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, September 18, 2012, 7:32 PM",
          "AuthorName": "Cordelia Lear",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1498848&course=5",
          "role": [
            "Picture of Cordelia Lear"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to Backup a site?",
          "Text": "Hi Cordelia, Please see the documentation Site backup .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 19, 2012, 4:13 AM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 52485,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=52485",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Can we automate database backups?",
          "Text": "Hi I am taking full backups of my SQL manually (XAMPP for windows, Moodle1.6 with windows 2000 advanced server )Â at this moment is there any way we can automate these backups? THanks Fouzia",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 25, 2006, 3:22 PM",
          "AuthorName": "fouzia imran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=129069&course=5",
          "role": [
            "Picture of fouzia imran"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Can we automate database backups?",
          "Text": "Here is some information on a script we use at our school: http://moodle.org/mod/forum/discuss.php?d=11497 and http://moodle.org/mod/forum/discuss.php?d=11739",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 25, 2006, 3:42 PM",
          "AuthorName": "Jan Dierckx",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=10753&course=5",
          "role": [
            "Picture of Jan Dierckx"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Can we automate database backups?",
          "Text": "I found an easy way and posted it in the server forums . Perhaps it will be useful.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 25, 2006, 4:08 PM",
          "AuthorName": "Jason Hando",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7055&course=5",
          "role": [
            "Picture of Jason Hando"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 42408,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=42408",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Site News",
          "Text": "Hi Is it possible to backup and Restore Site News? Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 24, 2006, 7:42 PM",
          "AuthorName": "Peter Holmes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=113048&course=5",
          "role": [
            "Picture of Peter Holmes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 120694,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=120694",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "imports blank activities",
          "Text": "Hi all, when i import activities from one course ( with many lesson activities) to another blank activities get copied, i mean it creates double copy of activities the actual ones and a blank copy...Please help me on this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 7, 2009, 5:07 PM",
          "AuthorName": "netsparx itservices",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=739645&course=5",
          "role": [
            "Picture of netsparx itservices"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: imports blank activities",
          "Text": "Hi , Someone please help me on the above issue. Best wishes! Sweta",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 8, 2009, 8:38 PM",
          "AuthorName": "netsparx itservices",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=739645&course=5",
          "role": [
            "Picture of netsparx itservices"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 65043,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=65043",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Users Only",
          "Text": "Hi all How do I back up, or save to a file, the users of a moodle so that I can upload them at another location. I am changing hosting providers and just want to take the users across. I don't need anything else as I prefer to start the courses from scratch as I have had problems with the setup at my current provider. Thanks Michael",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 17, 2007, 5:22 PM",
          "AuthorName": "Michael Fab",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=219136&course=5",
          "role": [
            "Picture of Michael Fab"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 447012,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447012",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "SQL Performance on lesson course restoration",
          "Text": "Hello all. We are managing a moodle with mdl_lesson_branch table composed by 12685665 rows. In the process of importing a course or copying courses with lesson pages, the performance is poor and takes more than 30 minutes, it blocks the normal performance of the tool. We reviewed the code and the cause is the execution of below code from mod/lesson/backup/moodle2/restore_lesson_stepslib.php: // Replay the upgrade step 2015032700. // Delete any orphaned lesson_branch record. if ($DB->get_dbfamily() === ' mysql ') { $ sql = \"DELETE {lesson_branch} FROM {lesson_branch} LEFT JOIN {lesson_pages} ON {lesson_branch}.pageid = {lesson_pages}.id WHERE {lesson_pages}.id IS NULL\"; } else { $ sql = \"DELETE FROM {lesson_branch} WHERE NOT EXISTS ( SELECT 'x' FROM {lesson_pages} WHERE {lesson_branch}.pageid = {lesson_pages}.id)\"; } $DB->execute($sql); The sentence takes about 60 seconds in our database . Does anyone know if this SQL request can be safely improved or cleaned from the code. We are considering deleting this query and planning a nightly execution to avoid any problems with orphaned lesson branch records. Many thanks in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 23, 2023, 5:59 PM",
          "AuthorName": "Luis Alberto Asturias NÃºÃ±ez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4676223&course=5",
          "role": [
            "Picture of Luis Alberto Asturias NÃºÃ±ez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: SQL Performance on lesson course restoration",
          "Text": "Good morning, Have you found a solution for this? We are trying to update to version 3.11 and this process is blocking us.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 30, 2023, 4:45 PM",
          "AuthorName": "Maria del Carmen Loriente YaÃ±ez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5624687&course=5",
          "role": [
            "Picture of Maria del Carmen Loriente YaÃ±ez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 102419,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=102419",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Error in backup in some courses",
          "Text": "I just upgraded from 1.82 to 1.86. When I do a backup, some courses fail. I turned on debug. The first error pops up when you get the page of checkboxes to select what you want to backup. The error occurs right after \"quizes.\" The error is: Notice Undefined offset 59877 in /usr/share/moodle/lib/datalib.php on line1487. There is also an error: Notice Undefined offset 63764 in the same datalib.php Farther down there are 2 quizzes with NO titles. When you go to create the file an error occurs after \"Blocks\" It gives \"Cannot quickly initialize page: empty course id. What are the \"Undefined offset's\" referring to? Are they quiz instances, or attempt instances? I cannot find what 59877 and 63764 are referring to. When I put in debug code. . . the instance is actually 0. . . thus the failure.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 31, 2008, 1:15 PM",
          "AuthorName": "Donald Reiher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=348768&course=5",
          "role": [
            "Picture of Donald Reiher"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error in backup in some courses",
          "Text": "It looks like there is some inconsistency somewhere in the quiz data. It seems others are having problems with quizzes. We need the backup code to detect data inconsistency, and instead of crashing with an instance=0 it needs to skip that entry and backup the rest of the data. I put debug code right after line 1487 in moodle/lib/datalib.php where it says foreach ($modinfo as $mod) { if ($mod->mod == $modulename and $mod->visible > $invisible) { $instance = $rawmods[$mod->cm]; echo \"mod-mod---\"; echo $mod->mod; echo $instance; <- when I let this line run. . . the backup stops dead here echo $mod->cm; at the point where it returns a 0 when I comment out \"echo $instance;\" then the backup continues and it gives the normal error and stops at the normal place. If someone could point me in the right direction, I would know where to clean up the data in the various mods (i.e. quizzes, resources, etc.), it would be a big help. I need help in identifying where the problem is in error checking so it can be submitted as a bug. Thanks. when I echo $instance I get a 0 when backup.php is gathering the backup options for the user to check or uncheck. Then after the selections are made, (i.e. you choose course files and/or user info) and the backup starts, that is when it fails.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 31, 2008, 6:59 PM",
          "AuthorName": "Donald Reiher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=348768&course=5",
          "role": [
            "Picture of Donald Reiher"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 50892,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=50892",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "After restore the documents are not correctly linked?!?",
          "Text": "After moving a course from one moodle to another, the following fault occured: The documents of the course were correctly placed in moodledata/5/ but the links within the course were set to /moodle/file.php/5/. Can somebody help me? thanks in advance Estevan Veenstra",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 1, 2006, 1:16 AM",
          "AuthorName": "estevan veenstra",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=147215&course=5",
          "role": [
            "Picture of estevan veenstra"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "in config.php wrong notation",
          "Text": "I found the problem in config.php. The path to Moodledata had a wrong slash in the notation. greetz Estevan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 1, 2006, 6:03 PM",
          "AuthorName": "estevan veenstra",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=147215&course=5",
          "role": [
            "Picture of estevan veenstra"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 99286,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=99286",
      "NoOfResponses": 13,
      "ResponsesInList": [
        {
          "Title": "rsync two moodle",
          "Text": "I have two moodle installed in two different linux server . Does anyone know how to rsync two moodle togehter?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 13, 2008, 8:39 PM",
          "AuthorName": "chan leslie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=147863&course=5",
          "role": [
            "Picture of chan leslie"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: rsync two moodle",
          "Text": "I've been investigating rsync recently. It is a one-way process - it copies files from one server to another. As such, it would not synchronise two Moodle's. It is only able to copy from one Moodle server to a different location - effectively making a backup or a mirror. Stu",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 29, 2009, 2:51 PM",
          "AuthorName": "Stuart Mealor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21336&course=5",
          "role": [
            "Picture of Stuart Mealor"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: rsync two moodle",
          "Text": "Stuart Mealor, rsync is a one way process, <= yeah i agree with you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 29, 2009, 3:40 PM",
          "AuthorName": "Ravishankar Somasundaram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761222&course=5",
          "role": [
            "Picture of Ravishankar Somasundaram"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: rsync two moodle",
          "Text": "1. rsync does a differential copy if there are already existing files in the same name Not necessarily. By default rsync updates files if the source file is newer than the destination. It won't copy over files that haven't changed, but it will update files that have unless you set \"--ignore-existing\". 2. rsync does a complete backups/mirror if the destination doesnt have a folder/files in the same name such as source. Note, however, that rsync does *not* copy the database over. Simply copying over the files from the /var/lib/ mysql (or wherever your server stores the My SQL data) will almost certainly result in an inconsistent and probably corrupted copy of the database. And if the site is large, you get a sliding window backup where things may change and become inconsistent during the course of the backup. To do a true mirror of two sites, you're probably going to have to do something like this: 1) Set up DRDB on the wwwroot / dataroot partition so that when the primary Moodle server writes something to disk, it's automatically written over the network to the secondary server. 2) Set up MySQL replication with the primary server as the master and the secondary server as the slave. Are you looking at some sort of cluster/load balance? Or are you looking to have a hot backup of the site for failover or disaster recovery? there are several ways to do it, but the solutions change depending on your intended use case. -Greg",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 30, 2009, 7:25 AM",
          "AuthorName": "Greg Lund-Chaix",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=150381&course=5",
          "role": [
            "Picture of Greg Lund-Chaix"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: rsync two moodle",
          "Text": "Not necessarily. By default rsync updates files if the source file is newer than the destination. It won't copy over files that haven't changed, but it will update files that have unless you set \"--ignore-existing\". I thaught differential copy means the same like what you have said above. regarding 2 i completely agree with you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 31, 2009, 12:00 AM",
          "AuthorName": "Ravishankar Somasundaram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761222&course=5",
          "role": [
            "Picture of Ravishankar Somasundaram"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: rsync two moodle",
          "Text": "My apologies. I mis-read your original response. You are correct. -Greg",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 31, 2009, 1:27 AM",
          "AuthorName": "Greg Lund-Chaix",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=150381&course=5",
          "role": [
            "Picture of Greg Lund-Chaix"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: rsync two moodle",
          "Text": "Ravi: Hope you can help me. I have a school A directory in an external Â web- host . It works great. Now I want to copy from School A to School B in another directory (School B) in the same web host. Then I want to go in School B directory, delete all users and start a new user group. All files remain the same like image, quiz any every thing else. So that.. I do not have to recreate everything over again. Just add new users in School B. I have no clue how to do that. I have tried to copy all files but in the webhost it doses not let me copy. I downloaded all in my local drive and uploaded in the new School B directory. It works except when I login it is taking me to the School A directory. May be I am explaining things OK. Please help. Will backup and restore work? Dr. Dey",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 7, 2009, 2:32 AM",
          "AuthorName": "Sukhen Dey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100103&course=5",
          "role": [
            "Picture of Sukhen Dey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: rsync two moodle",
          "Text": "I'd not recommend doing that using an OS-level backup. You're probably *much* better off creating School B as a new clean install of Moodle and then using Moodle zip backups of the courses to move the content over. -Greg",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 7, 2009, 3:41 AM",
          "AuthorName": "Greg Lund-Chaix",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=150381&course=5",
          "role": [
            "Picture of Greg Lund-Chaix"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: rsync two moodle",
          "Text": "+1 for Greg's suggestion.Â  Cleaner and actually easier on your end (unless you have numerous courses). Do a clean Moodle install on server B Backup each course on Server A (Admin block>>backup) Backup options (No user data - but all course/site files) CopyÂ each back-up zip file over to the newÂ server B Restore each backup to new server B Result - clean Moodle install with server A courses + no users Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 7, 2009, 3:59 AM",
          "AuthorName": "Ken Gibson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=61781&course=5",
          "role": [
            "Picture of Ken Gibson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: rsync two moodle",
          "Text": "Ken: Thanks. I follow everything and you have done a great job (professor talking) but I could not find the backup zip in server A, or may be I am not looking at the right place. I am sorry to bother you. Trying to set a medical school training site just to give you an example, but now the dean likes it so much that he wants me to create one for hart, one for Children, One for Mental health etc. If that make sense. It is rather a world renowned school so I have to be absolutely sure that users from almost 78 different countries, mostly physicians can take the training. I thought I will give you a little background. Sorry again, we the professors always over explain things. Your help is utmost appreciated. Dr. Dey",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 7, 2009, 5:07 AM",
          "AuthorName": "Sukhen Dey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100103&course=5",
          "role": [
            "Picture of Sukhen Dey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: rsync two moodle",
          "Text": "Sukhen.. >>>Thanks. I follow everything and you have done a great job (professor talking) but I could not find the backup zip in server A, or may be I am not looking at the right place. 1. Go to the serverB install and create a new folder in course ID=1 (or make a new folder under files at serverB's Moodle home page (Admin>>Frontpage>Files). Call that folder \"backupdata\"Â  (If that folder is there already- then skip this step). 2. FTP (or via serverB homepage)Â your server A backups into that folder (moodledata/1/backupdata) 3. Go to serverBÂ  (Admin>>Frontpage>Files) and open the backupdata folder - you will see a list of the backups and you can restore from there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 7, 2009, 5:12 AM",
          "AuthorName": "Ken Gibson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=61781&course=5",
          "role": [
            "Picture of Ken Gibson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: rsync two moodle",
          "Text": "Thanks. I shall try and let you know. Dr Dey",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 7, 2009, 6:32 AM",
          "AuthorName": "Sukhen Dey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=100103&course=5",
          "role": [
            "Picture of Sukhen Dey"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: rsync two moodle",
          "Text": "Dear Sukhen dey, sorry for delayed response, as ken and greg said you can backup and restore , but dont forget to uncheck the option which says user data besides each module(activity/resource) in the backup course page before backing up your course , or else youl end up with the same School A environment in School B . Incase you have many courses and feel that this wont work , let me introduce you another option which i think people with minimal knowledge with databases and server maintanance can opt for. 1. Take a database dump of School A installation 2. Create two folders, one in your web directory (www in most of systems) this will be our web directory to store core files for School B and another outside the web directory(var in linux) which will serve as data directory for our School B. 3. Now rsync the contents of School A web directory to School B web directory 4. And also rsync the contents of School A data directory to School B data directory 5. Now create a database for School B and populate the School B database by importing the dump that you took from School A database. 6. Change the config.php inside School B web directory accordingly And there you go , you have your School B ready with the all the datas from School A, Now to remove user data from all modules inside courses , just click on the reset option in Site Administration on each course and follow instructions on proceeding screens. DONE By following this method you can maintain all the settings and customizations that you did for School A",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 7, 2009, 6:04 PM",
          "AuthorName": "Ravishankar Somasundaram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=761222&course=5",
          "role": [
            "Picture of Ravishankar Somasundaram"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 82652,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=82652",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "MySql Backup Problem",
          "Text": "Hi I am currently looking atÂ upgrading our Moodle installÂ from 1.6 to 1.8.3, whilst at the same time moving it onto a new server . Anyhow, ive tried to take a backup of the moodle MySQL database using; \" my sql dump -u moodledba -p -C -Q -e -a moodle > backupoct07.sql \" and when i run it i get \"mysqldump: Error 1030: Got error 127 from storage engine when dumping table `mdl_log` at row: 124532\" could anyone shed any light on the problem and offer a solution? could i just clear out the mdl_log table?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 18, 2007, 6:45 PM",
          "AuthorName": "John Szkudlapski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=122620&course=5",
          "role": [
            "Picture of John Szkudlapski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 165908,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=165908",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "2.0 Error: \"required parameter (id) was missing\"",
          "Text": "I trying to copy a forum by backing up the course and restoring only the forum -- I did this a lot in 1.9x but now in 2.0 I get the following error \"required parameter (id) was missing\" and suggestions??",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 9, 2011, 8:18 AM",
          "AuthorName": "Vernellia Randall",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616236&course=5",
          "role": [
            "Picture of Vernellia Randall"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 2.0 Error: \"required parameter (id) was missing\"",
          "Text": "Apparently the ability to create usable backup for moving 1.9 to 2.x is not available in 2.01 and we will need to wait until version 2.1 for this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 11, 2011, 4:08 AM",
          "AuthorName": "Larry Wershbale",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=945461&course=5",
          "role": [
            "Picture of Larry Wershbale"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 84333,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=84333",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Blackboard 6 to Moodle 1.6.3 Import Tool",
          "Text": "Through a project between Northwestern Michigan College and West Shore Community College in Michigan, we've hired someone to create a tool to transfer the information about Blackboard 6 pools and tests into Moodle Question pools. Tests still have to be recreated and people using 1.8 may or may not have an easy time with it (we're having a bit of trouble with an upgrade to 1.8.2), but for 1.6.3, it was wonderful! I'm sure with a little tweaking, it could be made ready for 1.8+, but I'm not an xsl transform expert. Also, I'm not sure how well it works with Bb7. Place the attached file in the moodle/backup/bb/ folder (it will replace your old file, but I HIGHLY recommend renaming or backing up your old file first). I really hope that someone can continue to modify it to make it work for future versions to keep the transitions fairly smooth. Feel free to try it out. I'd be ESPECIALLY interested in hearing from someone willing to look at changes that need to be made for 1.8. Thanks and I hope this helps!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 12, 2007, 11:55 PM",
          "AuthorName": "Chris Potter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=95136&course=5",
          "role": [
            "Picture of Chris Potter"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Blackboard 6 to Moodle 1.6.3 Import Tool",
          "Text": "Okay...I just couldn't wait. I just gave this a try with the latest 1.9 beta of Moodle. I tried to import a Blackboard course with two questions into Moodle. The restore only imported one question, so something still needs to be modified. Hey it's one more question than I had before, so we're making progress here. I'll try to dig into the xsl stuff and see what I can figure out. I'll keep you posted.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 13, 2007, 8:33 AM",
          "AuthorName": "Stephen Poynter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=420535&course=5",
          "role": [
            "Picture of Stephen Poynter"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blackboard 6 to Moodle 1.6.3 Import Tool",
          "Text": "That's great. I'd appreciate anything you can find. I'll be looking at it today also. We're on the last probably 25% of our conversion, so I'd like to see this get fixed before my college pulls me away to other projects for Moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 16, 2007, 11:17 PM",
          "AuthorName": "Chris Potter",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=95136&course=5",
          "role": [
            "Picture of Chris Potter"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 89966,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=89966",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup page1 from 1.7 restore into page1 of 1.8 not getting all my quizzes",
          "Text": "Originally our filesize limited the backup/restore to 16mb so our techs enlarged the file size in our Moodle 1.8 to 100mb to accomodate the page1 backup from our 1.7 site which was only 29mb.Â  I did the backup then moved a copy using a right-click on the backup file into a safe holding area and then I uploaded the backupÂ into 1.8 and then did the restore into page1.Â  But when I go into 1.8 and look at page1 into the quiz categories, I only see the first viewable quiz .Â  But I have over 200 quizzes embedded inside page1 with pictures so that everyone can view everything.Â  These quizzes are shared between teachers at two different schools .Â  I don't see why I didn't get all my quizzes restored in this process.Â  Any ideas?Â  Is there something incorrect with my method?Â  Do I need to do this differently? Getting frantic, need help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 8, 2008, 3:30 AM",
          "AuthorName": "Bill Click",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=28422&course=5",
          "role": [
            "Picture of Bill Click"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup page1 from 1.7 restore into page1 of 1.8 not getting all my quizzes",
          "Text": "Ok, here's what I have figured out about page1 backups versus meta courses. Definitive answer to everything in the world. If you are in the situation like we are of supporting multiple secondary schools with multiple teachers teaching the same subjects, therefore they are sharing multiple quizzes with images, DO NOT put your quizzes into page1 ( Front page of Moodle). We originally did this because everyone has â€œrightsâ€ into this page so everyone can see all the quizzes and images associated with the questions. Now we know the drawback to this. The reason is that when you do backups of your classes and restore them later, every single quiz that each class links to will recreate the quiz with all its questions within its own category for the class. Everyone get that? All the questions and everything!! Therefore you get multiple occurrences of every quiz. The better solution would be to build a meta â€œRepositoryâ€ class and build all your quizzes within this class. When you do a backup of the classes that link to these quizzes on a restore they will not duplicate all the quizzes and questions within their own class categories. They donâ€™t try to â€œownâ€ the quizzes and questions. The META label takes care of this. So, inside the â€œRepositoryâ€ class, you build your quizzes and questions, and of course the link to each quiz, just as if you were doing a class. The only difference is that you utilize â€œtopicsâ€ for your setup of the class and build the quiz links in the topics windows after the #1 topic window. Then in the setups you hide everything after topic window #1. The students can open the Meta course, but there is nothing to see except my note to them that this is just a holding area and students can not access anything within. They get the picture fairly quickly and go back to their class assignment. Just keep in mind that the Meta class must be accessible to students in order for them to see the quizzes and their associated images. I certainly wished I had understood this better when we had to rebuild our Moodle site. Or at least this is what I thinkÂ I understand at this point in time. Someone should add bits and pieces of this to Moodle Docs .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 9, 2008, 1:46 AM",
          "AuthorName": "Bill Click",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=28422&course=5",
          "role": [
            "Picture of Bill Click"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 118318,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=118318",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Course restore stalls during unzip process",
          "Text": "I've restored courses without a problem before but now all of a sudden when I try to restore this particular course, it stalls at this point: Creating temporary structures\nDeleting old data\nCopying zip file\nUnzipping backup\nChecking for BlackBoard export\nChecking backup\nReading info from backup This is as far as the file gets.Â  It's 18.5MB and my upload limit is set at 50MB. My Moodle site sits on a virtual server . Not sure if this might be the cause of something. Can anyone offer some ideas please?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 9, 2009, 11:25 PM",
          "AuthorName": "Gina Loveless",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=263568&course=5",
          "role": [
            "Picture of Gina Loveless"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course restore stalls during unzip process",
          "Text": "I am having the issue. Help please",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 30, 2009, 2:33 AM",
          "AuthorName": "Moodle Bird",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=257905&course=5",
          "role": [
            "Picture of Moodle Bird"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course restore stalls during unzip process",
          "Text": "Hi Did anyone find a resolution to this issues. Â Running into the same problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 2, 2011, 9:46 PM",
          "AuthorName": "Petrus 4",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=53361&course=5",
          "role": [
            "Picture of Petrus 4"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 72714,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=72714",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Help for restoring associations with course_modules",
          "Text": "Hi, the problem is : I've got a module that performes its own restore as required : restores main record (mymodule table) restores linked sub-records (other mymodule_tables) remaps some foreign key from sub-records to newer records (users, mymodule new instance) Now I need to remap references to some course_modules within the course, potentially inserted after this module in the course sequence. I need also to grep/replace some known expression within the content ofÂ restored resources in the course. The fear I have is that the backup_ids table do not already have the new ids for these course_modules, nor can be aware of the future renumbering of resources. Does someone have any strategy for this ? Is it reasonable to make changes directly in $info extraction array ? Should we rely on a \"post processing\" of theÂ course information using a cron job ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 30, 2007, 11:03 PM",
          "AuthorName": "Valery Fremaux",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=34826&course=5",
          "role": [
            "Picture of Valery Fremaux"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 210599,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=210599",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "2.3.1+ - Restore Removing Users/Data",
          "Text": "Hi, We've recently upgraded to 2.3.1+ and I've noticed a significant difference in the course restore process. When restoring a course from an .mbz file, despite asking to have user data included, enrolled users and all the information about their activities fails to be included. Am I missing something simple? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 5, 2012, 7:08 PM",
          "AuthorName": "Matt Bowler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=989775&course=5",
          "role": [
            "Picture of Matt Bowler"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 183715,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=183715",
      "NoOfResponses": 19,
      "ResponsesInList": [
        {
          "Title": "Automatic Backup stopped working",
          "Text": "Hi all, Until yesterday the automatic backup did a proper job. Then, it stopped working, but I donâ€™t know why. There is no email notification either. I can still manually backup courses, but I would like to have the function working again. Can anybody tell me where I can find an error log or how to find out what blocks the automatic backup running at all? Even if I can do everything else, the failed automatic backup seems to indicate that something is no longer okay. With kind regards, Hartmut",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 21, 2011, 1:53 PM",
          "AuthorName": "Hartmut Scherer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=441502&course=5",
          "role": [
            "Picture of Hartmut Scherer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "Moodle 2.0.x now 2.0.2 has been working fine for automatic backups from jan 2011 until 2 days ago.Â  I am not sure why it stopped and I am looking at the logs and changes to courses on that day.Â  No e-mail is sent and if anyone has any suggestions to how to find a solution to this problem I would greatly appreciate it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 21, 2011, 9:41 PM",
          "AuthorName": "Beth Bains",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=839036&course=5",
          "role": [
            "Picture of Beth Bains"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "Hi Beth, Can you still manually backup the courses? In my case cron is still running, emails are sent and I can manually backup courses, but the automatic backup is no longer working. Like you, I don't know where to find the error log or how to find the troublemaking activity or resource in Moodle 2.0.3. I am puzzled that the backup can be done manually, but not with the automatic backup feature. If anyone could indicate where to look for, I would really appreciate this. With kind regards, Hartmut PS. I set Debugging to on and found in two courses error messages.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 22, 2011, 5:43 AM",
          "AuthorName": "Hartmut Scherer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=441502&course=5",
          "role": [
            "Picture of Hartmut Scherer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "I can still manually backup and the cron is working ok for everything else.Â  I am trying to see if setting the backup to manual and then also run a cron just for the backup tonight to see if that works.Â  The rest of the site is working ok and is in use, I saw in the backup report that one class did not finish the other night when it stopped so I have increased the memory limit to see if that helps.Â  The site has increased in the amount of users and the course it hung up on has some links to videos and an embedded video which where there when it worked.Â  nothing has been added to courses or new courses since before it quit working.Â  There were some added a few days before it quit.Â  I also checked the table in the database to see when it last backed up.Â  Much more convenient to have the automatic backups than to do it manually. What were the course error messages you found?Â  I have not found any so far on my site. Thank you, Beth",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 22, 2011, 9:02 AM",
          "AuthorName": "Beth Bains",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=839036&course=5",
          "role": [
            "Picture of Beth Bains"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "I have not found any errors in courses and have looked at error logs and cannot see any errors when I have debuggin turned on.Â  Had other errors over time get logged ok in moodle.Â  Has anyone who has had this problem got a solution?Â  I can backup each course manually and it just eh autobackup that has now failed and the backup report had it as one course unfinished and it never sent e-mail and e-mail is working ok for other things such as failed logins etc.Â  Anybody have an ideas on where to look to fix this error?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2011, 9:04 AM",
          "AuthorName": "Beth Bains",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=839036&course=5",
          "role": [
            "Picture of Beth Bains"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "I have had this happen too. I went into the database and cleared out the backup logs and the backup controllers tables and then they seemed to run ok after that. Â Sometimes, something corrupts in one course during a backup and shuts it all down, as far as I can tell. Â Make copies of your tables as a precaution before flushing them but I have not killed anything yet doing this!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 24, 2011, 8:36 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "Hi Emma, Thank you for answering the question about automatic backups which just stop without giving any error message. I wanted to flush controllers, but I was hindered to do this. This is the message that I received: \" Access denied; you need the RELOAD privilege for this operation \" How can I change my privileges for this operation? I was never asked before to do this. We are on a shared hosting server and from my short research If found out that I probably need SSH access to the server, which I do not have. Can you help me, please? With kind regards, Hartmut",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 26, 2011, 12:10 PM",
          "AuthorName": "Hartmut Scherer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=441502&course=5",
          "role": [
            "Picture of Hartmut Scherer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "Update: I switched to manual backup and followed the advice that was given in this discussion .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 26, 2011, 3:04 PM",
          "AuthorName": "Hartmut Scherer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=441502&course=5",
          "role": [
            "Picture of Hartmut Scherer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "Hartmut, Interesting. That is the discussion I started, but I have not gotten any relief on this issue. What was it you did that helped?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 30, 2011, 3:28 AM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "Hi Doug, Sorry for the delayed answer. I didn't check this thread again. Emma's advice helped me: \" I would just go into the database and change the setting on the auto_backup_running to 0. Â This will get them to run again. Â This setting is found in the mdl_config_plugins table. \" I had to do this several times. With kind regards, Hartmut",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 11, 2011, 7:14 AM",
          "AuthorName": "Hartmut Scherer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=441502&course=5",
          "role": [
            "Picture of Hartmut Scherer"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "Hartmut, Thank you. Actually, I got things working a different way. This is what I concluded: \"They worked! Nevertheless, the CRON job that is running from my host , using the command line method, is back to the original error message on line 338. The ONLY thing that I changed was changing my automated backups from manual (according to MoodleDocs , this method is for command line running) back to automatic. Now that they are automatic, and running them from the browser, produces the expected result.\" I think it has to do with resetting from a manual CRON to an automatic CLI CRON. This has the effect of resetting the backups. At least it worked for me. The entire discussion is at http://moodle.org/mod/forum/discuss.php?d=185012",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 12, 2011, 2:09 AM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "Do we know where the equivalent setting would be for a Moodle 1.9.1 because my Moodle has also mysteriously stoped autobacking up as well, after years of trouble free backing up. I've clutched every straw that I can find and the above seems plausible, I just don't know where it is / which table becasue it isn't in mdl_config_plugins. Thanks Heather",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 21, 2013, 9:15 PM",
          "AuthorName": "Heather P",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45897&course=5",
          "role": [
            "Picture of Heather P"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "In any/all postings of issues, would be nice to get some basic information concerningÂ  system: OS, standalone/remotely hosted, etc.Does make a difference in answers.Â  So given the info you've shared: In a 1.9.19+ version of Moodle, there are a few tables related to backup: mdl_backup_config - this table is related to the backup settings - ie what to include in the backups. Backups have to be built.Â  Moodle uses /moodledata/temp/backup/ as the build area.Â  With whatever you have to browse files on the system, check that folder out.Â  There might be .log files which could provide clues.Â  Also, if running automated backups to an alternative directory, check that directory for backup files.Â  Moodle uses 'copy' rather than 'move' routine to take the built backup from the building folder to the destination folder.Â  With some operating systems, the copy routine cannot copy a zip file larger than 4 Gig.Â  TheÂ  backup files are there and can be moved (manually) to another location. IF your moodle is on a system that has partitions, is the partition upon which the alternative backup location full? 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 21, 2013, 10:47 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "Thank you. Managed to check those settings in my databases ( MySQL ) they all seem fine so it isn't that. I'm on WIndows 2008 R2 servers and I have plenty of avaiable space for the backups to go to. There are no .log files in the suggested location, in fact ther is nothing in moodledata/temp/backup folder. Nothing I can see will exceed 4 gig. There is nothing in any logs that I can find, it just looks like the process isn't starting rather than it is failing after it has started. All very strange. Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 22, 2013, 7:17 PM",
          "AuthorName": "Heather P",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45897&course=5",
          "role": [
            "Picture of Heather P"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "If you run cron manually from the browser, it should tell you why it is stopping..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 22, 2013, 8:38 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "It doesn't tell me why it is stopping. The output just stops on the section 'Checking forum module for additions.' It does 72 adds after that and just stops, nothing else to see. So it is never even reaching the bit that says 'Starting processing the event queue' so it never gets to the bit Â 'Running backups if required'. Is there a time limit on how long the cron will run before it just crashes out. Maybe I'm timing out?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 22, 2013, 9:31 PM",
          "AuthorName": "Heather P",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45897&course=5",
          "role": [
            "Picture of Heather P"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "I don't have time to find it but there is a way to just run the backup manually through terminal - perhaps someone here can let you know. Â It almost sounds like something else is hanging cron and maybe the backups aren't actually the problem at all.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 23, 2013, 12:33 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "'timing out' is a possibility ... what is setting in php.ini for max_execution_time, max_input_time, max_input_vars, memory_limit? Location of cli script: moodlecodefolder/admin/cli/automated_backups.php says to run as apache user and in the script provides this as example (for Linux systems that use sudo): Example: \\$sudo -u www-data /usr/bin/php admin/cli/automated_backups.php On Windows machines, not sure what would be required to run it via command line - or if one could.Â  At one time, the cli directory scripts were said to be linux only. That being said, however, I run as root user (not sudo) and here's what it looks like (live/real server, BTW ).Â  Note that if autobackups are scheduled running cli auto backups will just get notification of when the backups are scheduled to run.Â  Any course that has not been modified in the last X days (an option moodle admin can set), the course won't be backed up.Â  More comments following example below: [root@sos cli]# php automated_backups.php Server Time: Fri, 22 Mar 2013 13:59:35 -0500 Checking automated backup status...OK Getting admin info Checking courses Skipping deleted courses...0 courses Running required automated backups... Backing up Moodle24... complete - next execution: Sat, 23 Mar 2013 02:55:00 -0500 Backup of 'Course Test of Backup' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping Course Test of Backup (Not modified in the past 5 days) Backing up Tinker... complete - next execution: Sat, 23 Mar 2013 02:55:00 -0500 Backup of 'Sandbox Course for Restricting Students (scars)' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping Sandbox Course for Restricting Students (scars) (Not modified in the past 5 days) Backup of ' upload ' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping upload (Not modified in the past 5 days) Backup of 'Creating Student e-Portfolios with Google Sites' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping Creating Student e-Portfolios with Google Sites (Not modified in the past 5 days) Backup of 'History10' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping History10 (Not modified in the past 5 days) Backup of 'Mathematics Standard Y10' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping Mathematics Standard Y10 (Not modified in the past 5 days) Backup of 'Business Services year 11 2012' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping Business Services year 11 2012 (Not modified in the past 5 days) Backup of 'English' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping English (Not modified in the past 5 days) Backup of 'SA' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping SA (Not modified in the past 5 days) Backup of 'xfer' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping xfer (Not modified in the past 5 days) Backup of 'iPads 101' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping iPads 101 (Not modified in the past 5 days) Backup of 'iPads 101 copy 1' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping iPads 101 copy 1 (Not modified in the past 5 days) Backup of 'M2 GBU!' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping M2 GBU! (Not modified in the past 5 days) Backup of 'Kens Moodle FP resources' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping Kens Moodle FP resources (Not modified in the past 5 days) Backup of 'Advanced Moodle Administration (Linux)' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping Advanced Moodle Administration (Linux) (Not modified in the past 5 days) Backup of 'Shelly Test' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping Shelly Test (Not modified in the past 5 days) Backup of '1.9 Test without course_files' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping 1.9 Test without course_files (Not modified in the past 5 days) Backup of 'M2 GBU! copy 1' is scheduled on Sat, 23 Mar 2013 02:55:00 -0500 Skipping M2 GBU! copy 1 (Not modified in the past 5 days) Backing up MR Sandbox... complete - next execution: Sat, 23 Mar 2013 02:55:00 -0500 Sending email to admin Automated backups complete. Automated cron backups completed correctly Execution took 7.87399 seconds To get this to run where I could see it run, I had to set the cron job to run at a time slightly in the future ... save 5 minutes from the current time ... and then, from the command line, start executing the script just after the time for cron to run. Once I saw it work/execute ... checked the alternate directory for presence of backups and if that had worked ok, reset the time for cron to run to something sensible ... wee hours of AM - non prime time for not only Moodle usage but for any other automated/scheduled process server might be scheduled to do - like rotate logs (which, on a Linux box would also cause a re-start of services), doing my sql dumps, etc... 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 23, 2013, 3:13 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automatic Backup stopped working",
          "Text": "Have to confess (sorry, sometimes seeing is knowing where to go/try next) ... tried running your cron remotely and it said backups weren't scheduled.Â Â  It did, however, complete.Â  I ran the cron in what appears to be non-prime time for your location.Â  Running cron and scheduling something heavy on processing (like auto backups) during 'prime time' for other server processes, is something that might cause things to fail. Check scheduling of everything.Â  Not only Moodle, but OS/Server. The backup process still needs a temporary area in which to build backup files.Â  Check your operating system temp variable and whatever that's set to check the folder being used.Â Â  Check to see if what is written to that temp area can be copied back into moodledata/filedir/ Check php.ini settings for things related to temp. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 23, 2013, 2:22 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 136499,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=136499",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup Problems",
          "Text": "Hi all, I've been having issues with the automated backup procedure within Moodle. The server is Linux (CentOS) based with MySQL , PHP and Apache . Bascally, I have setup a SAMBA share for the backup on one of our Windows Servers for the backup. When I manually execute the cron.php, the backup works correctly. All the Zip fies for all of the courses are created and I am able to restore without a problem. However, the automated backup just does not happen at all. Previously, Moodle was installed on the same server with Fedora Core 9. As far as I can see, I've setup the backup in the same manner as on the previous server. I have also tried to manually setup a cronjob which will not execute at the given times. Any ideas as to why the automated backup is not working would be greatly appriciated. Regards, Rick Hutchence",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 29, 2009, 7:55 AM",
          "AuthorName": "Rick Hutchence",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=647578&course=5",
          "role": [
            "Picture of Rick Hutchence"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 389608,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=389608",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Moodle  size is too large",
          "Text": "HI, I'm usingÂ  Moodle version 3.6.1 on my PC, I have some courses in that I have files like pdfs, videos, nearly all type of files. with all the data my moodle size is 87Gb. Later I deleted some content up to 20Gb. and added new content 30GB with the old version(2.4)backup files. So now my file size needs to be 117GB approximately. But it shows that my moodle file size is 167GB. in moodledata folder. I tried to solve but not happened by running cron, deleting temp. How it can be possible ?? I don't understand, can somebody help me with this.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 14, 2019, 2:04 AM",
          "AuthorName": "praveen kota",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2625715&course=5",
          "role": [
            "Picture of praveen kota"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Moodle  size is too large",
          "Text": "Hi, Do you've the recyclebin system on ? Maybee all your deleted files are kept for one more week in Moodle. /admin/settings.php?section=tool_recyclebin Dominique.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 14, 2019, 9:27 PM",
          "AuthorName": "Dominique Palumbo",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2419605&course=5",
          "role": [
            "Picture of Dominique Palumbo",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle  size is too large",
          "Text": "Thanks for your replay No, IÂ  don't have it. Today I did the backup of some content and downloaded on moodledata/temp/backup. Now my moodle size is 187Gb later I deleted all files from moodledata/temp/backup. which I have downloaded today. later I ran the cron. now my file size is 174GB. how it possible what action I did is download backup file (.mbz) and deleted what I have downloaded so it should have 167GB but it showing 174GB and I'm not able to see my old content in moodledata folder but the size is still 174GB please see the attachment file",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 15, 2019, 2:56 AM",
          "AuthorName": "praveen kota",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2625715&course=5",
          "role": [
            "Picture of praveen kota"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle  size is too large",
          "Text": "Hi, You can perhaps find useful information about deleted files and disk space not recovered in MDL-25592 .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 20, 2019, 8:59 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle  size is too large",
          "Text": "recycle bin is in auto hide mode when it was empty. update on my problem i deleted all my backup files (.mbz) from my moodle site now my moodle size is 149GB. previously it was 174GB still it need to reduce the size upto 100GB-110GB. what i can do more.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 21, 2019, 2:35 PM",
          "AuthorName": "praveen kota",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2625715&course=5",
          "role": [
            "Picture of praveen kota"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle  size is too large",
          "Text": "```text\nHello, could you solve it?\nMy courses are growing in an exaggerated way and I can not find a reason, I have 10 gigabyte courses\n```",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, June 1, 2020, 11:09 PM",
          "AuthorName": "Nelson C",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=285439&course=5",
          "role": [
            "Picture of Nelson C"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 375209,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=375209",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "The uploaded file exceeds the upload_max_filesize directive in php.ini.",
          "Text": "Hi, I rebuilt my moodle site. I move from Ubuntu 14 to 16, upgraded by moodle from 3.3 to 3.5 and changed my domain name. All went well. Prior to rebuilding, I backed up my course and question banks. I'm having trouble importing one of my course and one of my question banks. I get the following message: The uploaded file exceeds the upload_max_filesize directive in php.ini. I changed the max file size using the following: sudo vi /etc/php/7.0/cli/php.ini I changed it from 2 M to 5 M and this made no difference. (I rebooted to make sure the change took effect). Any suggestions on how to either increase the size limiit or an alternative way to upload my course and question bank to the site? Thanks Terry",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 29, 2018, 12:42 PM",
          "AuthorName": "Terry David",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1928409&course=5",
          "role": [
            "Picture of Terry David"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: The uploaded file exceeds the upload_max_filesize directive in php.ini.",
          "Text": "You have to change both the upload file size and the post max size...make sure the changes are reflected in your php settings in moodle.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 29, 2018, 8:24 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: The uploaded file exceeds the upload_max_filesize directive in php.ini.",
          "Text": "I changed both those values ( file size and post max size) in the file to 20M and I'm getting the same problem. I rebooted the server after making the changes. The file I'm trying to import in one instance is only 3 M.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 30, 2018, 9:07 AM",
          "AuthorName": "Terry David",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1928409&course=5",
          "role": [
            "Picture of Terry David"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: The uploaded file exceeds the upload_max_filesize directive in php.ini.",
          "Text": "It seems that no matter what I do with the php.ini file the changes are not taking effect. When I go to php info on the site its still has the fault values. Is there another way to push my files to the server? Terry",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 30, 2018, 2:21 PM",
          "AuthorName": "Terry David",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1928409&course=5",
          "role": [
            "Picture of Terry David"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: The uploaded file exceeds the upload_max_filesize directive in php.ini.",
          "Text": "Hi, If PHP Info doesn't show the values you put in php.ini file, it's certainly because PHP (used by Moodle) is not using this php.ini file . You should seek information about the good php.ini file where to make the changes. SÃ©verin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 30, 2018, 4:29 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: The uploaded file exceeds the upload_max_filesize directive in php.ini.",
          "Text": "Ok so I resolved the problem. Apparently there are two php.ini files. The one that had to be changed was in the apache2 directory. Terry",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 30, 2018, 5:11 PM",
          "AuthorName": "Terry David",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1928409&course=5",
          "role": [
            "Picture of Terry David"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 227834,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=227834",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Possible to Backup a Course Removing Questions/Categories?",
          "Text": "There are some courses that I am working with that have hundreds of quiz questions. Some of these courses can take over 30 min. to restore. In some cases, I only need parts of the course. When I restore/import a course even without quizzes, all of the questions come over to the backup file or new course which causes it to take a long time. What I would really like to do is have the option to removed particular questions/categories from the backup process in the same way that I can select which course Assignments/Resources are included. Is this possible? I've had some success editing the moodle. xml file in a 1.9 backup (takes quite a while sometimes), but not so successful rezipping an MBZ backup after removing the questions/categories.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 4, 2013, 3:58 AM",
          "AuthorName": "Jon Fila",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=672432&course=5",
          "role": [
            "Picture of Jon Fila"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Possible to Backup a Course Removing Questions/Categories?",
          "Text": "I can add that even backing up a single quiz as an activity will still include all of this unnecessary information. This can cause the restore process to last 20 min. or more for just one quiz because it's trying to re-create all of those other items.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 7, 2013, 12:00 AM",
          "AuthorName": "Jon Fila",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=672432&course=5",
          "role": [
            "Picture of Jon Fila"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 3103,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=3103",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Blogs in Moodle",
          "Text": "We are a development team working on adding blog functionality to moodle does anyone have any ideas on this subject",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 22, 2003, 3:12 PM",
          "AuthorName": "ben simpson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=8665&course=5",
          "role": [
            "Picture of ben simpson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Blogs in Moodle",
          "Text": "See this bug open about it: http://moodle.org/bugs/bug.php?op=show&bugid=285 And various mentions in the forums: http://moodle.org/mod/forum/search.php?search=blog&id=5",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 22, 2003, 4:23 PM",
          "AuthorName": "Martin Dougiamas",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1&course=5",
          "role": [
            "Picture of Martin Dougiamas",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Blogs in Moodle",
          "Text": "Ben, Have you made any progress? I have been working on integrating simplog ( www.simplog.net ) into moodle and having some success. As a starting point I have been concentrating on the member. Each user/member gets their own personal blog. They can post on categories of their own definition or categories created by a site admin. At the moment I have user login, basic blog administration for user settings, and rss feeds working. There's still a ways to go and I could use some assistance moving forward. Still lots of work to be done on converting php sql calls to moodle sql calls and other areas. Daryl",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 12, 2004, 5:11 AM",
          "AuthorName": "Daryl Hawes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7494&course=5",
          "role": [
            "Picture of Daryl Hawes"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 318074,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=318074",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "mbz file is not regognised by Moodle",
          "Text": "Using Moodle 2.87 I have made a backup of a course (.mbz), downloaded, then changed extensionÂ  to .zip and unzipped. Made some translations and zipped again, then extensions changed to .mbz. The problem is that when uploaded for restoring, a message appears that it is not a Moodle file What I'm doing wrong?Â  Where could be the problem? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 10, 2015, 11:36 PM",
          "AuthorName": "Bernat Martinez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=92175&course=5",
          "role": [
            "Picture of Bernat Martinez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: mbz file is not regognised by Moodle",
          "Text": "I answer my self Before I zipped the directory , now I select all the files and zip them and in this way it works.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 11, 2015, 1:06 AM",
          "AuthorName": "Bernat Martinez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=92175&course=5",
          "role": [
            "Picture of Bernat Martinez"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 274765,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=274765",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Cannot restore course Undefined property: stdClass::$shortname",
          "Text": "Hi, I am trying to restore a course and I get the following errors Notice: Undefined property: stdClass::$shortname in /content/web/moodle.lll.unic.ac.cy/moodle/availability/classes/info.php on line 538\n\nNotice: Undefined property: stdClass::$shortname in /content/web/moodle.lll.unic.ac.cy/moodle/availability/classes/info.php on line 538\n\nNotice: Undefined property: stdClass::$shortname in /content/web/moodle.lll.unic.ac.cy/moodle/availability/classes/info.php on line 538\nError writing to database More information about this error Does anyone know how to fix this? THank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 10, 2014, 9:36 PM",
          "AuthorName": "Christos Savva",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1466152&course=5",
          "role": [
            "Picture of Christos Savva"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 115259,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=115259",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Ninehub Restore Issues",
          "Text": "I'm using Ninehub as my course server .Â  Whenever I restore from a backup (new course, or extisting) all the the labels and webpages restore with the html code (minus <>) showing on the page rather than the pretty formated text. I understand from a search of Moodle support that this is due to a server issue.Â  But Ninehub won't respond to any of my emails.Â  Is anyone else having this problem?Â  At this point, I have no useable backup for any courses because I have to recreate almost EVERY page!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 1, 2009, 1:25 AM",
          "AuthorName": "Cynthia McKinley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=711187&course=5",
          "role": [
            "Picture of Cynthia McKinley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 322381,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=322381",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restoring a Course to Amazon",
          "Text": "I am currently using Amazon Web Services for my Moodle 2.9.2+ database . Â Everything seems to work except the Site or Course Administration Restore Page and Site Administration Install Plugins. What do I need to do to fix.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 29, 2015, 11:58 PM",
          "AuthorName": "Eric Brass",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1841687&course=5",
          "role": [
            "Picture of Eric Brass"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring a Course to Amazon",
          "Text": "I updated the moodle to the most current version and this fixed the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 30, 2015, 5:40 AM",
          "AuthorName": "Eric Brass",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1841687&course=5",
          "role": [
            "Picture of Eric Brass"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 4519,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=4519",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Restore",
          "Text": "I tried to restore a file on a new server with Moodle 1.2 installed. The original site also had Moodle 1.2 Dev. and I got the following error: I tried it a second time and said not to add users data but still got the same error. The course restores fine on my other servere. Course restore: backup-c08-2-20030830-0103.zip Creating new course Information Technology 8 Term 1 (C08-2) Category: Miscellaneous Creating sections Creating users . Could not restore users. An error has occurred and the restore could not be completed! Continue",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 13, 2004, 3:03 PM",
          "AuthorName": "Jacob Romeyn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2&course=5",
          "role": [
            "Picture of Jacob Romeyn"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore",
          "Text": "I found the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 14, 2004, 1:12 AM",
          "AuthorName": "Jacob Romeyn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2&course=5",
          "role": [
            "Picture of Jacob Romeyn"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore",
          "Text": "Is that in the root config.php you are talking about.Â  Mine is set to the appropriate upload folder, and I still get the same error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 14, 2004, 2:38 AM",
          "AuthorName": "Boyd Mitchell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6430&course=5",
          "role": [
            "Picture of Boyd Mitchell"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore",
          "Text": "YesÂ  the config.php in the root directory.Â  The importance is that the name and location of the upload directory is the same on both servers. InÂ  the instance when my problem started was when I backed up a course from a server with the upload directoryÂ  and location as : /home/moodledata to a server with upload directory and location at: /home/moodle/uploaddata . After I made them both the same, everything worked great.Â Â  Hope this helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 14, 2004, 5:51 AM",
          "AuthorName": "Jacob Romeyn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2&course=5",
          "role": [
            "Picture of Jacob Romeyn"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore",
          "Text": "Well I did a backup from Server A and tried to restore the course on Server A..(same server) and it didn't work.Â  And IÂ have no idea why.Â  So, the backup should have the Exact same upload directory, as the restore.Â  right? I also tried it from a different server, but the problem exists inÂ both cases. By the way, thanks for helping",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 14, 2004, 6:00 AM",
          "AuthorName": "Boyd Mitchell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6430&course=5",
          "role": [
            "Picture of Boyd Mitchell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 199345,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=199345",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Shift course Between Moodles, users & posts",
          "Text": "I will try this with a dummy course, but the documentation didn't seem to answer my question: If we start a course now on a borrowed Moodle 2.2.1 (which we have) can we shift all the content [uncluding user accounts and forum posts] to another Moodle 2.2.1 using backup and restore? I think we can. BUT: What happens if there is a clash of usernames? What happens to passwords?Â  Are they migrated as well? -Derek Back to BAU after reading the many many posts on the Bb purchase of 2 Moodle Partners.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 28, 2012, 4:04 AM",
          "AuthorName": "Derek Chirnside",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=191052&course=5",
          "role": [
            "Picture of Derek Chirnside"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 114708,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=114708",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "The required instance of this module doesn't exist",
          "Text": "I've searched and searched to see if info on this already exists in the forums nothing shows up. When I restore a course none of links ot assignments have any text by them, and when I try to edit them, I get the following error message: \"The required instance of this module doesn't exist.\" Can anyone help or direct me to a place on Moodle forums or someone who can? I've been struggling with this for days now. Thanks. David B.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 25, 2009, 3:19 AM",
          "AuthorName": "David Briscoe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=81758&course=5",
          "role": [
            "Picture of David Briscoe"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: The required instance of this module doesn't exist",
          "Text": "the same happned to me not a month ago when restoring courses from a different server . Luckily for me, it was a test and restoring them to a new 1.8.4 install worked with no problems. But I'll still be very interested to see why does this happen and how to solve it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, January 25, 2009, 4:12 AM",
          "AuthorName": "JerÃ³nimo VisÃ±ovezky",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=176871&course=5",
          "role": [
            "Picture of JerÃ³nimo VisÃ±ovezky"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 113878,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=113878",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "How can enrollment plugin backup&restore?",
          "Text": "Hi everybody, I'm Jordi again :-o I'm trying to modifycate enrollment plugin to use templates when creating courses. This is already do it for the IÃ±aqui Arenaza's plugin but in other way. In IÃ±aqui's plugin: Plugin create a new course with a copy of data of the template course (data stored on mdl_course table), but it don't copy any module, files, etc. In modifycated plugin I need that the created course by plugin to be a copy of template course, all its modules, name of its topics, course files, etc. (all except students data)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 14, 2009, 12:21 AM",
          "AuthorName": "Jordi MartÃ­nez",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=28029&course=5",
          "role": [
            "Picture of Jordi MartÃ­nez"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 53708,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=53708",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Fatal error: Maximum execution time",
          "Text": "Please help. When I upload powerpoints and larger files, but still under the set limit, I encounter the following after some time (see beloe). This is from home and at school and several users. The folders that store the info are not full. Fatal error : Maximum execution time of 0 seconds exceeded in c:\\program files\\easyphp1-8\\www\\moodle\\files\\index.php on line 10 Any help would be great, Chad",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 11, 2006, 2:57 PM",
          "AuthorName": "Chad Evans",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=115512&course=5",
          "role": [
            "Picture of Chad Evans"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 71648,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=71648",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore only brings in topic titles",
          "Text": "I've tried restoring a course and all I get are the topic labels - no course data or activities or anything.Â  Yet if I look in the moodledata folders for the course then materials (PDFs etc) have been copied. I've had this problem on 1.5.3 but 2nd attempt rectified.Â  Now trying to move a course from our 1.5.3 installation to a different installation of 1.8 to demo the courses (local laptop install) the same thing is happening - I get the label but no activities. Looks like I'm not the only person having this problem - but very few responses here???",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 16, 2007, 8:17 PM",
          "AuthorName": "Steve Wright",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=85834&course=5",
          "role": [
            "Picture of Steve Wright"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore only brings in topic titles",
          "Text": "Hi Steve, I'm not sure if you've found a solution but I had the exact opposite problem as yours. I had the icon, activities in the database tables, but no label. I looked for 3rd party modules, then when I finally tried backing up only my activities with no user data I was successful. Beyond that I don't know how much assistance i can be as I'm pretty new to moodle, Heather",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 24, 2007, 8:12 PM",
          "AuthorName": "Heather Barton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=263811&course=5",
          "role": [
            "Picture of Heather Barton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 427192,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=427192",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Ok to delete mdl_task_adhoc",
          "Text": "Hi all, I'm on moodle 3.5, php 7.0.33, ubuntu 16.04.16. It's an internally hosted site I took over a couple of years ago and we plan to move to external hosting/management but recent events have delayed this. Just to explain why it's quite old. My sql experience was with a small site over 15 years ago, linux experience equally old, moodle admin experience not at all. I've got a dev server which is a clone from Feb 2020 of the site when we moved it to a larger virtual server. At the start of term we were hit by the 'recycle bin' variant of runaway auto backups on the live site. Diagnosed thanks to the information on this site. It was caused when a couple of users deleted folders with 10-20 media files in. The recycle bin timed out (not sure which) and I've now four tasks in mdl_task_adhoc. running every 24 hours and filling /temp/backup. id: 75806, id 75807 and id 76808 are the page object from the course 465, 109614 was a folder (I think). Deletioninprogress is set to 1 andÂ  I think failing because the original objects don't exist on the course anymore. Am I ok to delete these tasks? And how do I do it! I've got access to toad for mysql . I've emptied the bin for all the courses, set the recycle bin off, let it run through a few cron jobs, then switched it back on. It was set to empty after 14 days and I've reduced it to 7. I've been unable to replicate the problem on the dev server. The only differences between the sites is the live site has more activities on it, and is not as up to date on server patches. id component classname nextruntime faildelay customdata 6709 \\core_course\\task\\course_delete_modules 1632304427 86400 {\"cms\":[{\"id\":\"75806\",\"course\":\"465\",\"module\":\"15\",\"instance\":\"595\", \"section\":\"83553\",\"idnumber\":\"\",\"added\":\"1536525012\",\"score\": \"0\",\"indent\":\"0\",\"visible\":\"1\",\"visibleoncoursepage\":\"1\",\"visibleold\" :\"1\",\"groupmode\":\"0\",\"groupingid\":\"0\",\"completion\":\"0\", \"completiongradeitemnumber\":null,\"completionview\":\"0\", \"completionexpected\":\"0\",\"showdescription\":\"0\", \"availability\":null,\"deletioninprogress\":\"1\"}],\"userid\":\"46\", \"realuserid\":\"46\"} 6710 \\core_course\\task\\course_delete_modules 1632304461 86400 {\"cms\":[{\"id\":\"75807\",\"course\":\"465\",\"module\":\"15\",\"instance\":\"596\", \"section\":\"83553\",\"idnumber\":\"\",\"added\":\"1536525012\",\"score\": \"0\",\"indent\":\"0\",\"visible\":\"1\",\"visibleoncoursepage\":\"1\", \"visibleold\":\"1\",\"groupmode\":\"0\",\"groupingid\":\"0\",\"completion\": \"0\",\"completiongradeitemnumber\":null,\"completionview\":\"0\", 6711 \\core_course\\task\\course_delete_modules 1632304537 86400 {\"cms\":[{\"id\":\"75808\",\"course\":\"465\",\"module\":\"15\",\"instance\":\"597\", \"section\":\"83553\",\"idnumber\":\"\",\"added\":\"1536525012\",\"score\": \"0\",\"indent\":\"0\",\"visible\":\"1\",\"visibleoncoursepage\":\"1\", \"visibleold\":\"1\",\"groupmode\":\"0\",\"groupingid\":\"0\",\"completion\": \"0\",\"completiongradeitemnumber\":null,\"completionview\":\"0\", \"completionexpected\":\"0\",\"showdescription\":\"0\",\"availability\": null,\"deletioninprogress\":\"1\"}],\"userid\":\"46\",\"realuserid\":\"46\"} 7140 \\core_course\\task\\course_delete_modules 1632268438 86400 {\"cms\":[{\"id\":\"109614\",\"course\":\"21\",\"module\":\"8\",\"instance\":\"9158\", \"section\":\"73435\",\"idnumber\":\"\",\"added\":\"1602693874\",\"score\": \"0\",\"indent\":\"0\",\"visible\":\"1\",\"visibleoncoursepage\":\"1\",\"visibleold\" :\"1\",\"groupmode\":\"0\",\"groupingid\":\"0\",\"completion\":\"0\", \"completiongradeitemnumber\":null,\"completionview\":\"0\", \"completionexpected\":\"0\",\"showdescription\":\"0\", \"availability\":null,\"deletioninprogress\":\"1\"}],\"userid\":\"14\", \"realuserid\":\"14\"}",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 22, 2021, 5:00 PM",
          "AuthorName": "Angela Rosin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3325276&course=5",
          "role": [
            "Picture of Angela Rosin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Ok to delete mdl_task_adhoc",
          "Text": "I suspect you are correct about that: these tasks are orphaned for some reason. There are some interesting discussions in the forums about different causes of this error: eg. https://moodle.org/mod/forum/discuss.php?d=381910 and https://moodle.org/mod/forum/discuss.php?d=346326 If the relevant courses 465 and 21 are definitely deleted from the recycle bin (check in the table mdl_tool_recyclebin_course) but the course module in question still exist in the then this could be caused by something else. In the two forums above there was an issue in the cron due to the presence of other plugins such that these tasks did not get processed as they should. To see the details of how this works, take a look at this tracker where the process was hashed out right after the recycle bin came along in core: https://tracker.moodle.org/browse/MDL-54751",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 23, 2021, 3:51 AM",
          "AuthorName": "Randy Thornton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88992&course=5",
          "role": [
            "Picture of Randy Thornton"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ok to delete mdl_task_adhoc",
          "Text": "Ok, that's interesting, and very useful. I hadn't picked up on those discussions with my search, possibly because they sat in general, not backup and restore. Courses 465 and 21 still exist. It's the activities 7506/7/8 that no longer exist on the course... I guess next step is to drill through my database and see if they exist anywhere still. So I followed the steps re: recycle bin here: https://moodle.org/mod/forum/discuss.php?d=364963 . I've seen some discussion on editing this to remove modules causing errors if it was gradebook (just the id for that). At the moment I'm tempted to just change the unix timestamp and give myself some time to work out if I can delete safely. I should probably mention that we have autobackup for course set off (we run a nightly site backup) and the previous admin set the config options so any manual backups go to course backup area not a specified file location.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 23, 2021, 3:48 PM",
          "AuthorName": "Angela Rosin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3325276&course=5",
          "role": [
            "Picture of Angela Rosin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ok to delete mdl_task_adhoc",
          "Text": "Ah, that is good sleuthing. \"At the moment I'm tempted to just change the unix timestamp and give myself some time to work out if I can delete safely.\" Hah - I thought of the same thing. If this were one of my servers, that is what I would do to buy time and get those from repeatedly filling up space. Another way might be just to edit deletion in progress flag, presumably 1 means in progress and so what would 0 do? I'm not sure actually. You could check in the code for that to see what those values mean and would likely do. The tracker talks about how the deletion of specific modules works in the recycle bin as opposed to the deletion of the whole course. So clearly then, that is your situation here since the courses still exist. Something is holding up the module deletion. The good news then is that it is not deadlock issue in the recycle bin between module and its course (which is not uncommon in the case of deleting categories and courses.)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 24, 2021, 1:51 AM",
          "AuthorName": "Randy Thornton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=88992&course=5",
          "role": [
            "Picture of Randy Thornton"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 312888,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=312888",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Course Restore in Moodle 2.5 Timing Out",
          "Text": "Greetings all! We're running Moodle 2.5 on Windows Server 2008, IIS 7.5, SQL Server 2008 A couple of days ago we started getting an Error 500 \"The FastCGI process exceeded configured request timeout\" when attempting to restore courses. Â We've previously had no issues with restoring courses, and haven't made any changes to our environment, so we're pretty confused! It happens on courses of all size, even when we attempt to just import a tiny fraction of the course. I've spent the last couple of days browsing this forum and trying suggestions to fix this problem. Here's what I've tried so far: Increased the Maximum POST size to 200M Increased the Maximum Upload to 200M Increased Maximum Execution Time to 300 Increased Maximum Input Time to 600 Increased Memory Limit to 900M Increased FastCGI Activity Timeout to 600 I'm not sure what else to try, any help would be greatly appreciated!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 1, 2015, 10:44 PM",
          "AuthorName": "Roger Eveland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1942447&course=5",
          "role": [
            "Picture of Roger Eveland"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course Restore in Moodle 2.5 Timing Out",
          "Text": "Hello everyone! Roger, I think I've got the same situation: I'm running a fresh install of Moodle 2.8 on Windows Server 2012 (IIS 8, PHP 5.6.8) and SQL Server 2012. When I try to restore a course backup (122MB) from Moodle 2.5 I get internal server error. When I'm using MOOSH (command line utility) restore never stops. When I open .MBZ and remove \"filesâ€ folder, restore ends successfully Â under a minute (without files, of course). My server configuration looks almost like yours. Can anyone help? Is there a way to delete \"filesâ€ folder from backup, restore it, copy course files manually to the new server and then add missing records to the db? Best regards, lucas.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 3, 2015, 6:20 AM",
          "AuthorName": "Lukasz Czyzewski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=31806&course=5",
          "role": [
            "Picture of Lukasz Czyzewski"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Restore in Moodle 2.5 Timing Out",
          "Text": "Hello Roger! I've managed to restore my course. My way is both sad and funny but worked for me. I installed the newest Debian (Jessie) on a test server, set up Apache , PHP and Mysql , installed newest Moodle 2.8 and restored my course using Moosh. Since I've got about 120 \"problematicâ€ courses from two moodle installation (I want to merge these two Moodle sites) and about 500 \"non-problematicâ€ - I figured out that I will restore them in linux environment and then try to convert DB to MSSQL and go back to windows server, IIS and SQL Server 2012. Good luck in your moodling! Lucas.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 5, 2015, 6:15 PM",
          "AuthorName": "Lukasz Czyzewski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=31806&course=5",
          "role": [
            "Picture of Lukasz Czyzewski"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 464009,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=464009",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup and Restore, Quiz Activity always false",
          "Text": "Using Moodle 4.4, I have a created a local plugin that stores the quiz id to a table quiz_progress. It stores the quiz id in the quizid field. I am using define_module_plugin_structure() method to define the backup and restore structures. In the backup class, I set the source table to be $quizprogress->set_source_table('local_quiz_progress', array('quizid' => backup::VAR_MODID)); But during restore process, when I call the get_mappingid() function to get the new quiz id, $this->get_mappingid('quiz', $data->quizid); It always returns FALSE. I tried using after_restore_module() but the returned value for the get_mappingid() is still FALSE. Needs help. Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, November 25, 2024, 9:50 AM",
          "AuthorName": "Pixel Belen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5475966&course=5",
          "role": [
            "Picture of Pixel Belen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 207435,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=207435",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Re-using Courses via Backup/Restore or Import",
          "Text": "Moodle 2.2.3 (Build: 20120514); hosted by MoodleRooms. I'm attempting to copy about 150 courses from our summer term to be used in the fall term. I've tried a number of different options, but it looks like this is going to take several weeks to complete the way I'm doing it now. I've got to believe that admins at other schools have already figured this out and I'm hoping that someone can give me a simpler (and faster) way to work. 1. I created empty course shells for the fall semester via a batch job. Easy to do, no problem. 2. My first attempt to copy a class was \"almost\" right, but no banana (as they say). I opened the new course (say, ENG101_Fall2012), clicked \"import\" in the setting block, found the old course (ENG101_Sum2012), and imported it. It looked like it worked just fine. It was quick and easy to do. Unfortunately, every topic was named \"Orphaned Activities \" and the topic text was not there and could not be edited; though the activities seemed to make it OK: 3. I then decided to backup/restore the class. That was OK, I guess, but the first class I tried created a backup file more than 750MB big and Moodle wouldn't let me restore it into the new course (\"file too big\" error). All of that backup, downloading the file, and restoring the file (as much as I could get done) cost me about an hour and is not very efficient. Of course, it didn't even work, so efficiency doesn't matter. 4. I turned on Automatic Backup so I can make a backup of all our classes. This is \"best practice\" anyway; and I can then use some sort of FTP program to pull the backup files onto my hard drive for offsite storage. This is nice, but doesn't really solve my problem of copying classes. 5. I tried \"restoring\" a summer class into the fall class (ENG101_Fall2012) that is empty; but when I click \"Restore\" Moodle only lets me choose files from the backup directories for the Fall class; I cannot pick a file from some other class (like the summer class) to restore into the Fall class (at least, not that I can see). Can I upload the summer backups into some directory so I can pick them to restore into the fall class? 6. This is becoming such a huge ball of wax that I'm wondering how I would ever teach our faculty to copy their own courses. Import seemed perfect and is easy to use, but it does not copy some of the essential information from the old class. Backup/Restore is more complex and if the files are as large as 750MB they couldn't do it anyway. I would appreciate any tips on restoring old courses into new courses for this fall. I would also appreciate any thoughts on how to get faculty to copy their own courses in the future. Thanks for traveling this way before me and helping me avoid potholes. --George Self Cochise College, Arizona, USA \"Paddling as hard as I can, but the creek is still winning!\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 20, 2012, 7:34 AM",
          "AuthorName": "George Self",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442978&course=5",
          "role": [
            "Picture of George Self"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Re-using Courses via Backup/Restore or Import",
          "Text": "In case anyone else reads this, I found an acceptable solution. It's not simple enough to let instructors copy their own courses, but it is as streamlined as I can make it (so it's as fast as possible for me). 1. Turn on automatic backup. 2. Move the backup files to a \"File System\" folder named \"Backups\". I did this so it's easy to get to the backup files without having to download /upload them. I also made the \"file system\" repository unavailable to authenticated users (but system admins still have access). This way, one instructor cannot restore, and use, some other instructor's class. 3. I open the new class and restore the old class, choosing to replace the new class with the old. As part of the restore process, I include student data. I also elect to overwrite the configuration. Finally, I do not include student data for forums, but I do include it on all other activities. That seems to be working for me. Good luck with your own projects! --George Self, Cochise College",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 21, 2012, 4:20 AM",
          "AuthorName": "George Self",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442978&course=5",
          "role": [
            "Picture of George Self"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re-using Courses via Backup/Restore or Import",
          "Text": "Have you tried going to the old course, click restore on the backup file and during the restore process it gives you the option to restore to a new or other existing course?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 25, 2012, 11:33 PM",
          "AuthorName": "Derrick Salvant",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=612533&course=5",
          "role": [
            "Picture of Derrick Salvant"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re-using Courses via Backup/Restore or Import",
          "Text": "I want to know why, as a college, we can't just set up courses, and reset courses every semester. Â Yes, teachers would have to download copies of their students' grades, but why do we have to back everything up on the server ? Â Seems like a huge waste of resources. Â Thanks for any input.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 9, 2012, 11:39 AM",
          "AuthorName": "Debbie Unterseher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1468570&course=5",
          "role": [
            "Picture of Debbie Unterseher"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Re-using Courses via Backup/Restore or Import",
          "Text": "There is a 'Reset' option which may do exactly what you're after. See http://docs.moodle.org/23/en/Reset_course",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 9, 2013, 1:51 AM",
          "AuthorName": "Donna Hrynkiw",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=188829&course=5",
          "role": [
            "Picture of Donna Hrynkiw"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 215814,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=215814",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Moodle 1.9.19 Recent Upgrade. Course Auto Backups HUGE hard drive use",
          "Text": "Hi There was \"the story of the misteriously filling up hard disk\" https://moodle.org/mod/forum/discuss.php?d=191275 . That was for moodle 2.1, may be you'll find a hint there. BTW , you've seen http://docs.moodle.org/en/Automated_course_backup#Course_versus_site_backups , I presume.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 14, 2012, 12:56 AM",
          "AuthorName": "Visvanath Ratnaweera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41095&course=5",
          "role": [
            "Picture of Visvanath Ratnaweera",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 447440,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447440",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Restore from 3.9 to 4.1",
          "Text": "Hi, I was wondering if anyone had any issues restoring a course from 3.9 to 4.1? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 6, 2023, 12:08 PM",
          "AuthorName": "Paul David",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5376041&course=5",
          "role": [
            "Picture of Paul David"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore from 3.9 to 4.1",
          "Text": "Hi Paul, Generally when you try to restore a course backup to a newer version of Moodle, you see a warning but the course restores fine. I've not had chance to try restoring from 3.9 to 4.1 but I can't think of any reason why there might be a problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 6, 2023, 2:30 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore from 3.9 to 4.1",
          "Text": "Hi Helen, thank you for your reply. Yes, I've never had this issue before. At 95.6% I get the error Error writing to database . I am unsure what's happening there.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 7, 2023, 7:04 AM",
          "AuthorName": "Paul David",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5376041&course=5",
          "role": [
            "Picture of Paul David"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 139478,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=139478",
      "NoOfResponses": 9,
      "ResponsesInList": [
        {
          "Title": "Cant find reported error from backup",
          "Text": "Hello all I received my summary of my scheduled back up and it stated the following: Summary Courses: 125 OK: 86 Skipped: 38 Error: 0 Unfinished: 1 Some of your courses weren't saved!! When I clicked the link to look at the logs I do see one course with an error, but when I click that course to find the error, I see nothing that indicates any type of problem:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 7, 2009, 11:48 PM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cant find reported error from backup",
          "Text": "Hi Bryan The directory is 2696 MiB. From my research too it was looking like it was a size issue, but I figured there HAS to be courses bigger than this and they still back up. I also can do a manual back and that works, but the process is different so that might have something to do with it too. I'm going to clean up some files and see if that helps. Will keep you posted. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 11, 2009, 3:30 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cant find reported error from backup",
          "Text": "I had problems again this week, now with a second course. They get stuck at the zip files. I adjusted the max file size to the server limit and will see if that works. Otherwise my next step will be to look at the zip files.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 18, 2009, 6:07 AM",
          "AuthorName": "Tiffany Morgan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=320625&course=5",
          "role": [
            "Picture of Tiffany Morgan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cant find reported error from backup",
          "Text": "Hello, I had similar problem with a course growing week per week. Obviously I'm using /usr/bin/zip as command packager and last successful backup took 550Mb. Now the error message is 1 course skipped. The backup performs well for all the other courses. My very naive questiones: Is there any tool making easy to debug the process manually? Or is there any script operating the backup process for one course that could be performed manually ? just in order to identify where the process breaks. Many thanks for your support. Jbmere",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 12, 2010, 5:07 AM",
          "AuthorName": "mere jb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=40092&course=5",
          "role": [
            "Picture of mere jb"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cant find reported error from backup",
          "Text": "If the backup skips a course, that usually just means that one of your courses is not open to students and has not been edited since the last backup. Rosemary Camilleri",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 12, 2010, 8:00 AM",
          "AuthorName": "Rosemary Camilleri",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=699031&course=5",
          "role": [
            "Picture of Rosemary Camilleri"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cant find reported error from backup",
          "Text": "Hello No, sorry, the exact message translation is 'Unfinished'. in fact the problem arises with a course being runned and similar problem is found when, inside the course, I order a backup of the course, browser ends during zipping files phase. The problem is that process don't reach the end so no backup exists. This is quite critical as far as the course includes many student's work, including attached documents and so on. This is why it is relevant to me, as I haven't a systematic way asking for backups. Do you know any way allowing to order backups from a server terminal just by typping commands ? Thanks in advance JB",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 25, 2010, 5:53 AM",
          "AuthorName": "mere jb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=40092&course=5",
          "role": [
            "Picture of mere jb"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 81743,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=81743",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Backup File choices?",
          "Text": "Is there possibly a way that a Moodle course can be backed up or exported to a PDF or word doc?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 6, 2007, 7:20 AM",
          "AuthorName": "Anthony Mingus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=352546&course=5",
          "role": [
            "Picture of Anthony Mingus"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup File choices?",
          "Text": "No, there is not. What are you trying to do?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 6, 2007, 8:01 AM",
          "AuthorName": "John Isner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=104240&course=5",
          "role": [
            "Picture of John Isner"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup File choices?",
          "Text": "I was looking for a way to create a paper file copy of the course. For severals reasons: 1. To file for accreditation purposes. 2. To make available for off-line students that cannot access a course through the web for whatever reason. 3. To be able to share the course via paper to other educators to review.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 12, 2007, 1:42 AM",
          "AuthorName": "Anthony Mingus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=352546&course=5",
          "role": [
            "Picture of Anthony Mingus"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup File choices?",
          "Text": "Adobe Acrobat has a feature where you can turn a web page into a PDF. Obviously this is not good for a whole Moodle site, but if it were individual course areas then perhaps that may work. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 11, 2008, 8:36 PM",
          "AuthorName": "David O'Brien",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=61498&course=5",
          "role": [
            "Picture of David O'Brien"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 165113,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=165113",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "When setting courses -> backups - old generation are not deleted",
          "Text": "Hello I was setting the courses->backups I set every SundayÂ  in 2:00 O'Clock and keep= 2 ( 2 generations) in a folder that I set too, but actually it keep savingÂ  more than 2 , in fact it saves endless every Sunday and not deleting the old generations. now I have 10 generation and my disk is almost full. Why doesn't it delet the old generetion of zip? Thanks for the help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 27, 2010, 7:51 PM",
          "AuthorName": "Miki Alliel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=72173&course=5",
          "role": [
            "Picture of Miki Alliel",
            "Picture of Translators"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: When setting courses -> backups - old generation are not deleted",
          "Text": "Miki - What you are describing sounds like a bug. Would you mind creating an issue in the tracker and letting me know the issue number so that I can pursue it further? Peace - Anthony",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 30, 2010, 10:00 PM",
          "AuthorName": "Anthony Borrow",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=51473&course=5",
          "role": [
            "Picture of Anthony Borrow",
            "Picture of Core developers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "×ª×©×•×‘×” ×œ: Re: When setting courses -> backups - old generation are not deleted",
          "Text": "hey thanks I created an issue in the Tracker thanks Hope there is a solution http://tracker.moodle.org/browse/MDL-25829",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 30, 2010, 11:37 PM",
          "AuthorName": "Miki Alliel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=72173&course=5",
          "role": [
            "Picture of Miki Alliel",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 99807,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=99807",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "?Moving Moodle to a new server?",
          "Text": "Are there instructive topics on HOW TO MOVE FROM ONE SERVER TO ANOTHER? Help (Please)! wJ",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 21, 2008, 2:43 AM",
          "AuthorName": "w johnson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=565149&course=5",
          "role": [
            "Picture of w johnson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: ?Moving Moodle to a new server?",
          "Text": "Hi, WJ, I think what you are looking for is \"Moodle Migration\" -- http://docs.moodle.org/en/Moodle_migration Maybe that will help. I hope so. Regards, Art",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 21, 2008, 3:28 AM",
          "AuthorName": "Art Lader",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=504&course=5",
          "role": [
            "Picture of Art Lader"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: ?Moving Moodle to a new server?",
          "Text": "Hi, I suggest that you create a test environment with the same configurations from the final server and follow all steps from this document.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 21, 2008, 4:58 AM",
          "AuthorName": "Ronaldo Carvalho",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=515930&course=5",
          "role": [
            "Picture of Ronaldo Carvalho"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: ?Moving Moodle to a new server?",
          "Text": "Art, Ronaldo Thanks for your help. Cheers--",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 21, 2008, 5:55 AM",
          "AuthorName": "w johnson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=565149&course=5",
          "role": [
            "Picture of w johnson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: ?Moving Moodle to a new server?",
          "Text": "My pleasure. -- Art",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 21, 2008, 6:31 PM",
          "AuthorName": "Art Lader",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=504&course=5",
          "role": [
            "Picture of Art Lader"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 469933,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=469933",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Backup Error (possible coding error message)",
          "Text": "PHP 8.2.28-0107 Moodle: 5.0.2 MariaDB 10: 10.11.6-1369 All of my automated course backups have been working fine but one of them recently started failing to backup. So I just tried doing a manual backup of that course from the CLI. Here is the result: \n```text\nsudo -u http /usr/local/bin/php82 -c /volume1/@appstore/PHP8.2/usr/local/etc/php82/cli/php.ini /volume1/web/tbcmoodle/admin/cli/backup.php --courseid=60 --destination=/volume2/Volume2/moodle_backups/moodle_course_backups\n\n\n== Performing backup... ==\n\n\n!!! Exception - core_question\\local\\bank\\random_question_loader::get_filtered_question_ids(): Argument #1 ($filters) must be of type array, null given, called in [\ndirroot\n]/question/classes/local/bank/random_question_loader.php on line 491 !!!\n\n\nPotential coding error - existing temptables found when disposing \ndatabase\n. Must be dropped!\n```\n I assume the way to proceed would be to delete the course then restore it from the last know good backup which is from about 1.5 months ago but most of that time the course was not being used as we were between course times. The only problem with that is that the course has been in use since Sept 8th of this month so we would lose all of the work done thus far in the course. Is there an alternative suggestion on how to correct the problem without losing student work done since the 8th? While I'm no MariaDB guru I do know enough to muck around a bit if given some guidance if that would help. Note: The last known good backup was from August 5th. I performed a Moodle upgrade from 4.5.4 to 5.0.2 using the CLI on August 8th but no other courses have failed to backup beside the one noted above. I can provide the full output from the CLI upgrade if needed but it did not list any error messages. Thanks, -Mike W P.S. - I went ahead and attached a text file of the Moodle upgrade CLI output.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 18, 2025, 3:11 AM",
          "AuthorName": "Michael Wheeler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=590342&course=5",
          "role": [
            "Picture of Michael Wheeler"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Backup Error (possible coding error message)",
          "Text": "First ... comment: that sure is an awefull long command to type in!!! Suggest changing into: `cd /volume1/web/tbcmoodle/admin/cli/` First and issuing php -v to assure you are finding php 8.2 cli. If so, then issue without sudo php ./backup.php --courseid=60 --destination=/volume2/Volume2/moodle_backups/moodle_course_backups/ Make sure there is a / at the end. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 18, 2025, 5:47 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Backup Error (possible coding error message)",
          "Text": "Adding the trailing slash made no difference but I will specify that going forward. I used sudo because I was following the example on https://docs.moodle.org/500/en/Course_backup so that it would run as the web server account as in the example. There are other versions of php installed. \"php -v\" shows 8.1.9 which is why I specify the full path to 8.2 and its associated php-ini path.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 18, 2025, 10:04 PM",
          "AuthorName": "Michael Wheeler",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=590342&course=5",
          "role": [
            "Picture of Michael Wheeler"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Backup Error (possible coding error message)",
          "Text": "Couldn't php version be set per directory via .htaccess?Â  You wouldn't need that long command then. Yes, docs do suggest using sudo as web service user so that files get tagged as belong to that user.Â  Â Wonder what would happen if you didn't use sudo - but root? Scripts in code/admin/cli/ uses config.php variables ... DB user, DB pass.Â  Â The error says couldn't clean up temp tables ... which normally are not seen ... does DB user in config have all privs? I sometimes cheat .... copy the DB user and DB password lines and in those copied lines use root with password for root - commenting out orgininal lines. When done, revert them back ... comment out root lines ... un-comment original lines. So it's just one course ... any question types used in this one course different from other courses. Might install https://moodle.org/plugins/tool_health and run it to see if it complains about question banks. If the health tool can, it will make suggestions to fix. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 18, 2025, 10:44 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Backup Error (possible coding error message)",
          "Text": "I also have the same problem and i can't backup any course. With Grok AI i've added in question/classes/local/bank/random_question_loader.php: /** * Get the list of available questions for the given criteria. *",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 25, 2025, 6:43 PM",
          "AuthorName": "Marcin RoÅ¼ek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6681649&course=5",
          "role": [
            "Picture of Marcin RoÅ¼ek"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 380071,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=380071",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Backups all courses in a course categorie?",
          "Text": "I want to backup all courses in a specific category, or alternatively, a list of course ids. The backups should not contain userdata. Does anyone know of an automated way to do that? moosh does not allow for options like \"no userdata\", while automated backups in moodle do not allow restricting to specific courses",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, December 17, 2018, 8:35 PM",
          "AuthorName": "stefan weber",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1565460&course=5",
          "role": [
            "Picture of stefan weber"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backups all courses in a course categorie?",
          "Text": "Hi Stefan, Sorry i don't provide a direct solution for you. But perhaps you can vote/comment for MDL-52050 , that could finally help for your need. You can also create a little bash script, calling in a loop (with all needed course IDs) the /admin/cli/backup.php script. But it will use your current settings for backups (so you need to modify them before and after). SÃ©verin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 23, 2019, 6:01 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backups all courses in a course categorie?",
          "Text": "Hi, I've been working with course's backup/restore in moodle. You can try to make backups con cli or moosh: Example\n\n\\$sudo -u www-data /usr/bin/php admin/cli/backup.php --courseid=2 --destination=/moodle/backup/ In \"General backup defaults\" settings not check \"Include user completion information\" Both take into account the configuration of moodle. To restore courses in another site I'm using https://github.com/tmas0/moodle-tool_autorestore , this plugin has has its own configuration moosh not works for me: Default exception handler: error/setting_by_name_not_found Debug: Error code: setting_by_name_not_found $a contents: enrol_migratetomanual other Plugins related: https://moodle.org/plugins/block_my_external_backup_restore_courses https://moodle.org/plugins/local_remote_backup_provider I've tested that in moodle 3.3. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 23, 2019, 6:55 PM",
          "AuthorName": "Dario Roig Garcia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2597&course=5",
          "role": [
            "Picture of Dario Roig Garcia"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 55262,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=55262",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Cron not working since 1.6x upgrade",
          "Text": "I hope someone can help Sitting on a windows server I've recently upgraded to 1.6.2 However ever since this upgrade the cron backup has not been working. Whenever I run cron manually I get the following: \n```text\nRunning backups if required...\n\n\n    Checking backup status...RUNNING\n\n\n    No activity in last 30 minutes. Unlocking status\n\n\n    Getting admin info\n\n\n    Deleting old data\n\n\n    Checking courses\n\n\n        Skipping deleted courses\n```\n It then locks at this point.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 29, 2006, 3:27 PM",
          "AuthorName": "M Gardner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=43920&course=5",
          "role": [
            "Picture of M Gardner"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cron not working since 1.6x upgrade",
          "Text": "Hi You are not alone with this. I have posted about this scheduled backup problem , and there seem to be a few other similar unresolved threads. Our case has particular irony, as our upgrade from 1.5.x to 1.6.x was driven by the need to get (manual) backups of the Gallery 2 module working (which it did!). Individual course backups seem to work fine, so I don't think there is any problem with backup per se , database structure, UTF format etc. In our case, some other memory/resource/time-out limit in the CentOS/ Apache /PHP/ MySQL /Moodle setup seems to be causing the sheduled backup to stall. It would be really useful and, with the imment release of Moodle 1.6.3, timely if any Moodle backup gurus would investigate this and come up with a solution. Thanks Geoff",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 30, 2006, 8:26 PM",
          "AuthorName": "Geoffrey Rowland",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6805&course=5",
          "role": [
            "Picture of Geoffrey Rowland"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron not working since 1.6x upgrade",
          "Text": "This is a serious issue for me, can anyone help? Thanks Malcolm",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, October 16, 2006, 1:49 AM",
          "AuthorName": "M Gardner",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=43920&course=5",
          "role": [
            "Picture of M Gardner"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron not working since 1.6x upgrade",
          "Text": "Anyone figure this out yet? I have the same problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 9, 2006, 5:37 AM",
          "AuthorName": "Eric Kemsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=61260&course=5",
          "role": [
            "Picture of Eric Kemsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron not working since 1.6x upgrade",
          "Text": "When I looked at /var/www/html/admin/cron.php, it was a blank file. I copied the cron.php from /dev/backup/moodle_backup/html/admin/cron.php to the admin folder and it now works fine.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 9, 2006, 6:16 AM",
          "AuthorName": "Eric Kemsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=61260&course=5",
          "role": [
            "Picture of Eric Kemsley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron not working since 1.6x upgrade",
          "Text": "I am having this problem as well. It is a serious issue and any insight would be great. The cron seems to run fine, but when the backup routine starts, the cron stops functioning after that. I've tried using MoodleCron, task scheduler, and wget methods and all have the same results. I can manually run the cron script in some cases and most of the time the backup works then, but even so sometimes it stalls. Is this possibility related to memory or PHP memory limits in some way? I have experienced this same problem on 1.5.3 and 1.6.3. I don't know if 1.6.4 has addressed these issues. 1.7 is not an option for us yet because we need a Score locking (AL) module and there are none for 1.7+ as of yet. Thank you, Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, February 17, 2007, 1:52 AM",
          "AuthorName": "Eric Eberhardt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5585&course=5",
          "role": [
            "Picture of Eric Eberhardt"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron not working since 1.6x upgrade",
          "Text": "Eric and all- We were having a very similar problem, running MoodleCron as a service would constantly die. What we ended up doing is running the cron page remotely from a Linux machine using cron and wget, and the page works fine now, though we are still experiencing issues with a number of our course backups erroring out. At least the task no longer freezes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 20, 2007, 2:16 AM",
          "AuthorName": "Justin Pohlmann",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=157829&course=5",
          "role": [
            "Picture of Justin Pohlmann"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cron not working since 1.6x upgrade",
          "Text": "Justin, We have tried running the script remotely, but it seems like it still hangs. It seems to hang on large courses or courses with a large amount of users. The cron runs beautifully until the backup script executes each night then it hangs. We've tried adjusting the memory and execution limits in the backup_scheduler.php file, but it still seems to hang. Any insight would be greatly appreciated. Thanks, Eric",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 21, 2007, 5:56 AM",
          "AuthorName": "Eric Eberhardt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5585&course=5",
          "role": [
            "Picture of Eric Eberhardt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 212664,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=212664",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Issue in loading CSS file",
          "Text": "Hi all, I have created HTML file and its in moodle data folder and I have uploaded a CSS file into the same folder and added it to HTML file. When I view the HTML css is not loading. Example: default.html style.css Waiting for the reply,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 30, 2012, 3:48 PM",
          "AuthorName": "Suresh Dhanakotti",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616787&course=5",
          "role": [
            "Picture of Suresh Dhanakotti"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 329537,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=329537",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup and restore 4GB+ courses @2.8+",
          "Text": "Hi, many of us had troubles with automated backup and manual restore courses bigger than 2GB or 4GB... I am working on Moodle 2.8. Experimental settings with saving to other location (backup_auto_destination) than Course backup filearea allow me to do automated backup file over 4GB. But I can not restore this file into course. When I'm selecting file from repository or disk Moodle makes a draft file from this file. Becouse of PHP limitations this file copied into draft area has only 238MB. Anyone has sugestions how can i restore course from 4GB+ .mbz file? I have some ideas: 1. Write some changes in automated bakup to force automated bakup split big course into parts containing sections . For example: Course has 28 sections, force auto backup to split into parts like below: course1_section1_7.mbz course1_section8_15.mbz course1_section16_23.mbz course1_section24_28.mbz 2. Make possible to do restore directly from path to .mbz file and extract it with some external program without making copy of .mbz file in Moodle file repository.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 9, 2016, 5:35 PM",
          "AuthorName": "Kamil Åuczak",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=925504&course=5",
          "role": [
            "Picture of Kamil Åuczak",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 72295,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=72295",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Scheduled Backups not working",
          "Text": "Hi. I'm a moodle newbie, installing moodle for school use. I'm trying to schedule backups, but with little luck. My courses are not backed up. I managed to back it up only once. I don't know what happened, but, that was the only time that it worked. Any help would be deeply appreciated! I have been testing the backup scheduling, by putting a specific time (say, 7.pm), and then, running the cron.php script manual (for now).. I run the cron.php script at say... 18.59:59s and, I get this _____________________________________________ \n```text\nServer\n Time: Thu, 24 May 2007 18:59:59 +0200\n\n\nStarting activity modules\nProcessing module function assignment_cron ...done.\nProcessing module function chat_cron ...done.\nProcessing module function forum_cron ...done.\nProcessing module function journal_cron ...done.\nProcessing module function scorm_cron ...done.\nProcessing module function workshop_cron ...done.\nFinished activity modules\nStarting blocks\nFinished blocks\nUpdating languages cache\nRemoving expired enrolments ...none found\nRunning backups if required...\n Checking backup status...OK\n Getting admin info\n Deleting old data\n Checking courses\n Skipping deleted courses\n 0 courses\n ISEP Project Management\n Next execution: Thursday, 24 May 2007, 07:00 PM\n Project number 1\n Next execution: Thursday, 24 May 2007, 07:00 PM\n Course Fullname 101\n Next execution: Thursday, 24 May 2007, 07:00 PM\n Project number 2\n Next execution: Thursday, 24 May 2007, 07:00 PM\n Introduction to Computing\n Next execution: Thursday, 24 May 2007, 07:00 PM\n Course to Backup\n Next execution: Thursday, 24 May 2007, 07:00 PM\nBackup tasks finished.\nRunning auth crons if required...\n\nCron\n script completed correctly\nExecution took 0.904097 seconds\n```\n _____________________________________________________________ I run it a few seconds later, and I get this:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 25, 2007, 1:07 AM",
          "AuthorName": "Anne Tan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=299739&course=5",
          "role": [
            "Picture of Anne Tan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 262059,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=262059",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "the requested url backup backup.php was not found on this server",
          "Text": "Hellot, I am using moodle 2.2.3. When I try to backup my course I got following error message, \" the requested url backup backup.php was not found on this server \" how to correct this error? Can any one help me? My thanks in advance. m.murugan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 13, 2014, 1:59 PM",
          "AuthorName": "murugan muthu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1087785&course=5",
          "role": [
            "Picture of murugan muthu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: the requested url backup backup.php was not found on this server",
          "Text": "Hi, me too. Although I'm not getting a helpful message, as it would appear the 404 is missing, I can see in the server logs that it's giving a 404. So that's two of us!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 13, 2014, 2:49 AM",
          "AuthorName": "M Williams",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1588956&course=5",
          "role": [
            "Picture of M Williams"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 72024,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=72024",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "can moodle courses be imported into eschool builder",
          "Text": "I wanted to check if anybosy has tried importing a moodle course into eschool builder or blackboard. If so, what is the process? Thanks, Prerna",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 22, 2007, 3:23 AM",
          "AuthorName": "Prerna Sood",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=74279&course=5",
          "role": [
            "Picture of Prerna Sood"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 116750,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=116750",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Accidentally deleted course",
          "Text": "We are new to Moodle and have experienced some courses being deleted.Â  No one really knows 'how'.Â  I play a minimal role in the day-to-day lesson creation, etc....but loaded Windows and Moodle on the server and have done some themes, etc.Â to assist the users.Â There haveÂ not been any backups created within Moodle and our DR solution has onlyÂ backed up some of the folders but is missingÂ most of the .phpÂ files.Â  When a user clicks on a course link, we see theÂ internet borwser error \"Page cannot be displayed\".Â  The path in the menuÂ displays the path to a folderÂ , ie - http://moodle.wsfcs.k12.nc.us/course/view.php?id=20 .Â  I have discovered that the id=20 points to a folder inside the moodledata folder and the data that is \"missing\" is there but the connection seems to be broken.Â  Any assistance, advice is greatly appreciated! Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, February 18, 2009, 11:25 PM",
          "AuthorName": "Buddy Martin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=686591&course=5",
          "role": [
            "Picture of Buddy Martin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 139905,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=139905",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup on windows",
          "Text": "Can anyone please tell me how to backup datafiles on windows. I went through the site backup documentation but that has script for linux. Please help",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, December 13, 2009, 11:03 PM",
          "AuthorName": "rohit jain",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=981370&course=5",
          "role": [
            "Picture of rohit jain"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 447773,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=447773",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "[4.2]The logfile for a failed course restore?",
          "Text": "I'm trying to restore a course. When restoring, it simply says 'restoring failed'. And 'contact your administrator'. YES sir, I am the administrator. Where's the log file that shows me the errors so I can start to look at the fixing. I had Moodle set to 'debugging' in site administration -> development -> debug. But it doesn't show errors.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 16, 2023, 7:02 PM",
          "AuthorName": "Richard van Iwaarden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=138659&course=5",
          "role": [
            "Picture of Richard van Iwaarden",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 305637,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=305637",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "The selected file is not a valid Moodle backup file and can't be restored.",
          "Text": "Hello all, I jave successfully done this before but now not seem to be working. I am backing up courses from a Moodle 1.9 site to Moodle 2.72 After fixing the max upload size I now get a the following error msg: The selected file is not a valid Moodle backup file and can't be restored. Can anyone help please? Many thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 12, 2015, 12:33 AM",
          "AuthorName": "Mike Wills",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1816468&course=5",
          "role": [
            "Picture of Mike Wills"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: The selected file is not a valid Moodle backup file and can't be restored.",
          "Text": "What kind of file is the backup?Â  What extension?Â  Has it been unzipped and rezipped?Â  Do you have the experimental backup setting turned on in your 2.7 site (not sure if this affects restore but might be worth looking at).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 12, 2015, 1:21 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: The selected file is not a valid Moodle backup file and can't be restored.",
          "Text": "Hi I had the same problem and I figured it out. When you rezip the files do NOT select the FOLDER of the files and zip that.Â  This will cause the folder to be nested in the zip file. Instead select the FILES and then zip them.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, July 10, 2016, 8:52 PM",
          "AuthorName": "Rino Vincenti Hagn",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=741437&course=5",
          "role": [
            "Picture of Rino Vincenti Hagn"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: The selected file is not a valid Moodle backup file and can't be restored.",
          "Text": "+1 to Emma's questions/response: Unzip a copy of the backup from the 1.9 into a test folder.Â Â  Moodle backup in 1.9 must find a 'moodle. xml ' file at the top level of the backup when un-zipped.Â Â  In the past, if Moodle didn't find a 'moodle.xml' NOR a 'moodle_backup.xml' (for version 2 backups), Moodle would complain with the error you saw. So error might be true. If the 1.9 site is still up and running, make sure there are no backups (backupdata folder in the course ID folder, see, if someone unzipped a backup one level up from backupdata into the root of the course ID folder - if they did, could be a moodle.xml contained therein as well) in the backup.Â Â  Then make fresh no user, no roles, backup of the course and ' TIA ' (try it again). 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, March 12, 2015, 2:33 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 409974,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=409974",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "\"Error writing to database\"",
          "Text": "This is a constant problem. I am backing up from an online Moodle 3.7 site with a MySQL database , and trying to restore to a desktop Moodle 3.7 site with a Postgres database. I think it may have something to do with StudentQuiz plugin. I turned on debugging. Here are the error messages: Debug info: ERROR: duplicate key value violates unique constraint \"mdl_studprog_queusestu_uix\" DETAIL: Key (questionid, userid, studentquizid)=(2554, 0, 53) already exists. INSERT\nINTO mdl_studentquiz_progress\n(questionid,userid,lastanswercorrect,attempts,correctattempts,studentquizid)\nVALUES($1,$2,$3,$4,$5,$6) RETURNING id [array ( 'questionid' => 2554, 'userid' => 0, 'lastanswercorrect' => '1', 'attempts' => '2', 'correctattempts' => '2', 'studentquizid' => 53, )] Error code: dmlwriteexception Stack trace: line 489 of /lib/dml/moodle_database.php: dml_write_exception thrown line 259 of /lib/dml/pg sql _native_moodle_database.php: call to moodle_database->query_end() line 975 of /lib/dml/pgsql_native_moodle_database.php: call to pgsql_native_moodle_database->query_end() line 1023 of /lib/dml/pgsql_native_moodle_database.php: call to pgsql_native_moodle_database->insert_record_raw() line\n191 of\n/mod/studentquiz/backup/moodle2/restore_studentquiz_stepslib.php: call\nto pgsql_native_moodle_database->insert_record() line 137 of\n/backup/util/plan/restore_structure_step.class.php: call to\nrestore_studentquiz_activity_structure_step->process_progress() line 112 of /backup/util/helper/restore_structure_parser_processor.class.php: call to restore_structure_step->process() line\n178 of\n/backup/util/ xml /parser/processors/grouped_parser_processor.class.php:\ncall to restore_structure_parser_processor->dispatch_chunk() line\n100 of\n/backup/util/helper/restore_structure_parser_processor.class.php: call\nto grouped_parser_processor->postprocess_chunk() line 148 of\n/backup/util/xml/parser/processors/simplified_parser_processor.class.php:\ncall to restore_structure_parser_processor->postprocess_chunk() line\n92 of\n/backup/util/xml/parser/processors/progressive_parser_processor.class.php:\ncall to simplified_parser_processor->process_chunk() line 190 of /backup/util/xml/parser/progressive_parser.class.php: call to progressive_parser_processor->receive_chunk() line 278 of /backup/util/xml/parser/progressive_parser.class.php: call to progressive_parser->publish() line ? of unknownfile: call to progressive_parser->end_tag() line 179 of /backup/util/xml/parser/progressive_parser.class.php: call to xml_parse() line 158 of /backup/util/xml/parser/progressive_parser.class.php: call to progressive_parser->parse() line 110 of /backup/util/plan/restore_structure_step.class.php: call to progressive_parser->process() line 181 of /backup/util/plan/base_task.class.php: call to restore_structure_step->execute() line 210 of /backup/moodle2/restore_activity_task.class.php: call to base_task->execute() line 178 of /backup/util/plan/base_plan.class.php: call to restore_activity_task->execute() line 168 of /backup/util/plan/restore_plan.class.php: call to base_plan->execute() line 377 of /backup/controller/restore_controller.class.php: call to restore_plan->execute() line 219 of /backup/util/ui/restore_ui.class.php: call to restore_controller->execute_plan() line 143 of /backup/restore.php: call to restore_ui->execute()",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 6, 2020, 5:46 AM",
          "AuthorName": "cyber sec",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3416673&course=5",
          "role": [
            "Picture of cyber sec"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"Error writing to database\"",
          "Text": "Any reason not to have same MySQL DB on desktop version? Above question for thought ... I see there are user id's involved ... userid 0?!!!??? What if you were to make a no user backup of the course and attempt to restore that? 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 6, 2020, 6:35 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"Error writing to database\"",
          "Text": "I thought I was doing a no-user backup, but now I'm not sure. I did a backup without the question bank. Then I backed up each of the 24 studentquiz activities individually. The backup without the question bank restored okay. 22 or the 24 studentquiz activities restored okay. But with two of the student quiz activities I got that errorÂ  about admin being logged in causing a conflict. I don't think I enrolled in the course as admin. But I did try some of the quizzes as admin.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 6, 2020, 9:28 AM",
          "AuthorName": "cyber sec",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3416673&course=5",
          "role": [
            "Picture of cyber sec"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 177913,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=177913",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup or restore fail?",
          "Text": "Hi all. I am backing up assessments with user data in a course and then attempting to restore them into another course. Ie moving assessments internally. Restore fails with the \"Trying to restore user 'xxx' from backup file will cause conflict\". Checked the xml file as per FAQ and the email/firstlogin values are the same. I am trying both processes on the same test machine - so I don't know how the data could change. During the backup I am selecting Users: Course, but both the confirmation pages and the xml file indicate that it is including all users on the site - is this an error? Furthermore, the conflicting accounts are all deleted accounts that have never been participants in the course. Any help, hints?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 22, 2011, 2:51 PM",
          "AuthorName": "rohan edmeades",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=337070&course=5",
          "role": [
            "Picture of rohan edmeades"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup or restore fail?",
          "Text": "try: http://docs.moodle.org/20/en/Backup_and_restore_FAQ#Restore_stops_with_the_message_.22Trying_to_restore_user_xxxx_from_backup_file_will_cause_conflict.22",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 1, 2011, 4:42 AM",
          "AuthorName": "Brigitte Baquero",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=237505&course=5",
          "role": [
            "Picture of Brigitte Baquero"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 184842,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=184842",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore Moodle Course from 1.9 to 2.1",
          "Text": "For all who would like to have a step by step process on backing up your course and restoring it from Moodle 1.9 to 2.1 please see the below link for the file due to limitation on file size. https://docs.google.com/viewer?a=v&pid=explorer&chrome=true&srcid=0B4k1PgMOFp3-NjYzOTM4OGMtM2U4ZC00MGM1LTkwZWItMGZjZWE3NTY0ZDUy&hl=en_US Thanks to all. Salim",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 5, 2011, 4:12 PM",
          "AuthorName": "Salim Al Waili",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=491074&course=5",
          "role": [
            "Picture of Salim Al Waili"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore Moodle Course from 1.9 to 2.1",
          "Text": "We use Moodle 1.9.9",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 12, 2011, 5:18 PM",
          "AuthorName": "Salim Al Waili",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=491074&course=5",
          "role": [
            "Picture of Salim Al Waili"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 87637,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=87637",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup fails to copy completed file",
          "Text": "Hi all, I get this message on dozens of my courses: 03:19 AM:14 End backup course A2 Psychology Unit 4 2006-2007 - ERROR!! Any ideas why? I'm on win2k3 moodle 1.9 beta 3 Matt",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 7, 2008, 8:50 PM",
          "AuthorName": "Matt Gibson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=81450&course=5",
          "role": [
            "Picture of Matt Gibson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 28489,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=28489",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Restore underneath existing course?",
          "Text": "I have 3 courses which I would like to combine. What is currently happening is all of the section 1 materials from all three courses is going into section 1, similarly for section 2, 3 and so on. Is there a way to restore underneath an existing course? In other words, if course 1 stops at section 8 then the next course restored can appear in section 9 onwards.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 3, 2005, 4:41 PM",
          "AuthorName": "Darren Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=11772&course=5",
          "role": [
            "Picture of Darren Smith"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore underneath existing course?",
          "Text": "Probably the best way is if using 1.5.2 is to Import Course Data from the Admin menu in the actual course. Then use move to fine tune placement of the files etc. Rico",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 3, 2005, 6:05 PM",
          "AuthorName": "Rico Dredd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=32867&course=5",
          "role": [
            "Picture of Rico Dredd"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore underneath existing course?",
          "Text": "Hi. Thanks for the response. I never noticed that option before! I am using 1.5.2 so restored the course data as suggested but that had the same effect ( IE mixing the courses rather than appending the new course). Perhaps I did something wrong? I've just had an Idea! I could insert the required number of weeks at the top of the target course - that might do it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 3, 2005, 6:27 PM",
          "AuthorName": "Darren Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=11772&course=5",
          "role": [
            "Picture of Darren Smith"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore underneath existing course?",
          "Text": "Adding the extra weeks and then importing helped a lot although obviously time consuming moving all of those weeks about in preparation (please don't tell me there was an easier way!) Raised as a feature request: Bug #3849",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 3, 2005, 7:15 PM",
          "AuthorName": "Darren Smith",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=11772&course=5",
          "role": [
            "Picture of Darren Smith"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 408358,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=408358",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Restore big Course which where uploaded to the server by ftp",
          "Text": "I haveÂ  a new moodle site 3.9.1. I have a bigÂ  file of course-backup fron another siteÂ  that I couldn\"t upload itÂ  in the normal way. I uploades it to the server by ftp but I don\"t know in which folder to put it and what to do to make the restoratin/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 6, 2020, 5:17 PM",
          "AuthorName": "Irith Herman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=444161&course=5",
          "role": [
            "Picture of Irith Herman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "×ª×©×•×‘×” ×œ: Restore big Course which where uploaded to the server by ftp",
          "Text": "Solved",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 7, 2020, 3:05 AM",
          "AuthorName": "Irith Herman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=444161&course=5",
          "role": [
            "Picture of Irith Herman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: ×ª×©×•×‘×” ×œ: Restore big Course which where uploaded to the server by ftp",
          "Text": "Congrats.Â Â  Guess your posting kinda went under radar ... sorry bout that.Â Â  But, you figured it out ... file system repos?Â Â  Others might happen across this thread and wonder how you solved it. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 7, 2020, 4:23 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 376464,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=376464",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore Course Never Finish Error code: invalidrestorefile",
          "Text": "Hi, i'm trying to restore course, but the upload progress never finish and stuck. when i click Restore button, it shows Debug info: Error code: invalidrestorefile $a contents: Stack trace: line 225 of \\backup\\util\\ui\\restore_ui_stage.class.php: restore_ui_exception thrown line 72 of \\backup\\restore.php: call to restore_ui_stage_confirm->process() and if I inspect element, the console shows: Uncaught SyntaxError: Unexpected token < in JSON at position 0 at JSON.parse (<anonymous>) at XMLHttpRequest.xhr.onreadystatechange (dndupload.js:45) Oh, i try it in Moodle 2.6 and Moodle 3.4 but both of them produce the same error. I really need your help. Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 26, 2018, 2:44 PM",
          "AuthorName": "Purina Qurota Ayunin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2509794&course=5",
          "role": [
            "Picture of Purina Qurota Ayunin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore Course Never Finish Error code: invalidrestorefile",
          "Text": "Hi, Please provide much more details : is it on one backup file, or for all? what's the size of the .mbz file? what are the defined limit of upload max filesizes ? SÃ©verin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 26, 2018, 4:05 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 97757,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=97757",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How t backup all moodle system in ver 1.9",
          "Text": "Hello , i need to create a backup in moodle , how i can do that??? Thanks, Nada",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 22, 2008, 12:56 PM",
          "AuthorName": "nada saif",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=535379&course=5",
          "role": [
            "Picture of nada saif"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How t backup all moodle system in ver 1.9",
          "Text": "to see how to backup an individual course see here: http://docs.moodle.org/en/Backup_restore also see here http://docs.moodle.org/en/Backup_FAQ thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 23, 2008, 8:36 AM",
          "AuthorName": "Dan Marsden",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=21591&course=5",
          "role": [
            "Picture of Dan Marsden",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Plugins guardians",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 176287,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=176287",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "error_question_answers_missing_in_db Moodle 2.0.3+",
          "Text": "Hi I have backed up a Moodle 2.0.3+ course and tried to restore as a new course within the same Moodle install but receive this: 'error_question_answers_missing_in_db' when I try to restore the backed up course. Some of our quizzes were created within Moodle 1.9 using Respondus and then exported to Moodle 2. These quizzes are stored within the System category on Moodle 2. I also found this within the error logs: Potential coding error - existing temptables found when disposing database . Must be dropped!, referer: http://sda.barony.ac.uk/backup/restore.php Has anyone else had the same problem? Ali",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 27, 2011, 10:27 PM",
          "AuthorName": "Ali Hastie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=90029&course=5",
          "role": [
            "Picture of Ali Hastie",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 149049,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=149049",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Restore not bringing in user data",
          "Text": "I am trying to restore a course from a backup from February 2010. I have created a new course, uploaded my backup zip file from late February (backed up with user data), selected all options to Restore with User Data, yet when the course starts to restore, it skips the user data creation (I see lines of ..................... where it should be bringing in user content). I get the entire course content, but no users and no user data. Background: course is currently being taught. Instructor deleted a graded assignment in late February but didn't realize it until recently. We pulled back up, found the appropriate dated back up, and I am attempting to restore that back up into a new course (so as not to overwrite content from late Feb to present). I simply wanted to re-locate the assignment, grades and feedback and give it to the instructor (even in hard-copy, she can then re-enter into gradebook). Could I have a conflict because the course presently exists (even though I'm restoring to a new course?) Any advise would be appreciated - Thank you! Lisa",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 29, 2010, 12:41 AM",
          "AuthorName": "Lisa Wiebenga",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=551809&course=5",
          "role": [
            "Picture of Lisa Wiebenga"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore not bringing in user data",
          "Text": "Did you try manually enrolling one of the students (that are currently taking the course) to see if the user data came across, just not the enrollments?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 29, 2010, 11:22 PM",
          "AuthorName": "Buddy Ethridge",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=491825&course=5",
          "role": [
            "Picture of Buddy Ethridge"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore not bringing in user data",
          "Text": "Yes, we did try this, and the user data did not show up for the enrolled user. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 30, 2010, 11:15 PM",
          "AuthorName": "Lisa Wiebenga",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=551809&course=5",
          "role": [
            "Picture of Lisa Wiebenga"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 114969,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=114969",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How to add code for back-up/Restore for multilingual site",
          "Text": "Hello Experts, Can you give me some idea about adding code for multilingual site in moodle backup and restore facility. I want that it will back-up and restore for all courses, topics, resources and for all quiz in different languages. Thanks, Newbie.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 28, 2009, 8:49 PM",
          "AuthorName": "Nidhi Patel",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=776860&course=5",
          "role": [
            "Picture of Nidhi Patel"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to add code for back-up/Restore for multilingual site",
          "Text": "If the multi-lang is working, it ought to be working even in backup and restore. Have you run into any problem? It's usually best to begin in Moodle Docs , and if you don't find an answer there check with the Forums. When you make a forum post it is important to describe as concretely as possible:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 28, 2009, 11:04 PM",
          "AuthorName": "Jeff Forssell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=104669&course=5",
          "role": [
            "Picture of Jeff Forssell"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 200466,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=200466",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restoring a course in moodle 2.2",
          "Text": "While restoring a course in newly upgraded moodle 2.2 i get this Debug message and eventually fails. The course is currently running in moodle 2.1 Column 'answerid' cannot be null while restoring a course in moodle 2.2 INSERT INTO mdl_lesson_attempts (userid,retry,correct,useranswer,timeseen,lessonid,pageid,answerid) VALUES(?,?,?,?,?,?,?,?) [array ( 0 => '9', 1 => '0', 2 => '1', 3 => 'Biological', 4 => 1327582729, 5 => 5, 6 => 5, 7 => NULL, )] Stack trace: line 397 of /lib/dml/moodle_database.php: dml_write_exception thrown line 893 of /lib/dml/my sql i_native_moodle_database.php: call to moodle_database->query_end() line 935 of /lib/dml/mysqli_native_moodle_database.php: call to mysqli_native_moodle_database->insert_record_raw() line 122 of /mod/ lesson /backup/moodle2/restore_lesson_stepslib.php: call to mysqli_native_moodle_database->insert_record() line 131 of /backup/util/plan/restore_structure_step.class.php: call to restore_lesson_activity_structure_step->process_lesson_attempt() line 103 of /backup/util/helper/restore_structure_parser_processor.class.php: call to restore_structure_step->process() line 125 of /backup/util/ xml /parser/processors/grouped_parser_processor.class.php: call to restore_structure_parser_processor->dispatch_chunk() line 91 of /backup/util/helper/restore_structure_parser_processor.class.php: call to grouped_parser_processor->postprocess_chunk() line 148 of /backup/util/xml/parser/processors/simplified_parser_processor.class.php: call to restore_structure_parser_processor->postprocess_chunk() line 92 of /backup/util/xml/parser/processors/progressive_parser_processor.class.php: call to simplified_parser_processor->process_chunk() line 169 of /backup/util/xml/parser/progressive_parser.class.php: call to progressive_parser_processor->receive_chunk() line 253 of /backup/util/xml/parser/progressive_parser.class.php: call to progressive_parser->publish() line ? of unknownfile: call to progressive_parser->end_tag() line 158 of /backup/util/xml/parser/progressive_parser.class.php: call to xml_parse() line 137 of /backup/util/xml/parser/progressive_parser.class.php: call to progressive_parser->parse() line 105 of /backup/util/plan/restore_structure_step.class.php: call to progressive_parser->process() line 153 of /backup/util/plan/base_task.class.php: call to restore_structure_step->execute() line 182 of /backup/moodle2/restore_activity_task.class.php: call to base_task->execute() line 148 of /backup/util/plan/base_plan.class.php: call to restore_activity_task->execute() line 157 of /backup/util/plan/restore_plan.class.php: call to base_plan->execute() line 310 of /backup/controller/restore_controller.class.php: call to restore_plan->execute() line 147 of /backup/util/ui/restore_ui.class.php: call to restore_controller->execute_plan() line 46 of /backup/restore.php: call to restore_ui->execute() Need rescue here.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 13, 2012, 3:44 PM",
          "AuthorName": "Simon Maina",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1123787&course=5",
          "role": [
            "Picture of Simon Maina"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring a course in moodle 2.2",
          "Text": "I am having exactly the same problem with my 2.2.2 install. Â Please help. Â I cannot restore any courses because of this problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 11, 2013, 10:38 AM",
          "AuthorName": "James Watt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=759217&course=5",
          "role": [
            "Picture of James Watt"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 199954,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=199954",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Error while taking backup of individual courses...",
          "Text": "Hi All, I got the following error while taking backup of one of my course. Can somebody explain, why does this error occurs.?? \"Cannot read file, either the file does not exist or there are permission problems.\" One of my colleagues got the following error while taking the Course backup: \"err/cannot_empty_backup_temp_dir\" Thanks..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 5, 2012, 4:43 PM",
          "AuthorName": "Teena Pania",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442601&course=5",
          "role": [
            "Picture of Teena Pania"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 115313,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=115313",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Backup courses: error",
          "Text": "I have defined an automatic backup for every course at 23:00 (see attached file settings.png), everyday. i get every day a message saying that there was an error on the backup process. I can't also do an individual backup, I get the very same error (see attathed file error.png). It says that \"An error occurred while copying the zip file to the course directory\". It seems that it is a privileges problem but I have set my directory correctly (see file attached settings-directory.png). I have tried 2 ways: 1. inside the moodledata (did not defined a path to the backup) 2. outside (/data/backup) (defined the path in moodle->administration-> server ->courses->backups)",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 2, 2009, 6:04 AM",
          "AuthorName": "Mariana Curado Malta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=47399&course=5",
          "role": [
            "Picture of Mariana Curado Malta"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup courses: error",
          "Text": "I continue to have the same problem. When I try to back up courses, either all at once, or one by one, I hit the same \"permissions\" problem. I have checked permissions and ownership, and I don't see anything unusual in the files that are not backing up. I am forced to the same workaround you are using: copy direct from the server the moodledata folder; backup the my sql database from the ISP control panel. You suggestion is good to make a separate backup of the main index page. If anyone solves this backup problem, it will be valuable to many of us! Gerald",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 2, 2009, 8:42 AM",
          "AuthorName": "Gerald Grow",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=63051&course=5",
          "role": [
            "Picture of Gerald Grow"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup courses: error",
          "Text": "But a backup course is something else than a backup of moodle as a whole. I can give at least 3 examples: Teachers might want to have backups of their own courses. Creators might want to create a \"clone\" from course to build a new course. A teacher might need a backup of the day before, because he/she did something BAD on the course, the only way to recover ONLY one course is to have done a course backup during the night, for instance. I need desperately to get this course backups running! Mariana",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 2, 2009, 11:32 PM",
          "AuthorName": "Mariana Curado Malta",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=47399&course=5",
          "role": [
            "Picture of Mariana Curado Malta"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 88113,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=88113",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Importaing a lesson problem",
          "Text": "I have imported a lesson from one course to another. It shows up in the lesson activity block in the course where I wanted to import it to but I cannot find it in the main section where all the activities are located. Any suggestions? Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 15, 2008, 8:19 AM",
          "AuthorName": "Chris Sargeant",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=230523&course=5",
          "role": [
            "Picture of Chris Sargeant"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 116606,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=116606",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Editing issues when restored course is moved to another category.",
          "Text": "We have backed up a course and then successfully restored the course to a category. We are able to edit the resources in the course. When we try to move the restored course to another category. We are unable to edit the resources and we are even unable to see the edit options in the course. Are there any course configurations for this to enable i.,e when a course is restored to a category and then moved to another category. Are there any issues with the roles. We have assigned the admin role to the user at the site level and the Main designer role at the course level. The userÂ  has backed up a course and restored the course to a category and then moved to a different category and now the user is unable to edit the resources in the course. For e.g. The user tried has successfully backed up and restored \"Basic Elements\" course to Basics category where the user is able to edit the resources in the course. If the same course is moved another category \"Advanced\", the user is unable to see the edit options in the course. Please help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 17, 2009, 4:02 PM",
          "AuthorName": "Sampath Chittari",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=613027&course=5",
          "role": [
            "Picture of Sampath Chittari"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 353953,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=353953",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Timestamp after moving files to another server",
          "Text": "I am about to move a Moodle installation from one server to another. I hoped that I could use rsync, but unfortunately that does not seem to be possible, so I have to use wget or ftp instead. If I compress the files and then move them, they will not end up with their original timestamps after uncompressing. Is that ok or could that be a problem later on?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 14, 2017, 5:59 PM",
          "AuthorName": "Bente Olsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120901&course=5",
          "role": [
            "Picture of Bente Olsen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Timestamp after moving files to another server",
          "Text": "If I am following correctly, what counts in moodle code/files is what's in version.php files and DB for versions/dates/times on files not the operating system date/time of the files themselves. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 14, 2017, 6:42 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ang: Re: Timestamp after moving files to another server",
          "Text": "That sounds good, thanks Ken, then I will not worry.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 14, 2017, 7:14 PM",
          "AuthorName": "Bente Olsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=120901&course=5",
          "role": [
            "Picture of Bente Olsen"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 307300,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=307300",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Reuse courses",
          "Text": "Hi there, I have a question regarding the best practice on reusing a course. I've been working with Moodle for almost five years and every time I would need to start a new course I would backup the original course and restore it to a new course. I understand that there may be other alternatives. What are they, and I would like to know, in your opinion, what were the best practices regarding the reuse of a new course. Many thanks LuÃ­s",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, March 14, 2015, 11:27 PM",
          "AuthorName": "LuÃ­s Rocha GraÃ§a",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1448892&course=5",
          "role": [
            "Picture of LuÃ­s Rocha GraÃ§a"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Reuse courses",
          "Text": "We now have the upload course option which allows you to reference an existing course as a template.Â  That is definitely the easiest way to duplicate courses.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 15, 2015, 12:06 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Reuse courses",
          "Text": "Thank you so much for your reply Â Emma. Do you know any kind of best practices or checklist regarding reusing a course?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 23, 2015, 7:14 AM",
          "AuthorName": "LuÃ­s Rocha GraÃ§a",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1448892&course=5",
          "role": [
            "Picture of LuÃ­s Rocha GraÃ§a"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Reuse courses",
          "Text": "Not really.Â  I expect my teachers to go through their course at the beginning of the semester and adjust as necessary.Â  I work on the admin side and just provide them with the tools...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 23, 2015, 8:15 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Reuse courses",
          "Text": "Hello Emma....I am pretty much a novice at this Moodle thing. You mentioned using the \"upload\" option to use and existing course as a template. What exactly do I upload? Do I need to do a backup of a course first, then simply upload the backup? I have a course I would love to reuse...and this sounds like exactly what I need. Thanks so much Pat McClanahan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 22, 2015, 10:51 AM",
          "AuthorName": "Pat McClanahan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1921901&course=5",
          "role": [
            "Picture of Pat McClanahan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Reuse courses",
          "Text": "https://docs.moodle.org/29/en/Upload_courses",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 22, 2015, 11:57 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Reuse courses",
          "Text": "Thanks....I had not looked in the documentation (obviously). pat",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 23, 2015, 12:50 AM",
          "AuthorName": "Pat McClanahan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1921901&course=5",
          "role": [
            "Picture of Pat McClanahan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Reuse courses",
          "Text": "Hi Luis, if the course doesn't depend on time and the content of the course doesn't change, then using topic based course may make the course re usability easier by grouping the user. By combining topic based course with conditional activity, you may be able to have the student complete certain task before unlocking the next task. If the course rely on time (For example, activity or assessment must due for a certain date), then restoring the course may be the answer. regards, Riady",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 23, 2015, 9:22 AM",
          "AuthorName": "Riady Santoso",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1603717&course=5",
          "role": [
            "Picture of Riady Santoso"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 207608,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=207608",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backing up in 2.3.1",
          "Text": "I recently installed this version via Softaculous (not an upgrade) and have created a course.Â  However, when I go to try and back the course up it goes through the process but gets stuck at the final hurdle.Â  If I check the 'restore' area the file is not listed. All of the backup settings are still set at 'default'. Do I need to change something? Thank you.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 23, 2012, 8:47 PM",
          "AuthorName": "Griff South",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471112&course=5",
          "role": [
            "Picture of Griff South"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backing up in 2.3.1",
          "Text": "I'm also having problems uploading SCORM content to courses. So far I've tried: AICC SCORM 1.2 SCORM 2004 As with the other problem it gets to the final stage but never completes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 24, 2012, 12:56 AM",
          "AuthorName": "Griff South",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1471112&course=5",
          "role": [
            "Picture of Griff South"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 414786,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=414786",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "moving question bank from one moodle site to another",
          "Text": "Hi, I'm the admin of two Moodle sites, A and B. I would like to copy some questions from the question bank of site A to site B. I wouldn't want to move any other content (resources and activities ) and I would like to keep allÂ  content of site B in the current state. How could I proceed? Luigi",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 3, 2020, 1:27 AM",
          "AuthorName": "Luigi Esposito",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1754404&course=5",
          "role": [
            "Picture of Luigi Esposito"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: moving question bank from one moodle site to another",
          "Text": "Moodle Question banks allow you to Import questions and Export questions . This works great for moving questions between courses besides some other methods. However if you have many multiple courses on your Moodle site (A) that you want to move to site (B) you would have to move those questions by each individual courses. So this could be time consuming if you many courses. Not sure if there is something an Admin user could do at the site level?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 3, 2020, 11:20 PM",
          "AuthorName": "Dave Sherwin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=476628&course=5",
          "role": [
            "Picture of Dave Sherwin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: moving question bank from one moodle site to another",
          "Text": "Hi Dave, thanks for answering my question. I saw the \"Export question bank to a file\" page of my Moodle site (A). It asks me to choose a file format: Aiken, GIFT, XML or XHTML . Can you help me decide which of them is a good choice for me to perform the operation I wrote in the topic? Please note that I have all kinds of questions (numeric, short answer, cloze, ...) and some questions contain images in the text, too. I would like to move questions from site A to site B while keeping all their properties.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 4, 2020, 4:53 AM",
          "AuthorName": "Luigi Esposito",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1754404&course=5",
          "role": [
            "Picture of Luigi Esposito"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Ri: Re: moving question bank from one moodle site to another",
          "Text": "I always use the Moodle XML format because it is was developed by the Moodle Community. Therefore if you are moving Questions from Moodle Site to another Moodle Site this works best. The Aiken format is only for Multiple Choice answers. When you have to create many MC questions this is the fastest way to create questions outside of Moodle and then Import I have never uses either the GIFT format or XHTML format so cannot say much about those 2 export file types.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 5, 2020, 1:22 AM",
          "AuthorName": "Dave Sherwin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=476628&course=5",
          "role": [
            "Picture of Dave Sherwin"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Ri: Re: Ri: Re: moving question bank from one moodle site to another",
          "Text": "Yessss! It works. My questions are moved correctly from site A to site B (MCSA, short answer, ...) and the questions with pictures are also moved correctly. Thank you very much, Luigi PS: I used the \"Moodle XML format\"",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 5, 2020, 2:46 AM",
          "AuthorName": "Luigi Esposito",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1754404&course=5",
          "role": [
            "Picture of Luigi Esposito"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 69710,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=69710",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "backup  problem",
          "Text": "I want to share my bad expereince with every one and also hope moodle expert can help me solve the problem. when simply backup your moodle data directory incase later either you use it for your upgrade or use it to restore your lost files, you should be very careful how to back up your data, not just simple copy file under unix, you have to use cp -R -p to copy file to maintain its original file mode. I post my backup problem in the following post, I lost my moodledata folder, when I used the backup files, there are a lot of problem involved. Please check my other post below, if you can help, I will very very appreciate, it will save my time to re- upload each file. http://moodle.org/mod/forum/discuss.php?d=69601#p312713 Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 21, 2007, 9:19 AM",
          "AuthorName": "Ye Chen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=239564&course=5",
          "role": [
            "Picture of Ye Chen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 442336,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=442336",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup and download without permission to restore",
          "Text": "Hi, I want specific users to be able to backup a course or certain activities and be able to download those backup files. But they should not be able to restore backups within thisw course. I guess those are the permissions this role should have: moodle/backup:backupcourse moodle/backup:backupsection moodle/backup:backuptargetimport moodle/backup:configure moodle/backup:downloadfile When I try this and create a backup I can't see it and get an error along the lines of: \"You don't have the rights (restore backup)\" Only if I set permission for \"moodle/restore:restorecourse\" then I'm able to see the backups I created and can download them OR restore them. Is it possible to see backups, download them but NOT be able to restore them? Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, December 29, 2022, 8:32 AM",
          "AuthorName": "Phillip Mertens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4774583&course=5",
          "role": [
            "Picture of Phillip Mertens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 57708,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=57708",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "file. moodle.xml not found at root level of zip file",
          "Text": "hi at all, i have a problem during the restore of a course that i would transfer from a computer to another machine. both the computers use a Windows operating system. i created the .zip file from the first machine, then i transfered this file to the second pc, i put the file to the directory of site files and then i uploaded the archives. during the restore process i saw this error message: file. moodle. xml not found at root level of zip file i think it's caused because the first and the second computer have a differentÂ path of directory about moodle, and for this reasonÂ the unzip process operates in wrong folders. i wrote no paths on the Administration >> Configuration >> Variables about zip and unzip variables. i also explain my problem in another forum discussion: http://moodle.org/mod/forum/discuss.php?d=57473 can i solve this problem? have i got to set some other variable? anyÂ suggestion? thank you at all Francesco",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 3, 2006, 6:06 PM",
          "AuthorName": "Francesco Passarini",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=146811&course=5",
          "role": [
            "Picture of Francesco Passarini"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 162173,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=162173",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup of Courses",
          "Text": "Hi, We do regular backups of our entire VLE, however, when in discussion yesterday the gentleman who backs it up realised that the moodle data, only backs up such things as files that the tutor has uploaded and not the quizzes that are built and assignments etc. Is there any way of backing up the entire VLE, including quizzes, assignments etc? Thank you in advance for your help Sam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 12, 2010, 5:18 PM",
          "AuthorName": "Samantha Ashton",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=589377&course=5",
          "role": [
            "Picture of Samantha Ashton"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup of Courses",
          "Text": "If you want to back up your entire MOODLE, there are three parts that you need to back up (unless you've done something more intelligently than we have).Â  The three parts are: 1. The Moodle data folder 2. The moodle directory in your wwwroot folder 3. the moodle database . 2 ways that I know of - not sure whiich is technically the correct way. you could have the entire server backed up (all folders/drives etc...). This will mean you have an exct replica which can then be restored if necessary. The second way is to back up the moodle data folder and the wwwroot folder (as you presumably have been doing) and then use whatever database adminstration software you have (Navicat for ourselves, I don't know how to use others) to backup the database (this is where most things other than files are stored). maybe someone will know of a better way, but we use both of these at various times. Graham",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 12, 2010, 8:09 PM",
          "AuthorName": "Graham Lee",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=149952&course=5",
          "role": [
            "Picture of Graham Lee"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 122999,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=122999",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Storing Student Data",
          "Text": "Our university requires that all student course work - assignments, forums, quizzes - be kept on file for three years in case of student appeals What is is best way to backup and store this course data? Just back up the whole course with student data?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 10, 2009, 2:46 PM",
          "AuthorName": "Paul Avon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=223241&course=5",
          "role": [
            "Picture of Paul Avon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Storing Student Data",
          "Text": "I am looking at setting up a system that requires the same record storage but for 2 years. Not being able to archive these records would be a show stopper for me also. I am looking but I do not see where it is possible yet.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 28, 2009, 10:39 AM",
          "AuthorName": "John Perry",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=808426&course=5",
          "role": [
            "Picture of John Perry"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Storing Student Data",
          "Text": "The easiest thing for the administrator would be to back up the whole course. That may not be the easiest to recover data, which may or may not be a consideration. (I guess it depends on the frequency of accessing the data.) Since the data is accessed by a number of people, our project labs are a special case - We have a special \"course\" that stores the final project, presentation, and some grade information for all project labs. Each semester gets a special page with a complete list of all projects for all of the project labs. It's a bit of work copying all the documents and grades, but it allows for easy evaluation of the final project by a committee.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 28, 2009, 10:36 PM",
          "AuthorName": "Tom Heisey",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=779538&course=5",
          "role": [
            "Picture of Tom Heisey"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 24290,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=24290",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "An error occurred - course not moved!",
          "Text": "I have successfully moved 6 courses created by me in one category to another category. However, one course will not move - An error occurred - course not moved! I have seen the suggestion to upgrade Moodle - I now have Moodle 1.4.5 + (2004083150) After some initial problems with folder permissions which I had to correct on the server , backup and restore routines seems to work OK. I have repeated the backup and restore on the offending course and I still get the message An error occurred - course not moved! Any suggestions? Many thanks if you can help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 24, 2005, 6:23 AM",
          "AuthorName": "Geoff Knott",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=22354&course=5",
          "role": [
            "Picture of Geoff Knott"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: An error occurred - course not moved!",
          "Text": "Geoff, I am using Moodle 1.45+ and getting this error only with restored courses. I find that if I access the course and go into that particular course's settings I can change the Category successfully. Patrick",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 25, 2005, 1:35 AM",
          "AuthorName": "Patrick Craig",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24428&course=5",
          "role": [
            "Picture of Patrick Craig"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: An error occurred - course not moved!",
          "Text": "I'm having the same problem: We are on Moodle 1.5.2 build\n2005060220 MySQL 4.0.23 Apache 2.0.52 This is a good temporary solution, Patrick. Thanks for the beta. I'd really like it if there was a global fix for this, however, since course admin is something that has to happen really fast between semesters, and it takes a lot of time to go into each individual course and change the settings. Also, I'm having the problem with courses that are originals, not restored from backup. I can't actually see any pattern with the error.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 11, 2005, 7:38 AM",
          "AuthorName": "Amy Groshek",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=18726&course=5",
          "role": [
            "Picture of Amy Groshek"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: An error occurred - course not moved!",
          "Text": "We're also experiencing this problem with all our courses, not just restored ones. Fortunately, the workaround Patrick has suggested does work for us too. Marty",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 19, 2008, 6:09 PM",
          "AuthorName": "Marty Jacobs",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=95155&course=5",
          "role": [
            "Picture of Marty Jacobs"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 232728,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=232728",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Restore issue",
          "Text": "I was trying to restore prod to qa. Here is what I did. 1. Copied over moodledata to qa 2. Copied moodle 23 folder to qa 3. Restored the Db from prod to qa DB Changed the qa config.php to point to right options. Now, when I can launch the moodle site on QA , I am able to login but I am getting ERROR!!! The code you are using is OLDER than the version that made these databases! I have verified, php, mysql versions and they are same. Moodle version is also same. DB encoding is same in prod and QA What am I missing here. Moodle version 2.3.1+ Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 18, 2013, 3:01 AM",
          "AuthorName": "Rama Gundabhat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1400844&course=5",
          "role": [
            "Picture of Rama Gundabhat"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore issue",
          "Text": "What is the specific build date of the prod and of the qa? Found in version.php file at the root of moodle code directory. 2.3.1+ could have two different build dates and thus not really the same exact code - thus the error shown is correct. BTW , both are probably in need of upgrade to the highest/most secure 2.3 which is now 2.3.8+ including some newly discovered security updates. If using git , git update both on the same day and then they will both be of the same build date. ;) 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 18, 2013, 4:43 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore issue",
          "Text": "yes I will have to do that. I am planning to go to latest 2.4. So the databse I restored had a some problem so I created a blank DB and restored. Now it works but I cannot login with any of the accounts. I logged in to the database and all the users are still there. Email is not working properly on QA so I cannot do password reset.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 18, 2013, 5:25 AM",
          "AuthorName": "Rama Gundabhat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1400844&course=5",
          "role": [
            "Picture of Rama Gundabhat"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore issue",
          "Text": "fixed it using https://moodle.org/mod/forum/discuss.php?d=154077 had to copy $CFG->passwordsaltmain (in config file) from prod to QA",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 18, 2013, 6:09 AM",
          "AuthorName": "Rama Gundabhat",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1400844&course=5",
          "role": [
            "Picture of Rama Gundabhat"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore issue",
          "Text": "That's kinda strange if one dup'd the prod ... same salt should have worked.Â  As long as it works! ;) 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 18, 2013, 6:42 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 370958,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=370958",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "\"The ... role in the backup file cannot be mapped to any of the roles that you are allowed to assign\"",
          "Text": "Hi, Does anyone know why this warning would be showing up when teachers import content from a course to theirs? They are editing teacher on their course and non-editing on a template course where they can import content from, i'm just concerned this big warning for about 6 different roles is going to confuse them when they import, as it takes up most of the screen with the success message and continue button at the bottom. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 21, 2018, 7:11 PM",
          "AuthorName": "Conn Warwicker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1377971&course=5",
          "role": [
            "Picture of Conn Warwicker",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"The ... role in the backup file cannot be mapped to any of the roles that you are allowed to assign\"",
          "Text": "Because the course you are importing has roles in it that are not available or allowed to be assigned by the editing teacher.Â  If the course is coming from another site, just add the roles to the new site and that should avoid it or give the teacher role permissions on those roles if coming from the same site.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 21, 2018, 7:44 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"The ... role in the backup file cannot be mapped to any of the roles that you are allowed to assign\"",
          "Text": "Hi, The course being imported from (Course A) only has Teachers and Non-Editing Teachers assigned to it. The course being imported to (Course B) only has that 1 Editing Teacher assigned to it. The user is importing only content ( activities ), not users. When they Perform the Import, the warning message displays for lots of other roles that no-one is assigned to on either course, e.g. Manager, and some custom ones that were created. I'm just not sure why it's showing a warning for those at all.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 21, 2018, 8:59 PM",
          "AuthorName": "Conn Warwicker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1377971&course=5",
          "role": [
            "Picture of Conn Warwicker",
            "Picture of Core developers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 72081,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=72081",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "PHP Notice:  Undefined property:  stdClass::$instances",
          "Text": "I get the following Error in my PHPError.log file [22-May-2007 02:09:12] PHP Notice:Â  Undefined property:Â  stdClass::$instances in D:\\wamp\\www\\moodle\\backup\\backuplib.php on line 2110 [22-May-2007 02:09:12] PHP Warning:Â  Invalid argument supplied for foreach() in D:\\wamp\\www\\moodle\\backup\\backuplib.php on line 2111 This is the code that it is referring to /// adding mod contexts $mods = $preferences->mods; foreach ($mods as $modname => $mod) { $instances = $mod->instances; foreach ($instances as $id => $instance) { // if this type of mod is to be backed up if ($instance->backup) { $cm = get_coursemodule_from_instance($modname, $id); $ context = get_context_instance(CONTEXT_MODULE, $cm->id); // put context in array keys I'm guessing it is something to do with the defining of the instances variable but I haven't changed the code since installing the latest version of Moodle and the errors have only just started to appear.Â  I'm only just beginning to learn PHP so I would be grateful for any help solving this error. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, May 22, 2007, 9:50 PM",
          "AuthorName": "Nicki Howes",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=175194&course=5",
          "role": [
            "Picture of Nicki Howes"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: PHP Notice:  Undefined property:  stdClass::$instances",
          "Text": "Hi, I've had the same error upgrading tp 1.8.Â  It repeated 16 times - which is the same as the number of wikis on the home page. The wikis backed up OK when I backed up manually",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 23, 2007, 9:48 PM",
          "AuthorName": "chris dennison",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=145807&course=5",
          "role": [
            "Picture of chris dennison"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 278489,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=278489",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Message error: mod_fcgid: error reading data from FastCGI server",
          "Text": "Hi, I am trying to restore a course in moodle 2.8, but I got this error: Message error: mod_fcgid: error reading data from FastCGI server Any help to solve this will be highly appreciated. Regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 16, 2015, 5:41 AM",
          "AuthorName": "Adriana Gallen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1902715&course=5",
          "role": [
            "Picture of Adriana Gallen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 271948,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=271948",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Course Restore Issue - 500 Internal Server Error",
          "Text": "Hello All, I'm hoping somebody can help point me in the right direction to solve this issue. I have a fresh installation of Moodle 2.7.2 and I am trying to restore several courses provided to me by a learning network we are subscribed to. My Web Server is on Windows Server 2008 R2 and I am currently using php version 5.5.12. When I attempt the restore everything works as expected up until Step 5 when I click \"Perform Restore\", once I click that the page attempts to process the restore for about 5-10 minutes before timing out and giving me an ISS \"500 Internal Server Error\". There is no progress bar or anything like that, it just acts like it's loading a webpage. I am new to Moodle (self taught w/ videos) and to these forums so if there is any additional information I can provide in order to help solve this issue please let me know where/how to find it and I will post it asap. I greatly appreciate any help that you guys can give me, I have tried google and nothing seems to work for fixing",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 9, 2014, 1:00 AM",
          "AuthorName": "Tim Bradley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1258457&course=5",
          "role": [
            "Picture of Tim Bradley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course Restore Issue - 500 Internal Server Error",
          "Text": "Hard for anyone to give you a solid answer considering the situation ... 500 errors don't tell anyone much.Â Â  And even though you've shared server setup info, no one has the backup file you are working with. So a company created the backup for you to restore.Â Â  Correct?Â Â  Then follow the entire chain/path to the problem.Â Â  START with the backup file.Â Â  Change the .mbz extension to a .zip and extract the zip file to a folder on local machine.Â Â  In the extracted files find the moodle_backup. xml file and open it with NotePad.Â Â  In there will see information concerning the backup ... including the version of Moodle the company was using to create the backups ... as well as the URL to that Moodle instance. IMHO , if that shows an earlier version of Moodle, like a 2.5.x or a 2.4 or even a 2.6.x I'd contact the company and request a version of backup that matches your instance.Â  One would assume a company selling such products would test their backups so they could be informed and be alerted to any problems that they might be able to resolve for the customer prior to selling the product ... uhhhh, isn't that called 'quality assurance'? You might get the product FREE of charge should you help trouble shoot this for them. ;) On your site: turn on debugging.Â Â  Check the data directory: moodledata/temp/backup/.Â  Are there any .log files there larger than 0 bytes?Â Â  If so, open with NotePade and inspect.Â Â  They may not tell you specifically the issue, but it might provide clues.Â Â  If you find any reason to tweak settings ... IIS , PHP, MySQL other whatever, then TIA (try it again). Check server logs - php, mysql , IIS.Â  ie, the normal things one would do in a failed restore. My 2 cents, of course! 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 9, 2014, 2:04 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Restore Issue - 500 Internal Server Error",
          "Text": "Thanks for the reply Ken, the moodle version of the backup file is 2.6 however I have gotten confirmation that the backups should restore on moodle version 2.7 without any issues. I just wanted to throw in this additional bit of info, if I try to process the restore from IE11 directly on the web server I get the following additional error information: The FastCGI process exceeded configured request timeout",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 9, 2014, 2:36 AM",
          "AuthorName": "Tim Bradley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1258457&course=5",
          "role": [
            "Picture of Tim Bradley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Restore Issue - 500 Internal Server Error",
          "Text": "Don't run Winders nor FastCGI myself but 'FastCGI process exceeded configured request timeout\" is the key.Â Â  Google is my friend!Â Â  Found the following searching for the above quote.Â  One of the links: http://stackoverflow.com/questions/14902554/fastcgi-process-exceeded-configured-activity-timeout in which stats: Go to `%windir%\\system32\\inetsrv\\fcgiext.ini` and locate the\nActivityTimeout parameter; copy it into the [php] section. Change the\nparameter to whatever value you would like, and also make sure that it\nis not commented out. Restart IIS and you should be good. Credit (if it resolves your problem) due to: Dave Lasley who answered a question related to same problem. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 9, 2014, 4:26 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Restore Issue - 500 Internal Server Error",
          "Text": "In my case because I'm running IIS 7.5 so the fcgiext.ini file does not exist however I was able to edit the timeout properties by opening IIS, clicking the Server Name and then clicking Fast CGI Settings. I went ahead and added an extra 0 to the default value making the timeout 3000s instead of 300s and it no longer seems to be producing that error in 5 minutes. That said however, I have been waiting about 20 minutes now for a restore and the mbz file is only 400KB so is this normal? I understand that restore is supposed to take significantly longer than backup however there is no progress bar shown during the process so I haven't been able to figure out if it is actually working or not. Edit: The restore completed successfully after 26 minutes. The MBZ file is only 400KB so is it normal for a restore to take that long?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 9, 2014, 5:39 AM",
          "AuthorName": "Tim Bradley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1258457&course=5",
          "role": [
            "Picture of Tim Bradley"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Restore Issue - 500 Internal Server Error",
          "Text": "There have been some issues reported lately related to restores and inclusion of test banks.Â  From what I can gather, even though a course has only 1 or 2 quizzes in it (thus a 'small course' backup) the backup included the entire test bank. Â  Thus one was restoring the entire test bank or the restore process had to sort though the test bank in the backup and compare with the test bank that existed.Â  But that's a guess. Keep digging into errors/logs there might be yet another little tweak yet discovered. Bottom line ... it appears that what's 'normal' for one isn't 'normal' for another. ;) 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 9, 2014, 6:34 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 190146,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=190146",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "courses are not displayed when i import",
          "Text": "Hi! i am using moodle 2.0.I have the teacher enrolled in 3 courses.and whenever that teacher tries to import then the message is shown that \"there are no course to display in this course\" but as an admin i can see all those courses.i have checked all the permissions of the teacher and moodle/backup:backuptargetimport is set to yes....i have a another course and i have enrolled that user as teacher in that course an he is able to see that course when he clicks on import. Kindly tell me what is the problem..i have read the forums and they say that it is a bug in moodle .kindly tell me how could i fix this bug. Regards,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 11, 2011, 3:34 PM",
          "AuthorName": "hina yousuf",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1372316&course=5",
          "role": [
            "Picture of hina yousuf"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 140355,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=140355",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "moodle.xml not found in root...",
          "Text": "I've gone through procedures one and two in the docs: making sure the moodle. xml file was in the .zip file and uploading the zip file to the backupdata directory and running the clean xml util to clean it. I've tried restoring from both the parent of (files) and the backupdata directory. I have full Administrator, Course Creator, Teacher roles for this new course. I'm still getting this error when I attempt to restore: Error checking backup file. moodle.xml not found at root level of zip file. I know for a fact that moodle.xml is at the root level of the zip file I'm attempting to restore.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 22, 2009, 6:11 AM",
          "AuthorName": "Deleted user",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=613472&course=5",
          "role": [
            "Picture of Deleted user"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Fixed ! moodle.xml not found in root...",
          "Text": "After many hours of investigation, I discovered something that is not in any of the documentation that I could find online: I kept getting \"Error checking backup file. moodle.xml not found at root level of zip file.\" when trying to restore to a new course. I finally remembered that previously from the Site Administration > Server > System Paths I had put in /usr/bin/zip for the zip and unzip for an external path. The reason I had done this was because I was making a final backup of last semester's courses which contained some large video files students had submitted for an assignment. (In the future, I will just have students post their videos to YouTube and give me a link.) The creation of the large backup was failing until I put those external paths to zip/unzip in. However, when I then wanted to restore a backup without users/user data into the new course, I kept getting the error above. I removed the external paths so Moodle would use its own internal zip php ability and my restore worked just as it should.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 22, 2009, 12:14 PM",
          "AuthorName": "Deleted user",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=613472&course=5",
          "role": [
            "Picture of Deleted user"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 382998,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=382998",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Problem restoring courses from anothe rmoodle",
          "Text": "I'm trying to move some courses from an old Moodle 2.7 site to a 3.5.4 site. I have exported one of the courses, download the .mbz file from the old server , then uploaded it to the new server. The max upload size setting on that server is set to unlimited & I've tried downloading the file again from the new server and unzipping it & file is readable and has the moodle_backup. xml file in the root. However, when I try to restore the course (using Site administration/Courses/Restore course), I always get the message \"The selected file is not a valid Moodle backup file and can't be restored\". I tried with another course but get the same result. I don't have ssh access to the server this moodle runs on, only admin rights in Moodle itself, when I go to Reports and look at all activity for today, it has nothing logged about the attemped restores. Any ideas about why it dosn't seem to accept my backups as valid files?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, February 26, 2019, 7:12 AM",
          "AuthorName": "Ian Moore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1908844&course=5",
          "role": [
            "Picture of Ian Moore"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 84450,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=84450",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "\"No files selected\" error on restore/import",
          "Text": "I'm having difficulty creating a new course instance from an existing course. In preparation of a new term, I created a backup (without user data) of an existing course.Â  I copied the resultant zip file into the data directory of a new (but otherwise blank) course that I created.Â  Using the restore command, moodle (1.8.+) seems able to read the zip file, and presents me with the opportunity to select course elements (all of which have the correct names from the original course).Â  I select all and all the checkboxes are selected, but when I continue, all I get is a page stating \"No files have been selected.\" I have created new backups and have also tried restoring as a new course, as well as trying the import command-- when import opens the zip, I can select all the course elements, but when I continue, I get an admin page asking me to select a course.Â  Selecting the course just takes me to that courses page with no other results. I am well and truly puzzled!Â  I am up against a major development deadline and would appreciate any help!!!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 14, 2007, 6:35 AM",
          "AuthorName": "Dead Guy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=34665&course=5",
          "role": [
            "Picture of Dead Guy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: \"No files selected\" error on restore/import",
          "Text": "Although nobody in the forum seems to have encountered this problem, I will go ahead and post the solution--Â  the security-hardened version of php (suhosin) was limiting the scope of global variables and thus preventing the backup/restore/import mechanism for working correctly.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 20, 2007, 8:28 AM",
          "AuthorName": "Dead Guy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=34665&course=5",
          "role": [
            "Picture of Dead Guy"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: \"No files selected\" error on restore/import",
          "Text": "I have just encountered this problem in Moodle 1.8.3. I am trying to create a new course from an old one. I can create the zip file just fine from my existing course using 'Backup'. I tried to 'Restore' directly from that file and it won't work. I then created a new course, copied the zip file to its backup folder, then attempted to 'Restore'. It wouldn't work. I tried all 3 options: Restore to New course, Restore to existing course deleting first, and restore adding to existing course. In every case, it shows all the correct files contained in the zip file. But I always get pushed out to the login page. After the login, I get the dreaded \"No files have been selected to restore.\" And indeed, no restore has occurred. Can you give a little more detail about suhosin and how you corrected this problem?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 26, 2008, 9:19 AM",
          "AuthorName": "Dennis Schaffer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=473117&course=5",
          "role": [
            "Picture of Dennis Schaffer"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 335955,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=335955",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Full moodle site backup strategy",
          "Text": "Hi all, I guess this question has been answered before but I couldn't find it. I want to do a daily backup of the full site automatically . All: databases, code, installation... Is that possible and how do you manage it? Using any external software or whatever? Many thanks, Dani",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, July 5, 2016, 10:34 PM",
          "AuthorName": "dani dani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1791327&course=5",
          "role": [
            "Picture of dani dani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Full moodle site backup strategy",
          "Text": "Answer kinda depends upon platform under which Moodle runs to an extent. If Linux here's what I have done ... tar ball of code saved to a /home/backups/ directory and set to script that's run manually ... reason ... code doesn't change daily.Â Â  Only when site has been updated or upgraded. my sql dump of database ... done daily to same /home/backups/Â Â  The sql file created has date/time stamp in filename. rsync of data directory to a mirror in /home/backups/moodledata daily ... rsync set to update new and remove what has been removed in the mirror.Â Â  So it's really a 24 hour type backup.Â Â  What's in filedir needs to match what's in mdl_files table for sure.Â Â  Directory could be rather large so unless one had unlimited space sync'ing is ( IMHO ) the only way to go. All of that (/home/backup/) ... rsync'd daily to an archive server and run after the rsync of the mirror of moodledata Like to keep the backups where I can reach them without potential for connectivity issues to other systems ... preference.Â Â  But, it does mean that one needs to have a rather large /home (partition) file system ... 1TB can get full faster than one realizes with Moodles that are used daily. One could check into backup software with agents, etc.. ... me, am too frugal when I know I can get almost the same functionality for nothin'! ;) 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 6, 2016, 12:12 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Full moodle site backup strategy",
          "Text": "A Moodle https://docs.moodle.org/en/Site_backup has everything. To automate, you just need a shell script. Read the FAQ linked from the header of this forum.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 9, 2016, 10:58 PM",
          "AuthorName": "Visvanath Ratnaweera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41095&course=5",
          "role": [
            "Picture of Visvanath Ratnaweera",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 114436,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=114436",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Backup.restore and Import failing 1.9+",
          "Text": "Attempting to backup a course and import the content into a new course. Create the new course and run import but gt numerous errors failure. Attached is a PDF of the errors",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 21, 2009, 11:17 AM",
          "AuthorName": "Neale Graham",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=498724&course=5",
          "role": [
            "Picture of Neale Graham"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup.restore and Import failing 1.9+",
          "Text": "Neal, if you want to transfer your course to a new server or start a new semester or term of a course already in use as opposed to importing some content from one course into another course, then I believe you want to use the restore function in moodle instead of the import function. It can be confusing, but if the former is what you want to do, then you are essentially \"restoring\" the course even though you are restoring it to a new course on the same or different server. Hope this helps. Good luck.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 22, 2009, 1:56 PM",
          "AuthorName": "David Russell",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=16536&course=5",
          "role": [
            "Picture of David Russell"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup.restore and Import failing 1.9+",
          "Text": "Thanks David, As it stands I would be happy if I coud do either import or restore. I believe the error lies in the backup component as well. I can not restore or import any course from a backup without getting the errors included in the pdf attached to my initial post. Fails with the creation on content. Thanks Neale",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 23, 2009, 6:19 AM",
          "AuthorName": "Neale Graham",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=498724&course=5",
          "role": [
            "Picture of Neale Graham"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 63111,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=63111",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Error message...",
          "Text": "This is during automated backup via cron. Allowed memory size of 134217728 bytes exhausted (tried to allocate 0 bytes) Any ideas? Sam",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, January 22, 2007, 10:00 PM",
          "AuthorName": "Sam Wynens",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=158885&course=5",
          "role": [
            "Picture of Sam Wynens"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 438013,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=438013",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Automated backups run OK but not made",
          "Text": "Hi all, I run a Moodle site with over 200 courses and I usually have the automated backups disabled. I just want to make them once on september to have them before the school year begins. So I go to Administration > Courses > Backups, and I set it to Activate (I also tried Manual) Then I run the command /usr/bin/php admin/cli/automated_backups.php and it runs ok but does nothing. Here's the output: Server Time: Wed, 07 Sep 2022 13:54:44 +0200 Checking automated backup status...OK Checking courses Skipping deleted courses...0 courses Running required automated backups... ... started 13:54:44. Current memory use 36.6MB. Getting admin info Automated backups complete. Automated cron backups completed correctly Execution took 0.141176 seconds I don't know why this happens. I also tried running it from Schedulled tasks \"\\core\\task\\automated_backup_task\" and the result is the same. Have this happened to anyone else?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 7, 2022, 9:10 PM",
          "AuthorName": "Ur BCN",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4243666&course=5",
          "role": [
            "Picture of Ur BCN"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Automated backups run OK but not made",
          "Text": "One could fiddle a lot with auto backups but from what you say your goal is, might be best to do a little command line foo that doesn't involve auto. First, look at backup preferences ... and set for no users, no logs, no events - whatever excludes would give you no user backups with just course content. I do this in code/admin/cli/ ... First, do script for DB query to get course ID numbers.Â Â  Call it getcids.Â Â  You fill in $ variables below looks like: mysql -u $mddbuser -p$mddbpass -e \"use $mddbname;select id from mdl_course;\" > cids.txt;cat cids.txt Edit cids.txt and remove the column label at top and course ID 1 which is your front page and can't be restored anyway. After editing, looks like: 3 6 They don't have to be sequential. Decide where you have enough room to hold the course backups.Â  My server has a large partition called /home/ and I create a directory there called 'clibackups'.Â Â  Root ownerships and permissions are ok. Next create a bash shell script that will loop through cids.txt and run command line backup of each course.Â Â Â  Call it niclibackups Looks like: #!/bin/bash # cd /path/to/admin/cli/; for i in `cat /path/to/admin/cli/cids.txt` do echo \"Course ID in que:\" $i; php backup.php --courseid=$i --destination=/home/clibackups/ done ls -l /home/clibackups/; echo 'Done!'; execute: source niclibackups or make niclibackups executable by root. chmod u+x niclibackups Then execute: ./niclibackups 200 courses are a lot ... do above during non-prime time for server. and you might have to use a 'nohup' in front of ./niclibackups with an & on the end of that nohup command to assure it finishes. nohup = no hang up - assures it will run even if your shell times out. from /path/to/code/admin/cli/ where niclibackups lives nohup ./niclibackups & nohup.out is the log of niclibackups and one could log out ... then log back in later and watch nohup.out to see how far along it is. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 7, 2022, 10:24 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 258520,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=258520",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "500 Internal Server Error while restoring a large course.  Finally solved for me.",
          "Text": "Hi all, I'd like to relate a few things I learned, in the hope it will help others. 500 Internal Server Error is just dreadful.Â  It usually comes up after a long wait, such as a backup or restore.Â  And the error_log files in the moodle directories usually have no clues. I had this situation while migrating from a messy Moodle 2.4.2 installation to a clean 2.4.9.Â  Messy in that it had a long history of ad-hock changes. I should also say that I am using a hostmonster dedicated server which runs centos linux.Â  In principle, I have the whole CPU to myself and no usage limits. I got the 500 Internal Server Error error while restoring a moderately large course, about 53 megs. Lesson learned: 1)Â  Check the Apache log file.Â Â /usr/local/apache/logs/error_log While looking at the apache log file, search for your ip address.Â  That is, the address of the computer that you use to browse the web.Â  Look for the last thing that happened that you did.Â  (This is to ignore all other users accessing your web site.)Â Â  (To find out your ip address google \"what is my ip\" or ask ipchicken\") Anyhow, this gave me (and the very competent hostmonster tech support guy) a clue:Â  the problem was associated with a thing called mod-gcgid. 2)Â  Moodle uses php heavily, and which php engine is used can make a difference. It turns out that there are four such engines available to hostmonster users, and they can be exchanged. On Hostmonster, the procedure to do that is to log into www.yoursitename/whm as ROOT (not your regular username).Â Â  whm is a control panel similar to cpanel.Â  It does not replace cpanel.Â  It is in addition to cpanel. tech suppert guided me to a part of the whm control panel called \"Configure PHP and suEXEC\" In there he had me switch php engines from fcgi to suphp. Problem solved. 3) I don't know whether to celebrate or cry.Â  But I'm glad that it finally works. I have been bothered by this problem for a long long time.Â  See: https://moodle.org/mod/forum/discuss.php?d=252411 ---Peter Halverson PS:Â  I would like to thank Ken Task for the very helpful suggestion of using the automated backup feature for working around the 500 Internal Server Error while doing backups.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 17, 2014, 7:34 AM",
          "AuthorName": "Peter Halverson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1194607&course=5",
          "role": [
            "Picture of Peter Halverson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 99454,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=99454",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Course transfer from WebCt Campus ed. 4.1",
          "Text": "I have a really large course currently running on WebCt Campus edition 4.1. Is there a way to import the course into my new moodle server or will I have to completely rebuild the quizzes? (there are over 10k questions in the webct course. )",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 17, 2008, 1:20 AM",
          "AuthorName": "Normand Morin",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=38381&course=5",
          "role": [
            "Picture of Normand Morin"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course transfer from WebCt Campus ed. 4.1",
          "Text": "We've had pretty good success with the webctimport utility - http://moodle.org/mod/data/view.php?d=13&rid=94 .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 21, 2008, 4:49 AM",
          "AuthorName": "Ann Adamcik",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=173918&course=5",
          "role": [
            "Picture of Ann Adamcik"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 81406,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=81406",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "moodle plugin -> backuplib",
          "Text": "Hi, So, I am working on modifying an existing (looks defunct plugin) and i am trying to implment the backup / restore functionality. Is there any good documentation for creating this functionality. what functions are expected what they are expected to do...i've looked at a few examples from other plugings but, actually documentation would be priceless. specifically the check_backup_mods functions i am looking to see what they are actually expected to be doing. Thanks! Joe",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 2, 2007, 8:15 AM",
          "AuthorName": "joe vieira",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=325264&course=5",
          "role": [
            "Picture of joe vieira"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 130672,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=130672",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "the edit button disappeared.",
          "Text": "Sites were entered into 2 columns 3 columns and the edit button disappeared. Help me with",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 20, 2009, 12:39 AM",
          "AuthorName": "VÃµ Trá»ng TrÃ­",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=134467&course=5",
          "role": [
            "Picture of VÃµ Trá»ng TrÃ­"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 51807,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=51807",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore prob ver 1.5.3",
          "Text": "Hi, Every course I try to restore on my moodle gives me this message Fatal error : Call to undefined function: registershutdownfunc() in /var/www/html/mod/flash/swfphp/File.php on line 529 I have had the flash module installed but then I got rid of it... Any ideas? I attached a copy of the restore file Nick",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 16, 2006, 11:44 AM",
          "AuthorName": "nick mleczko",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133364&course=5",
          "role": [
            "Picture of nick mleczko"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore prob ver 1.5.3",
          "Text": "I've fixed it by commenting out the rogue line of code in the previously mentioned file. The line was PEAR ::registerShutdownFunc(array('File', '_File')); I dont' know what long term effect that will have but the restores work now That's all Nick What is PEAR anyway? I prefer coconuts...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 17, 2006, 6:00 AM",
          "AuthorName": "nick mleczko",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=133364&course=5",
          "role": [
            "Picture of nick mleczko"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 100099,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=100099",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restore without overwriting user IDs",
          "Text": "Hello! I came across a small challenge of restoring a course without overwriting the user IDs associated with the course. I had created a backup of a course which I restored on a Test Moodle Site.Â  I then proceeded to modify the course.Â  Once the modifications were complete, I needed to restore the newly modified test course onto the live server without overwriting the existing User IDs. Initially I was unable to do so because I was performing a backup that did not include the user data. The key to doing this was to perform a complete backup of the test site first.Â  During the process of restoring the site on live, click on the None link under the user data to not restore the user data. This should restore the course without overwriting the existing user IDs. I hope this helps someone out. If there are any errors in my post, please let me know. Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 26, 2008, 3:30 AM",
          "AuthorName": "Moe Fawal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=588815&course=5",
          "role": [
            "Picture of Moe Fawal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 214534,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=214534",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Course Copy",
          "Text": "Looking for some help here - we just made a switch from Blackboard to Moodle and we are hosted by Moodlerooms. Currently running 2.2.3. We are looking for a better way to do course copies or course templateing. Moodle's backup and restore works really well and gives us an exact copy of the course - exactly what we are looking for - but the problem is that as a part of the restore process the instructor has the option to change the course short name and worse off is the fact that it defaults to the name of the course that you are restoring. We identify courses by the short name and run enrollments based on shortname - we actually do not allow instructors to change shortnames. So, for now, we have shut off the ability for instructors to restore courses and we have them import instead - however, imports tend to be messy. We are wanting to start a course templating process for a bunch of programs and it looks like us admins are going to have to restore the templates into the actual courses which is going to be a pain. Is there anyway to allow instructors to restore courses without giving them the ability to change the shortname. We want the shortname to be static for each course and allow for restores to bring over content but not change the shortname of the course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 25, 2012, 5:11 AM",
          "AuthorName": "Autumm Caines",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1419413&course=5",
          "role": [
            "Picture of Autumm Caines"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Course Copy",
          "Text": "In the Teacher Role there is the ability to change the short name of a course. The default is set to Allow, but you can change that by unchecking the permission box. Go to Site Administration > Users > Define Roles > Teacher (or whatever Roles you want to change this on) and click the Edit button. Search for \"short\" and you should find the lines: Change course short name moodle/course:changeshortname Checkbox is alongside. Cheers...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 25, 2012, 6:31 AM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Copy",
          "Text": "Thanks Colin,\n\nHowever, this is not working for me. It does shut off the ability of the instructor to change the course shortname in edit settings but not upon restore.\n\nCheck out this screenshot http://screencast.com/t/rEEgni8sm",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 25, 2012, 9:18 PM",
          "AuthorName": "Autumm Caines",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1419413&course=5",
          "role": [
            "Picture of Autumm Caines"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Copy",
          "Text": "mmmm AFAIK , denying a capability is an effective strategy as Moodle permissions are recalculated every change of page, which slows the change process but maintains higher levels of security.It should not make any difference either way. What you are showing in this image is another process. I understand the database uses the course shortnames as a key index for search strings, therefore it cannot be duplicated in the database. This is an automatic process and cannot be hacked. If the course is the same, restore the course into the created one or if there is duplication of sections, select the bits that need be used and discard those that do not.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 26, 2012, 5:23 AM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Copy",
          "Text": "I have been looking at this for a while and what I put above is both right and wrong. It is right from the perspective ofthe backup and restore process is different than renaming courses while editing. There is no permissions about what a user can or cannot restore, therefore the issue of renaming courses while restoring. There is no way to change this without hacking the code. I suggest you go into General Developer's Forum and ask how to render the Name and Short Name text boxes inactive, making them inaccessible by the person restoring the course. That is the only thing I can think of that has a remote chance of working. I suspect an IF statement in the formslib that separates out the restore form and deactivates those two dialogue boxes, otherwisse the form runs normally.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 27, 2012, 8:29 PM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Copy",
          "Text": "Thank you Colin, since we are hosted by Moodlerooms I don't know if they will tweak core for me. Or at least I don't know how much they will charge us to make the change. Do you think this is something that I should put in a tracker request for? That is, a request for an admin setting that would do two things 1. make it so that a course being restored into another course retains the name of the target course and not the course that has the content. 2. allow me to indicate that a teacher may not change the short name of a course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 27, 2012, 9:52 PM",
          "AuthorName": "Autumm Caines",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1419413&course=5",
          "role": [
            "Picture of Autumm Caines"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Copy",
          "Text": "It does make for an interesting exception does it not? The capability can be granted or removed by a simple switch with the course, but the backup/restore makes no presuppositions about what may or may not be done. All you can do is ask as a tracker item. It does not appear to be a huge request, I suspect, but I really don't know. Having said that, it may mean changes to the capabilities of users, which may entail some serious work in the database, the code - so one of the developers may be abe to help. Discuss it with Moodlerooms, first though, they may have an alternate solution already in place - don't know until you ask. Good luck..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 28, 2012, 7:24 AM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Copy",
          "Text": "Hi Autumm, Did you ever find a resolution to this?Â  This is still a big problem for us - I opened up a tracker item back in July last year but the developer did not think it was bug-worthy. https://tracker.moodle.org/browse/MDL-34523",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 16, 2013, 6:25 AM",
          "AuthorName": "Susan Mangan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=118137&course=5",
          "role": [
            "Picture of Susan Mangan",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Copy",
          "Text": "Following Colin to say that Moodle has the ability to bulk create courses (we don't use that, but it exists -- Google it).\n\nWe create many sections of the same course using the role admin or manager or whatnot, and don't prohibit but don't advocate that teachers replicate classrooms. Teachers typically don't want to do that replication.\n\nSo, typically, I use one backup of a course template to make many sections of the same course. Unless you are talking sections/classrooms (Moodlespeak = \"courses\") in the hundreds or thousands, your admin(s) can do the replication, and just leave the teachers out of it.\n\nMy procedure is to restore a backup, give it a shortname that makes sense, give it a long name and a description that makes sense, restore = OK. Then add the teacher, and go on to the next section/classroom.\n\nDeep info: our course info system decides our shortname (typically something like RUL1-131B) which means nothing to teachers but everything to our use of csv files to enroll students.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 25, 2012, 8:19 AM",
          "AuthorName": "ben reynolds",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=259778&course=5",
          "role": [
            "Picture of ben reynolds"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Copy",
          "Text": "Thanks Ben, our teachers are actually used to being able to copy content from one course to another for themselves in blackboard. Since we are less than a year into the conversion perception is everything. Â Taking this away is putting new items on the plates of our admins and some of our faculty see it as a more complicated process. What they used to be able to do for themselves they now have to issue a request for - and wait till the admin can get to it. Right now we actually have them use the import feature but that has issues with formatting. We are working with an instructional designer now to create templates and will need exact copies as we go forward.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 27, 2012, 10:07 PM",
          "AuthorName": "Autumm Caines",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1419413&course=5",
          "role": [
            "Picture of Autumm Caines"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Course Copy",
          "Text": "You might check out the plugin Sharing Cart. Not designed for full course copy but an awesome plugin for sharing assignments/ activities between courses.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 27, 2012, 11:18 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 209777,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=209777",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Backing up from one Moodle, restoring to another in 2.3.1",
          "Text": "Hi there, I've run into a problem and am really hoping that somebody here can help. I have two installations of moodle: M1: buggy but functional 2.3.1 with all my courses on them. I have performed backups of my courses here. M2: clean but empty moodle 2.3.1 in a different directory. I want to restore backups from M1 into here. 1. I assumed that it would be a simple matter of finding the mdz files that were created in the backup process of M1 and then putting them where the restore process of M2 would notice them. However, I could not find the mdz files that were created! Am I going about this the right way? if 'yes' where are the mdz files stored? 2. Is there another way of going about this? Look forward to any help on this subject, thanks so much in advance. David I've overcome an installation problem and been left with a buggy but functional version of moodle. I have backed up my courses, and want to now I have installed a clean version of moodle",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, August 25, 2012, 11:38 AM",
          "AuthorName": "David Leaper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=502141&course=5",
          "role": [
            "Picture of David Leaper"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backing up from one Moodle, restoring to another in 2.3.1",
          "Text": "Hi I don't understand. How can M1 be buggy and M2 clean, if they both are 2.3.1 and in the same server ? Can you explain the bug? I suspect, you are trapped in the file name scrambling feature of Moodle 2. There are complicated work-arounds circulating in the forums, never tried them myself. Even if you solve that problem, you are going to do the whole thing manually course by course, downloading from M1 and uploading back to M2. Why don't you do a Moodle-to-Moodle (site) migration: http://docs.moodle.org/23/en/Moodle_migration ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 26, 2012, 5:51 AM",
          "AuthorName": "Visvanath Ratnaweera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41095&course=5",
          "role": [
            "Picture of Visvanath Ratnaweera",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backing up from one Moodle, restoring to another in 2.3.1",
          "Text": "Thanks for the reply! It's all quite easily explained, I'm happy to say: M1 is buggy because it comes from an upgrade from the previous moodle, and hence, has all my course contents on it, which I dearly want to keep! The upgrade worked to a certain extent: my courses are up and running but with debug turned on I get a list of errors an arm long. So, it works okay now, with no students enrolled, but under pressure who knows what kind of computer errrors would manifest? Much better to keep the contents but put them into a clean install. I can do this because I'm using a server that I paid for to run my courses. So, that's my situation.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 26, 2012, 4:57 PM",
          "AuthorName": "David Leaper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=502141&course=5",
          "role": [
            "Picture of David Leaper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backing up from one Moodle, restoring to another in 2.3.1",
          "Text": "As for my problem: Thanks for the proposed solution, but I think the 'moodle migration' might preserve all the bugs from before... Hmmm, maybe I'm asking the wrong questions: perhaps I should ask \"how do I copy a course to a different moodle installation?\" I've looked through the manual, and have downloaded one of my courses from M1 (the smallest) as a .mbz file which is 45MB. Then I went to the M2 (new moodle installation) and tried to 'restore' this. However, its too big to upload and when I go through the server I can't find a place to put it so that I can find it through M2's restore process. The file picker lists a couple of directories 'system/miscellaneous/CourseName ' and 'Privatefile' which seem like possibilities, but where are these files on the server's directory? And of course, I don't know for sure if this will solve my bug problems - maybe I'll copy them across...? So, please, any guidance on this would be much appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 26, 2012, 5:16 PM",
          "AuthorName": "David Leaper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=502141&course=5",
          "role": [
            "Picture of David Leaper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backing up from one Moodle, restoring to another in 2.3.1",
          "Text": "Hi, Q: can't you increase the max. upload size?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 26, 2012, 6:06 PM",
          "AuthorName": "sue sugizaki",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=289086&course=5",
          "role": [
            "Picture of sue sugizaki"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backing up from one Moodle, restoring to another in 2.3.1",
          "Text": "yes, but I have to find the php file and then find the bit to change etc etc, and uploading via the ftp on the server is quick",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 26, 2012, 6:11 PM",
          "AuthorName": "David Leaper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=502141&course=5",
          "role": [
            "Picture of David Leaper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backing up from one Moodle, restoring to another in 2.3.1",
          "Text": "as far as i remembered, i changed the \"upload_max_filesize\", \"post_max_size\" and \"memory_limit\" in php.ini.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 26, 2012, 7:20 PM",
          "AuthorName": "sue sugizaki",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=289086&course=5",
          "role": [
            "Picture of sue sugizaki"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backing up from one Moodle, restoring to another in 2.3.1",
          "Text": "Ho ho ho! I think I've managed to crack it. 1. I downloaded the mbz file directly from the old & buggy M1 2. After a bit of searching in the documentation I managed to find this useful bit of info about setting up a repository file on the server. 3. I uploaded the mbz file into the repository file and used the file picker in 'restore' on M2 to breathe life into it. 4. I checked the debugging notices in M2 and nothing. Great! I'm just hoping I can do the same thing for the one really big course that I have - even creating a backup file for it has failed so far...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, August 26, 2012, 6:09 PM",
          "AuthorName": "David Leaper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=502141&course=5",
          "role": [
            "Picture of David Leaper"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backing up from one Moodle, restoring to another in 2.3.1",
          "Text": "I am getting so frustrated with this! How did you download the mbz file off the old server? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 29, 2012, 4:20 PM",
          "AuthorName": "Dominique Cave",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=85230&course=5",
          "role": [
            "Picture of Dominique Cave"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backing up from one Moodle, restoring to another in 2.3.1",
          "Text": "OK, just figured it out... of course you have to go to restore to see them! Weird. Just lost an hour of my life to see that!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 29, 2012, 4:31 PM",
          "AuthorName": "Dominique Cave",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=85230&course=5",
          "role": [
            "Picture of Dominique Cave"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backing up from one Moodle, restoring to another in 2.3.1",
          "Text": "ha ha. This thread is for those who can answer their own questions!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 29, 2012, 9:20 PM",
          "AuthorName": "David Leaper",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=502141&course=5",
          "role": [
            "Picture of David Leaper"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 115028,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=115028",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "please help if you can - need to restore forum files",
          "Text": "I posted below my problem - I see all the forum files in MySQL moodle data base using phpmyadmin -Â and KNOW there has to be a way to restore them to myÂ client's moodle site.Â Â I don't know 1 - which files to export: I see mdl_forum; mdl_forum_discussions; mdl_forum_posts; mdl_forum_queue; mdl_forum_ratings; mdl_forum_read; mdl_forum_subscriptions; and mdl_forum_track_prefs 2- in which file format to export them 3 - how to useÂ \"restore\" to access these files on the moodle forum - or access them some other way. Am I trying to do something that isÂ not doable?Â  If so, I'd appreciate knowing that, too,,,,I am pulling my hair out. Thank you, Linda",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 29, 2009, 5:39 AM",
          "AuthorName": "Linda Gutherie",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=464474&course=5",
          "role": [
            "Picture of Linda Gutherie"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 32119,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=32119",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "How to backup and restore a full Moodle site!",
          "Text": "Can someone help me ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 7, 2005, 11:22 AM",
          "AuthorName": "sunny li",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=79424&course=5",
          "role": [
            "Picture of sunny li"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How to backup and restore a full Moodle site!",
          "Text": "Hi, no I can't help you, but I'm asking myself the same thing.Â  I figured downloading the complete site would be enough, but maybe that's not good enough since I'm changing hosts ... cheers, Erik",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 9, 2005, 7:29 PM",
          "AuthorName": "Erik Ringmar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=80372&course=5",
          "role": [
            "Picture of Erik Ringmar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to backup and restore a full Moodle site!",
          "Text": "I have used Moodle since 1.0 and never had to worrie about this till as of late. Here is what I did. Setup the new server , configured the PHP.INI and HTTP.CONF ect ect. On the old server, I tar the moodledata folder, and ran a backup of the database . I then tar up the themes and mod folder and the config.php file. I moved the MySQL . sql file, moodledata folder, themes folder and config.php to the new server. Next I renamed the moodle folder on the old server so no one could do anything while I converted over to the new server. One the new server, I downloaded a fresh copy of moodle and placed that in the web server root folder. I then copied over the moodledata folder from the old server and placed it in the same location that it was in on the old server /Library/www/moodledata. I then copied over the config.php into the new moodle folder. I set all the folder permissions and ownership of the files and folder to the same as I had on the old server. I then copied over the moodle.sql file that I created on the old server. Using MySQL commands I created a new database on the new server called moodle. I made sure the same user name and password was used on the new database as I had on the old server. So I did not have to change the config.php file in the moodle folder. Then I issued the command to dump my old database into the new database. mysql -p moodle < moodle.sql Changed the setting on the new server, to that of the old server, ie --- hostname, ip address ect ect. Then I loaded a browser and pointed to http://newserver/moodle/admin all updated fine and the outcome was a new moodle server with all my old data. I hope this gives you some idea on how it can be done. I did not go into great detail because each person will have something a little different. As far as settings go, and others may do this a bit differnt.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, October 9, 2005, 9:03 PM",
          "AuthorName": "Floyd Collins",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=6340&course=5",
          "role": [
            "Picture of Floyd Collins"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to backup and restore a full Moodle site!",
          "Text": "Thanks Floyd for the very detailed description.Â  Wish me good luck! Erik",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 11, 2005, 12:29 PM",
          "AuthorName": "Erik Ringmar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=80372&course=5",
          "role": [
            "Picture of Erik Ringmar"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to backup and restore a full Moodle site!",
          "Text": "Hi, my interest was the same but the way and the results were so diferent. Anyone may explain ?? There are two Linux (Fedora) servers:",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 15, 2005, 12:38 PM",
          "AuthorName": "Nivaldo Vasconcelos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=23664&course=5",
          "role": [
            "Picture of Nivaldo Vasconcelos"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: How to backup and restore a full Moodle site!",
          "Text": "Try using mysqldump to create a backup of your original database (mysqldump -u user -ppassword moodle > moodle-backup.sql). Move the new file 'moodle-backup.sql' to the new server then recreate the database using 'mysql -u user -ppassword moodle < /path/to/moodle-backup.sql' this is a better practice than copying /var/lib/mysql/*. Some points here: 1) it's better security not to type -ppassword. Just type -p and you will be prompted; 2) Have you set up mysql with appropriate users and privileges on the new server?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, November 2, 2005, 8:29 PM",
          "AuthorName": "Laurie Savage",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=30905&course=5",
          "role": [
            "Picture of Laurie Savage"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 230719,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=230719",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Database Connection Failed",
          "Text": "I am having trouble connected to the database . I think the server is out of space. What files are safe to delete to clear space?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 14, 2013, 10:41 PM",
          "AuthorName": "Tearh James",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1416862&course=5",
          "role": [
            "Picture of Tearh James"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 208259,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=208259",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "restoredaccountinfo",
          "Text": "Restored account This account was imported from another server and the password has been lost. To set a new password by email, please click \"Continue\" This is the message on restoring accounts. We want to update the text in the message.Â How do we do that? I see the text is part ofÂ lang/en/moodle.php but changing this did not help.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 2, 2012, 1:52 AM",
          "AuthorName": "Michael Chan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1348067&course=5",
          "role": [
            "Picture of Michael Chan"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: restoredaccountinfo",
          "Text": "Hi Michael, Please could you double-check that you have followed all the instructions in Language customization .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, August 2, 2012, 12:50 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 165324,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=165324",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "consolidating courses from two different moodle servers",
          "Text": "I have moodle server 1.9+ running with about 20 courses on it. I have another server 1.8.x running with about 30 courses on it. I would like to backup server 1.8.x and bulk upload the courses to the 1.9+ server. I'm afraid that the one set of courses may overwrite the existing ones. Please, any advice will be appreciated. Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 31, 2010, 9:49 AM",
          "AuthorName": "Charlotte Corbett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1120509&course=5",
          "role": [
            "Picture of Charlotte Corbett"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: consolidating courses from two different moodle servers",
          "Text": "If doing it all in bulk then yes, they may cause a problem, but one at a time, annoying yes, but it will get the job done. The trouble is if you append materials to a course, then you are duplicating a lot of stuff. If you overwrite, delete first then write, you are replacing later materials with older ones. Neither are desirable outcomes, so one course at a time gives you complete control. You may want to append some courses, overwite others but there are about 10 courses you can restore in your 1.9.x without fear of damaging anything, that would be a good place to start.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, December 31, 2010, 11:21 AM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: consolidating courses from two different moodle servers",
          "Text": "Sorry, I wasn't very clear in my original post. There are 20 original courses on the 1.8 server and 30 on the 1.9+ server making a total of 50 original courses. Adding them would require me to create the course then upload the docs for each course - 30 times. Correct?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 1, 2011, 1:30 AM",
          "AuthorName": "Charlotte Corbett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1120509&course=5",
          "role": [
            "Picture of Charlotte Corbett"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: consolidating courses from two different moodle servers",
          "Text": "Hi Charlotte, No, you can backup the course with all its files, download to your desktop, and upload to 1.9 server, provided your max upload size is larger than the size of the backup file. You create one course on the 1.9 server and use it to upload each backup file. You then restore each backup to a new course, being careful to give each restoration a unique short name different from any of the 30 on your 1.9 server. This assumes the docs you want are course files and not user files. If, like us, you have a generic teacher in all your classrooms, it may be that some docs belong to a generic user, and then you'll have to backup & restore with user files (&, probably, with users).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 1, 2011, 5:32 AM",
          "AuthorName": "ben reynolds",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=259778&course=5",
          "role": [
            "Picture of ben reynolds"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: consolidating courses from two different moodle servers",
          "Text": "One clarification, Charlotte, would be helpful. Are the 1.8 and 1.9 courses all unique courses? As in: English 101 is on 1.8 but English 102 is on 1.9. Science 404 is on 1.9 but Science 405 is on 1.8.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 1, 2011, 5:34 AM",
          "AuthorName": "ben reynolds",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=259778&course=5",
          "role": [
            "Picture of ben reynolds"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: consolidating courses from two different moodle servers",
          "Text": "Yes you are correct. English 101 is on 1.8 and English 102 is only on 1.9.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 1, 2011, 6:42 AM",
          "AuthorName": "Charlotte Corbett",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1120509&course=5",
          "role": [
            "Picture of Charlotte Corbett"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: consolidating courses from two different moodle servers",
          "Text": "Well, that's good. It means that, unless your short course names are identical, whatever you restore will likely not overwrite what's in 1.9. OTOH, depending on which modules you're restoring per course, I think I remember that some stuff doesn't come through perfectly. Unfortunately, I can't remember what. Our move 1.8 > 1.9+ was more than a year ago. You might want to Google \"using Moodle 1.8 1.9\" and see what turns up. Test Quiz, especially. But maybe also Lesson . [Caps for Moodle modules.]",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 1, 2011, 10:19 AM",
          "AuthorName": "ben reynolds",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=259778&course=5",
          "role": [
            "Picture of ben reynolds"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: consolidating courses from two different moodle servers",
          "Text": "Ben is right, there is a couple of issues between 1.8 and 1.9, and most fo those were centred around the plugins - if I remember rightly. So, if I also remember you can backup courses in 1.8 the same way you can in 1.9, that is in sections . What you may be able to do is to backup course files, WITHOUT site files, roles and User files. If this is correct, then do that first. Restore them to 1.9, and you should be able to do so with a minimum of fuss. Quizzes caused the most angst from memory, but there were a number of discussions about those issues in the Quiz forum that you may want to read. Then backup Users and User data, and STUDENT ROLES WITHOUT course files, other roles and site files. Restore them, if you need to. You may be able to restore students without their data, if you want to do it that way, but I cannot remember what functionality is available to you in 1.8... too long ago and not sufficiently well learned to remember much at all before going to 1.9... That is, I suggest, the safest way of doing things, one bit at a time. I know a little time consuming, but safer. If worse comes to worse, you can unzip the files and edit the moodle. xml file to remove anything you do not want in it, rezip them and restore the modified files. There is a lot of xml data in the file that you do not really need to successfully restore courses. If you restore and get a block error, for example, look for the block in the unzipped xml file, delete it and rezip, upload and continue. You may have to remove all references to non-core blocks and some users, Admin user in particular, but it can work.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 1, 2011, 3:47 PM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 220434,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=220434",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Over sized back up in Moodle 1.9 to restore in Moodle 2.4",
          "Text": "Hi, I have a HUGE back up (400 MB) from Moodle 1.9 that I need to restore to Moodle 2.4. The back up is too big for the file uplooad size. How do I move into moodle so that I can use the restore feature on Moodle 2.4 and restore the course? Thank you!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 24, 2013, 6:21 AM",
          "AuthorName": "deepti pulavarthi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=419606&course=5",
          "role": [
            "Picture of deepti pulavarthi"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Over sized back up in Moodle 1.9 to restore in Moodle 2.4",
          "Text": "Two thoughts: If you have access to the server , increase the upload and post file size in /etc/php.ini while you do it - this is what I did Alternatively you could setup the repositories and ftp the backup file to the server, but the restore process may still see it as a POST",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 24, 2013, 8:02 AM",
          "AuthorName": "Simon Bryan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=7202&course=5",
          "role": [
            "Picture of Simon Bryan"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Over sized back up in Moodle 1.9 to restore in Moodle 2.4",
          "Text": "Hi Deepti Whether 400 MB is big depends on the kind of web hosting service you have. Yes, if those two sites are hosted in two different shared web hosting services which can not exchange files, then 400 MB is a lot. I can't think of any other solution than uploading to the new web hoster via FTP. You are lucky to have Moodle 1.9. Just upload the file into wwwdata/courseid and it will be visible in the Moodle course with courseid. (In Moodle 2.x you have to follow http://docs.moodle.org/en/File_system_repository ).",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 24, 2013, 4:03 PM",
          "AuthorName": "Visvanath Ratnaweera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41095&course=5",
          "role": [
            "Picture of Visvanath Ratnaweera",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Over sized back up in Moodle 1.9 to restore in Moodle 2.4",
          "Text": "Hi Thank you so much! The file repository worked perfectly well. Thank you Deepti",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 24, 2013, 11:57 PM",
          "AuthorName": "deepti pulavarthi",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=419606&course=5",
          "role": [
            "Picture of deepti pulavarthi"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 143299,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=143299",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Importing grades - \"no user data\" error",
          "Text": "Hi guys, I have a teacher who's trying to split a class into two. They have a metacourse which contains all assignments and grades for 2 classes, which are child courses of the metacourse. She now wishes to have the grades separately on each child course. When attempting to use the Import facility on the class, the following error is displayed: \" Note: This backup contains no users and so all activities have been switched to \"without user data\" mode. Exercise and Workshop activities will not be included in the backup, since these modules are not compatible with this type of backup. \". When the import completes, the grades from the assignments are not imported with the assignments themselves. Is there an option I need to select, or a permission which I may have restricted that could be causing this? I did restrict some users from backing up user data prior to the release of 1.9.7, but I've since undone the changes I made and teachers now have permissions to backup user data. Thanks Mark",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 8, 2010, 8:08 PM",
          "AuthorName": "Mark Johnson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=858318&course=5",
          "role": [
            "Picture of Mark Johnson",
            "Picture of Core developers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Importing grades - \"no user data\" error",
          "Text": "Did you find a fix for this?Â  I am having the same issue since I upgraded.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, October 28, 2010, 11:11 PM",
          "AuthorName": "Mark Snodgrass",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=218204&course=5",
          "role": [
            "Picture of Mark Snodgrass"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 362855,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=362855",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restore hangs at 25% No Errors",
          "Text": "Hi All, I moved my Moodle installation on GoDaddy hosting from a Bitnami application Install. Now I am unable to restore courses over 78M; On my old server , I was able to back and restore large courses with no problem. I am able to back up fine but restoring any courses over 78M hangs at 25% on the blue progress bar. I checked my php.ini and all the setting match my old php.ini, no errors on any logs.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 13, 2017, 1:11 AM",
          "AuthorName": "Mohanchand Raghbeer",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2077102&course=5",
          "role": [
            "Picture of Mohanchand Raghbeer"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 52720,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=52720",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "backup for offline work",
          "Text": "hi i am anew user and just want to know if it is alright to do the following:- i have installed moodle with apache etc on my PC (stand alone). AND I have installed moodle on my website too. now i want to work on my pc moodle to create courses etc, test run themÂ  and THEN transfer them to my website's moodle installation. what would be the best way to do this? i thought that i must backup the courses on my PC and then restore them on the moodle of the website? has anyone tried this? is it ok? regards",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 29, 2006, 2:04 PM",
          "AuthorName": "Dr S Bhatia",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=155236&course=5",
          "role": [
            "Picture of Dr S Bhatia"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 221053,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=221053",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Critical Request: How to restore an MBZ file to recover a course",
          "Text": "Hello, This is related to my post: https://moodle.org/mod/forum/discuss.php?d=221052#p962044 We back up our database and moodledata on a nightly basis and because we have encountered a critical error, we would need to recover and restore the course from a previous backup. How do we restore a course from a backup when we know what the name of the backup is in our mdl_files.filename table? Where do we grab the backup from our /srv/moodledata folder? is this correct? select contextid, contenthash, pathnamehash, filepath, component from mdl_files where contextid = 'xxxxxx' and component = 'backup'; and then just do a find for the pathnamehash and then the cotenthash is the mbz file? Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 31, 2013, 8:31 AM",
          "AuthorName": "John Reese",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1392695&course=5",
          "role": [
            "Picture of John Reese"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Critical Request: How to restore an MBZ file to recover a course",
          "Text": "Interesting and scary what I found ... Just did another query to try and see what backups the course has and itâ€™s gone also the database side too after todayâ€™s error ..could mean that it may be harded to try and find the backup now after the error occurred. All I can hope now that it's still somewhere in our moodledata folders but just not recorded in the database. Perhaps I should restore the database to a test platform to get that file location and then check to see if it's still there in the production moodledata directory. thoughts?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 31, 2013, 9:02 AM",
          "AuthorName": "John Reese",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1392695&course=5",
          "role": [
            "Picture of John Reese"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 102475,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=102475",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Which moodledata sub folders are required?",
          "Text": "While planning for disaster recover I was wondering... When doing a full site restore should we restore all the folders in moodledata or just the numbered folders? Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 1, 2008, 1:37 AM",
          "AuthorName": "Deleted user",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=585136&course=5",
          "role": [
            "Picture of Deleted user"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Which moodledata sub folders are required?",
          "Text": "Each of the numbered ones refers to a particular course. 1 is usually the site home page. So, you would want all of those unless you are willing to lose data files for a course. You will want the user folder or you will lose their avatars and maybe more. Keep the groups. It will have any group avitars at least and otherwise will take up no space. If you have anything except utf_8 English, or your have customized any languages, you will want the lang folder. Might as well keep it in any case because it will be super small if there are not additions. You probably don't need temp, session, or cache, but they really take up no space.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 1, 2008, 8:05 AM",
          "AuthorName": "Gary Anderson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=81449&course=5",
          "role": [
            "Picture of Gary Anderson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 437265,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=437265",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "How do I add backup course to the end of an existing course, not mixed through it?",
          "Text": "Hi all, Moodle 3 Is there a setting that will allow me to import a backup course into an existing course as an add-on to the end of the existing course rather than having topics mixed and mingled together between the original course and the import? Thank you for reading this. Declan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 16, 2022, 6:02 PM",
          "AuthorName": "Declan Maher",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1238163&course=5",
          "role": [
            "Picture of Declan Maher"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: How do I add backup course to the end of an existing course, not mixed through it?",
          "Text": "Have you tried the import feature instead of a full backup and restore? I am not sure where that will put the sections but it might be worth a try.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 16, 2022, 8:20 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 61865,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=61865",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Cannot redeclare backup_set_config()",
          "Text": "I'm trying to restore a course backed up from an older version and I receive the following message: PHP Fatal error: Cannot redeclare backup_set_config() (previously declared in E:\\ctanm\\dev\\newmoodle\\backup\\lib.php:8) in e:\\ctanm\\dev\\newmoodle\\backup\\lib.php on line 8 Can somebody help me ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, January 6, 2007, 7:03 AM",
          "AuthorName": "Tom SAVU",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=213479&course=5",
          "role": [
            "Picture of Tom SAVU"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Cannot redeclare backup_set_config()",
          "Text": "I am having the same problem.Â  I have 2 installs on IIS 6 servers--one works and the other does not.Â  Backup did work for a couple of weeks, but stopped.Â  Backup, restore or change of course settings all fail.Â  Any help appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 16, 2007, 11:04 AM",
          "AuthorName": "Larry Coldiron",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=207482&course=5",
          "role": [
            "Picture of Larry Coldiron"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Cannot redeclare backup_set_config()",
          "Text": "I didn't find the solution, but I found a work around that fixed my immediate problem. I reinstalled moodle in a different folder in the IIS server using the same moodle data folder and database . I can backup and restore with the new install.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, February 18, 2007, 11:54 PM",
          "AuthorName": "Larry Coldiron",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=207482&course=5",
          "role": [
            "Picture of Larry Coldiron"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 224174,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=224174",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "cannot enable automatic course backups",
          "Text": "Hi All, We are running Moodle 2.2.7+ (Build: 20130118) and are experiencing problems activating automatic course backups. I go into Site administration / â–º Courses / â–º Backups / â–º Automated backup setup When i change the first box named \"active\" to enabled and click save changes, the change is not saved, it keeps reading \"disabled\". Same result if I set to \"manual\". I run admin/cron.php and it tells me that auto backups are inactive.Â  I have noted that the following is added to config.php $CFG->disablescheduledbackups = true; $CFG->forced_plugin_settings = array('backup' => array ('backup_auto_active' => 0)); if (file_exists(\"$CFG-> dirroot /lib/setup.php\"))Â  {Â Â Â Â Â Â  // Do not edit include_once(\"$CFG->dirroot/lib/setup.php\"); } I have tried removingÂ  the line \"$CFG->disablescheduledbackups = true;\" but I still cannot enable autobackups as active. Any help would be appreciated Thanks in advance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 10, 2013, 5:17 PM",
          "AuthorName": "tim wilde",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1507055&course=5",
          "role": [
            "Picture of tim wilde"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: cannot enable automatic course backups",
          "Text": "In the mdl_config table cannot find any values for: backup | backup_auto_active thus, not sure one can use $CFG values in config.php to control .. ie, turn off or on. Comment under 'Active' setting on the Automated backup setup form says: ' Choose whether or not to do automated backups. If manual is selected automated backups will be possible only by through the automated backups CLI script. This can be done either manually on the command line or through cron. ' Setting that to manual means one must use the admin/cli/automated_backups.php script from the command line to execute. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, March 10, 2013, 10:36 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: cannot enable automatic course backups",
          "Text": "Thanks Ken, I have checked the logs files - nothing obvious in here . I have changed the settings to a mininal number of options and I stillÂ  cannot activate the automatic backup.Nor can I set it to manual to run the cron manually. Appears to be very strange. Any further help would be appreciated. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 11, 2013, 3:42 PM",
          "AuthorName": "tim wilde",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1507055&course=5",
          "role": [
            "Picture of tim wilde"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: cannot enable automatic course backups",
          "Text": "Have you checked your backups log? Is there something in there that shows a stalled backup?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, March 11, 2013, 9:05 PM",
          "AuthorName": "Doug Moody",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=789134&course=5",
          "role": [
            "Picture of Doug Moody"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 135636,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=135636",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "after restore \"no submitted assignments\"",
          "Text": "I backed up/restored courses to another Moodle site. I backed up all user data. Their grades were transferred fine but in each assignment there are \"no submitted assignments\". I went into the modata/assignment/ and the attached assignments the users attached are there but in different numbered folders. I assume the numbers are different in this new Moodle course so it's not connecting the submitted/attached assignments for it to see any submitted assignments. IS there an easy way to change these numbers or have the assignment find the submissions!?? Like I said the files are are there I Can see them but it's not being connected. THANKS!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 20, 2009, 7:21 AM",
          "AuthorName": "Melissa Benson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=478787&course=5",
          "role": [
            "Picture of Melissa Benson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: after restore \"no submitted assignments\"",
          "Text": "Also when I click \"no submissions have been submitted\" it says \"No users were found with permissions to submit this assignment\" Why is that?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 20, 2009, 7:26 AM",
          "AuthorName": "Melissa Benson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=478787&course=5",
          "role": [
            "Picture of Melissa Benson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: after restore \"no submitted assignments\"",
          "Text": "I think I had two separate issues: one there was no submitted assignments (links got broken? because of IDs?) And the permissions one is a bug I believe.. http://moodle.org/mod/forum/discuss.php?d=130179",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 20, 2009, 11:40 AM",
          "AuthorName": "Melissa Benson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=478787&course=5",
          "role": [
            "Picture of Melissa Benson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: after restore \"no submitted assignments\"",
          "Text": "So I am responding to myself but maybe it will help someone else. I installed Moodle 1.9.5 and BOTH issues were resolved. Maybe they were bugs...maybe it was something I did?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, October 20, 2009, 2:23 PM",
          "AuthorName": "Melissa Benson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=478787&course=5",
          "role": [
            "Picture of Melissa Benson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 253111,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=253111",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "duplicate news forum on backup/restore/import",
          "Text": "Is there a way to prevent backup/restore from including the news forum in the backup (forum of type \"news\"? ) Many of our course sites have 2-5 News forums (from bringing in materials year after year) Â which just makes the sites ugly and confusing and just bad. Â They don't know which one to use or delete. Â  Â its confusing for students. As our faculty have been using moodle for over 7 years, and they often use import to bring materials from a previous term, they rarely uncheck the news forum Â in the backup process of import. Â (** even though we try to train them on this). It seems to me that either the backup or the restore process could remove this item from the backup or restore. Does anyone have a solution for this? A thought I had, was to create an automated script to do this after the fact, delete the activity if there are two of them and one doesn't have any posts. Â  but i'd rather prevent it from being created in the first place. Thanks, Steve ** 20,000 students will thank you too.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 30, 2014, 12:05 AM",
          "AuthorName": "steve miley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=166910&course=5",
          "role": [
            "Picture of steve miley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: duplicate news forum on backup/restore/import",
          "Text": "This is a patch I've deployed to solve this problem of offering the news forum as an item to backup/restore. Basically a mod to not display any forum of type news in the user interface for the backup. Mods done to the file - backup/util/dbops/backup_plan_dbops.class.php git diff util/dbops/backup_plan_dbops.class.php diff --git a/backup/util/dbops/backup_plan_dbops.class.php b/backup/util/dbops/backup_plan_dbops.class.php index 2e2faae..578b75e 100644 --- a/backup/util/dbops/backup_plan_dbops.class.php +++ b/backup/util/dbops/backup_plan_dbops.class.php @@ -83,15 +83,28 @@ abstract class backup_plan_dbops extends backup_dbops { // Get all course modules belonging to requested section $modulesarr = array(); $modules = $DB->get_records_ sql (\" -Â  Â  Â  Â  Â  Â  SELECT cm.id, m.name AS modname +Â  Â  Â  Â  Â  Â  SELECT cm.id, m.name AS modname, cm.module as m FROM {course_modules} cm JOIN {modules} m ON m.id = cm.module - Â  Â  Â  Â  Â  Â  WHERE cm.course = ? + Â  Â  Â  Â  Â  Â  WHEREÂ  cm.course = ? AND cm.section = ?\", array($courseid, $sectionid)); foreach (explode(',', $sequence) as $moduleid) { if (isset($modules[$moduleid])) { $module = array('id' => $modules[$moduleid]->id, 'modname' => $modules[$moduleid]->modname); -Â  Â  Â  Â  Â  Â  Â  Â  $modulesarr[] = (object)$module; + Â  Â  Â  Â  Â  Â  Â  if ( $modules[$moduleid]->m != 9 ) { + Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  $modulesarr[] = (object)$module; + Â  Â  Â  Â  Â  Â  Â  } else { +// Do check to make sure this is not a news forum + Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  $forumtype = $DB->record_exists_sql(\" + Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  SELECT cm.id, f.type AS forumtype + Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  FROM {course_modules} cm + Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  JOIN {forum} f ON f.id = cm.instance + Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  WHEREÂ  cm.id = ?Â  AND f.type != ? \",Â  array($modules[$moduleid]->id,'news')); + Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if ($forumtype) { + Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  $modulesarr[] = (object)$module; + Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } + Â  Â  Â  Â  Â  Â  Â  } + unset($modules[$moduleid]); } }",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 8, 2014, 6:40 AM",
          "AuthorName": "steve miley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=166910&course=5",
          "role": [
            "Picture of steve miley"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 350748,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=350748",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Error Creating Backup - Moodle 3.2+",
          "Text": "I have an error occurring when trying to backup a Moodle course from Moodle 3.2+ I have just upgraded to 3.2+ from 2.8+ Error is error/cannot_finish_ui_if_not_setting_ui I know this was discussed in thread https://moodle.org/mod/forum/discuss.php?d=160927 but that thread didn't seem to have a solution. \n```text\nMore information about this error\n\n\nDebug info:\n\n\nError code: cannot_finish_ui_if_not_setting_ui\n\n\n$a contents:\n\n\nStack trace:\n\n\nÂ Â Â  line 167 of /backup/controller/backup_controller.class.php: backup_controller_exception thrown\n\n\nÂ Â Â  line 135 of /backup/util/ui/backup_ui.class.php: call to backup_controller->finish_ui()\n\n\nÂ Â Â  line 131 of /backup/backup.php: call to backup_ui->execute()\n```\n Any ideas? Cheers Dave",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 5:28 PM",
          "AuthorName": "Dave Emsley",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=95338&course=5",
          "role": [
            "Picture of Dave Emsley"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error Creating Backup - Moodle 3.2+",
          "Text": "Thread referenced kinda old and it did have mulitple causes and solutions per situation ... nothing universal that I saw ... soooo .... Besides the debug output can you find any hints in error log of web service or any references in php error logs? A few things to check ... amount a memory a php script can consume, max time a php script can run, number of files opened (backups containing scorms do have multiple files), a plugin/addon that was compatible in 2.8 but no longer compatible in 3.2. Are you stepping through the backup process or using the 'skip to end' button?Â  One of the comments in the files referenced in the debug says to throw that error if the 'backup plan isn't correct' ... plan to backup is created in stages, I think .. maybe one of those skipped. Have command line access?Â Â  If so, could use the moodlecode/admin/cli/backup.php script from the command line to backup the course.Â Â  Takes apache/web service out of the loop in backups and think I'd send the backup to a known location so if it does succeed backup can be found and it it has a humanly recognizable name.Â  Plus, if restore becomes and issue that backup can be inspected via command line as well. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 12, 2017, 7:36 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 133754,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=133754",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restore Deletes All Media",
          "Text": "I understand all my Mediacenter content won't Backup and Restore. What is the easiest way to get all that data into my new course?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 26, 2009, 9:08 PM",
          "AuthorName": "Dhruva Maharaja D",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=844120&course=5",
          "role": [
            "Picture of Dhruva Maharaja D"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 220507,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=220507",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "backup from 1.9 and resore in 2.3 doesn\"t work well",
          "Text": "Hi ××¤×©×¨ ×”×§×œ×“×” ×¤×•× ×˜×™×ª ×¢×‘×¨×™×ª ×× ×’×œ×™×ª ×¢×¨×‘×™×ª I'm trying to do a backup of the courses moodle 1.96 I get stuck when it is great courses like 360mb. Smaller course of size about 19mb without users i can the backup but when I resored it saw that he had come back almost empty , only two activities passes, one of the first week and other on the fifth week. I have no idea what to do ?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 24, 2013, 11:49 PM",
          "AuthorName": "Irith Herman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=444161&course=5",
          "role": [
            "Picture of Irith Herman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: backup from 1.9 and resore in 2.3 doesn\"t work well",
          "Text": "Still have the 1.9 site up and accessible? Check /moodledata/temp/backup folder of the 1.9 server for files/folder contents.Â  That might provide a clue. Did the 1.9 backups include blocks/mod/ etc. addons that are not in the version 2.3 you are attempting to restore to? On your 2.3 server ... do the same check of /moodledata/temp/backup for files/folders. When version 2 of Moodle gets a .zip during a restore process it attempts to convert the backup.zip to a compatible .mbz backup first.Â  All that process takes place in /moodledata/temp/backup/Â  Also, one might need 'legacy' at the course level and at the site level turned on. (Legacy, BTW , is not desired) And there is a work-around that works most of the time ... but not always ... Let's say you have a 1.9 backup for 'basket weaving' course (hereafter called 'bw') and you want to restore that to the 2.3. In the 2.3, start a new course.Â  Fill out minimum info and create a basket weaving course. When you get to the enroll users screen of that course, go to the course menu 'restore'. Upload the bw.zip.Â  Moodle will recognize it's not a .mbz and attempt to convert the bw.zip backup to a Moodle 2 format. Eventually, one will get to a screen that displays options for where/how to restore.Â  *** Important *** choose the option to restore to this course replacing the contents of this course ... the one you are currently in . 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 25, 2013, 2:23 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "×ª×©×•×‘×” ×œ: Re: backup from 1.9 and resore in 2.3 doesn\"t work well",
          "Text": "in the Course I was trying to restore there where just such activities 1.link to a file 2.assinment",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 25, 2013, 7:29 AM",
          "AuthorName": "Irith Herman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=444161&course=5",
          "role": [
            "Picture of Irith Herman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: ×ª×©×•×‘×” ×œ: Re: backup from 1.9 and resore in 2.3 doesn\"t work well",
          "Text": "Mark is indeed correct, if you have a site with many courses to move to 2.3.Â  You could install the desktop version of 2.3 and get your courses restored locally.Â  Then backup as a 2.3 to restore to your server. Question: were the courses in Hebrew?Â  Were the files contained in courses you are trying to restore named using Hebrew? Take it the 2.3 server has appropriate language supports installed. And there are no errors in apache error log that might give a clue? How about in moodledata/temp/backup/ ?Â  Any files/folders remaining in there after an attempted restore? 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 25, 2013, 8:35 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "×ª×©×•×‘×” ×œ: Re: ×ª×©×•×‘×” ×œ: Re: backup from 1.9 and resore in 2.3 doesn\"t work well",
          "Text": "i don\"t know what is the desktop version of 2.3? the courses are in hebrew and the names are in hebrew but the hebrew that was restord was o.k. i dont have an access to the moodledata/temp/backup/ of the 1.9",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 25, 2013, 1:58 PM",
          "AuthorName": "Irith Herman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=444161&course=5",
          "role": [
            "Picture of Irith Herman"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backup from 1.9 and resore in 2.3 doesn\"t work well",
          "Text": "We just converted about 700 courses from our 1.9 environment. i would suggest that you set up a middle server with Moodle 2.1.4 installed. Backup and save the course from your 1.9 environment, restore the course to the 2.1.4 Moodle server, backup and save the course, now restore on your new Moodle 2.3. This sounds like a lot of work but in the long run the process works very well. Also here are the setting i use for the really large courses to convert: change this in the php.cfg file max_execution_time =19200 max_input_time = 1500 max_input_vars = 8000 memory_limit = 1024M post_max_size = 1200M upload _max_filesize = 1000M max_file_uploads = 30 FastCGI Settings Activity Timeout 3600 idle Timeout 3600 Queue Length 2000 Request Timeout 3600",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 25, 2013, 3:49 AM",
          "AuthorName": "Mark Jones",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=341044&course=5",
          "role": [
            "Picture of Mark Jones"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "×ª×©×•×‘×” ×œ: Re: backup from 1.9 and resore in 2.3 doesn\"t work well",
          "Text": "Hi I installed moodle 2.14 and restored a course . 1. All activities were transferred Â but to the Weekly outline and not into weeks. 2. urlÂ activity Â does not work: By clicking on the link that is what I received ... 404 Not Found The server can not find the requested page: 50.63.144.56/~irit/moodle1/mod/url/%20%20%20 http://fbf-classroom.com/Classroom/Authanticated/fbfPlayer.aspx?Key=B123B123 (port 80) Please forward this error screen to 50.63.144.56's WebMaster . Apache /2.2.23 (Unix) mod_ssl/2.2.23 OpenSSL/1.0.0-fips mod_auth_passthrough/2.1 mod_bwlimited/1.4 FrontPage/5.0.2.2635 Server at 50.63.144.56 Port 80 3. In the assignment activity: No links have been created without the address line of blankets click on it to go to link 4. i turned on the debugger this what i get: above the page Warning : Creating default object from empty value in /home/irit/public_html/moodle1/blocks/navigation/block_navigation.php on line 198 Warning : Creating default object from empty value in /home/irit/public_html/moodle1/blocks/settings/block_settings.php on line 13 underÂ Weekly outline Warning : Creating default object from empty value in /home/irit/public_html/moodle1/course/lib.php on line 3057",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, January 25, 2013, 4:41 PM",
          "AuthorName": "Irith Herman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=444161&course=5",
          "role": [
            "Picture of Irith Herman"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 144639,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=144639",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "backing up course backups only",
          "Text": "I just thought I'd share this, which was written by CyberNerd on the EduGeek forums at: http://www.edugeek.net/forums/nix/50073-how-can-i-write-v-simple-shell-script-back-selected-files-date.html This one line should work on all linux systems to go through the Moodledata (/usr/moodledata/ in this case) directory and pull out only the latest backups of each course, then copy them to /BackupDirectory: \n```text\nfor file in $(/bin/ls -d /usr/moodledata/*/backupdata/); do find $file -type f -iname \"*.zip\" -printf \"%TY-%Tm-%Td %TT %p\\n\" | sort | tail -n 1 | awk '{ print $3 }' | xargs /bin/cp -v --target-directory=/BackupDirectory/ ; done\n```\n As CyberNerd commented, if you were using this regularly, you'd want to change the cp command to rsync so that only changes get written. If you are able to change the directory where your server puts backups and only want to keep one backup of each course, you won't need this. However, I give teachers the opportunity to restore from old backups going back 5 days and I needed this to get out ONLY the latest .zip backup file for each course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 25, 2010, 10:05 PM",
          "AuthorName": "Carol Booth",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=108307&course=5",
          "role": [
            "Picture of Carol Booth"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 368248,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=368248",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Migrating from D2L Brightspace to Moodle",
          "Text": "We are currently using D2L Brightspace as our main LMS. Can you suggest a tool / process on how to migrate from Brightspace to Moodle? Need it really fast. TIA",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, March 30, 2018, 8:36 PM",
          "AuthorName": "Anandarup Kar",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1043475&course=5",
          "role": [
            "Picture of Anandarup Kar"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 210037,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=210037",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Back Up with 1001 topic sections",
          "Text": "Moodle 2.3 I'm backing up a course with about 10 topic sections but when I go to back it up, in step 2 Schema settings, there 1001 topic sections (mostly empty). Â Also in the course are several topics with orphaned activities . Â I could go through and uncheck the 990 unneeded topics but there must be something strange going on here. Â Any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, August 29, 2012, 3:59 AM",
          "AuthorName": "Lynn Hadfield",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=333635&course=5",
          "role": [
            "Picture of Lynn Hadfield"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Back Up with 1001 topic sections",
          "Text": "I am having this same problem with 2.2.5 Moodle. Does anyone know what the deal is. What is causing this loop. Its impossible to backtrace this problem with no debugging or logs to go by.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 14, 2012, 4:27 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1496296&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Back Up with 1001 topic sections",
          "Text": "I found the fix was to run these 2 mysql commands: delete from mdl_course_sections where summary is null; delete from mdl_course_sections where summary=\"\";",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 15, 2012, 3:25 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1496296&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Back Up with 1001 topic sections",
          "Text": "Dont run the above my sql commands they seem to have destroyed some working stuff. I will post updated commands once I figure out what actually works.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, September 15, 2012, 6:14 AM",
          "AuthorName": "Moodle User",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1496296&course=5",
          "role": [
            "Picture of Moodle User"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 82772,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=82772",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Flash Activities not being backed up",
          "Text": "Greetings. I'm trying to back up my course to migrate onto a new (big! shiny!) server , and I'm having some issues. Most of my course content is a Flash Activity; in fact, the vast majority of it is. However, when I back up my course and restore it onto a small test server, only the one lesson in my course appears. I've checked the XML file in the backup .zip file, and it doesn't mention Flash Activities at all. Do I have to manually install and recreate all of my Flash Activities on this new server? Or did I miss a step somewhere? Are Flash Activities even backed up, or are just the standard \"core\" functions handled? I've checked the wiki and searched the fora, but without any success or discovery of similar situations. Any information or troubleshooting ideas would be very welcome right now. Many Thanks, Bob Robertson.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, October 20, 2007, 4:27 AM",
          "AuthorName": "Bob Robertson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=174912&course=5",
          "role": [
            "Picture of Bob Robertson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 154596,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=154596",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Server 500 Error",
          "Text": "Hello ~ My backups were working fine until we did an upgrade. Any ideas? Thanks Alice 500 - Internal server error. There is a problem with the resource you are looking for, and it cannot be displayed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 23, 2010, 6:59 AM",
          "AuthorName": "Alice Garrard",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=843546&course=5",
          "role": [
            "Picture of Alice Garrard"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 23416,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=23416",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore problem - theme & resources.",
          "Text": "using moodle 1.4.4 on Windows2000 operating system & WAMP I backed up a course in development on a laptop to restore onto a server for further testing.Â  Used the backup feature - no errors - zip file created. On the server created a fresh install of moodle.Â  Copied the zip file to the backup directory in moodledata. Used the restore feature - no errors. However, in the restored version now on the server I have lost my customised theme, links to images, and the web resources pages are now embedded with the formatting code of each page which makes it all unreadable? Any advise or assistance on how to correct these problems would be greatly appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 9, 2005, 1:23 PM",
          "AuthorName": "Chris Murphy",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=45319&course=5",
          "role": [
            "Picture of Chris Murphy"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore problem - theme & resources.",
          "Text": "Hi Chris, i know this was a very long time ago, but did you ever solve the issue? i seem to have the same problem now. Al",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 14, 2009, 11:27 PM",
          "AuthorName": "Alex Rowan",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=309780&course=5",
          "role": [
            "Picture of Alex Rowan"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 218926,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=218926",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restore Process Deleted Course Backups in Course Backup Area",
          "Text": "Is this a bug? I made a backup file (\"file2.mbz\") of a course then restored another version (\"file1.mbz) into the same course Merging it with the current course. Although the restore worked, it also deleted all the backups in the Course Backup Area. Is there a way to recover these backups? THANKS",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 3, 2013, 3:41 AM",
          "AuthorName": "Mike Shurance",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=875053&course=5",
          "role": [
            "Picture of Mike Shurance"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 406325,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=406325",
      "NoOfResponses": 6,
      "ResponsesInList": [
        {
          "Title": "Automated backup file location",
          "Text": "Hi all, Apologies form the start if I'm asking a question that already was answered. We do have an older installation of Moodle, v.2.3, on Linux virtual environment with MySQL database . The Moodle is been configured to create automated backups to local disk. The main issue that we have at the moment is that the Moodle data partition is running out of space and I'm running out of options what to remove. I removed all SQL binary logs, cached files and all course backups that I could find. All that is been left is only the automated course backup and the oldest one is from 2013. My main question is what is the method of safely removing these backup files and reclaim the space ? My PHP skills are very limited. Thank you very much for support in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 1, 2020, 8:11 PM",
          "AuthorName": "Gabriel Vasilescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3367342&course=5",
          "role": [
            "Picture of Gabriel Vasilescu"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Automated backup file location",
          "Text": "\" The Moodle is been configured to create automated backups to local disk \" \"local disk' could be moodledata/filedir/.Â  In configuration of auto backups, do you see a path? It's not PHP skills needed, it's mysql queries (2 - one to find information - and one to remove the row of information in mdl_files table) and command line removal of a targeted file carefully. That, however, dependent upon answering the question about path. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 1, 2020, 8:58 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backup file location",
          "Text": "Hi Ken, Thank you very much for coming back. The directory of the instalation is /moodledata In the auto backups the path has been set to /va/moodlebackups, but the directory is empty. In the automated backup list (front end) I can see the list of files and sizes. My biggest query is how to find these files and remove them without causing too much damage.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 1, 2020, 9:39 PM",
          "AuthorName": "Gabriel Vasilescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3367342&course=5",
          "role": [
            "Picture of Gabriel Vasilescu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backup file location",
          "Text": "Problem solved. One of my collegues created a script that will remove all automated backup files. The process is: 1. cd to /moodledata/filedir 2. clear/remove the old output.sh file form that directory as we are generating new one. 3. Run this to generate new output.sh: mysql -u root -p moodledb < $HOME/script.sql > output.sh 4. vi the output.sh file and delete the first top row (we donâ€™t need that) starting with: concat(\"rm -rf \",subsâ€¦ 5. Make it executable: chmod +x output.sh 6. Run the clearing process with: ./output.sh The script called script.sql select concat(\"rm -rf \",substr(contenthash,1,2),\"/\",substr(contenthash,3,2),\"/\",contenthash) from mdl_files where component=\"backup\" and filearea=\"automated\"; I hope this will help others too. I managed to reclaim 80Gb of space in less than 5 min",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 1, 2020, 10:04 PM",
          "AuthorName": "Gabriel Vasilescu",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3367342&course=5",
          "role": [
            "Picture of Gabriel Vasilescu"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backup file location",
          "Text": "Thanks for sharing back. Suggest installing moosh - a command line utility for Moodle. It has a couple of commands related to files.Â Â  Since you've done some massive work, one of moosh commands looks for orphaned files and diff's in metadata of mdl_files with actual presence of files in moodledata/filedir/ 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 1, 2020, 11:39 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backup file location",
          "Text": "Never quite understood why backups are hidden in moodledata. Sure handy if things crash but unless moodledata is off site still all eggs in one basket. I set a directory for backups. I use ssh to copy them over to a free trial VPS with 40 gb of space and use another cron script to keep backups from consuming too much space on both servers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, July 4, 2020, 10:02 PM",
          "AuthorName": "James Steerpike",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1736745&course=5",
          "role": [
            "Picture of James Steerpike",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 98832,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=98832",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Restored course now lives in my front page main menu",
          "Text": "The Subject says it all...I tried to restore a course for the summer term. I had to increase the settings in backup.php and restore.php. I restored the course and now the entire course is stuck in the Main Menu on the front page . Help? Take a look here: http://www.csscu.com/cms/",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 7, 2008, 8:30 AM",
          "AuthorName": "Steven Ouellette",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=309579&course=5",
          "role": [
            "Picture of Steven Ouellette"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restored course now lives in my front page main menu",
          "Text": "We just did the very same thing! We also lost our admin menu, etc. I ended up restoring Moodle from a back up copy from a few weeks back (just the files under C:moodle\\ not the database ) then going into the front page and deleting all the course files. Then our usual front page came back up.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, June 10, 2008, 11:26 PM",
          "AuthorName": "Susan Montgomery",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=110787&course=5",
          "role": [
            "Picture of Susan Montgomery"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restored course now lives in my front page main menu",
          "Text": "Thanks Susan - glad to hear it is not just me. Hypothesis: I was restoring the class and chose to restore into an existing course and typed the course ID before this happened. Could you have done that too? The class restored all right when I restored to a new course. Also, I am not sure how to delete the course files from the front page as you describe. How do you accomplish this? Is it something in the Front Page settings?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 11, 2008, 2:52 AM",
          "AuthorName": "Steven Ouellette",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=309579&course=5",
          "role": [
            "Picture of Steven Ouellette"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restored course now lives in my front page main menu",
          "Text": "Well, I wasn't the person who restored over the front page, LOL! So I don't know how he did it. I went to front page, and went under questions and deleted everything there. That cleared it up.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 11, 2008, 10:57 PM",
          "AuthorName": "Susan Montgomery",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=110787&course=5",
          "role": [
            "Picture of Susan Montgomery"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restored course now lives in my front page main menu",
          "Text": "Thanks Susan, I deleted all students from the Front Page, deleted all the files, and had no questions, but I still have the course content show up in the Main Menu. I even upgraded to the latest release, though I am using the same database. Somehow I need to delete the course structure information out of wherever the Main Menu is looking to get its content... Grr...what a weird thing to happen. Any ideas are appreciated! For now I have taken the Main Menu off of the front page.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, June 12, 2008, 2:00 AM",
          "AuthorName": "Steven Ouellette",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=309579&course=5",
          "role": [
            "Picture of Steven Ouellette"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 94520,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=94520",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Localhost-to-localhost backup/restore image problem",
          "Text": "Succesfully restored a course backup created in Windows Localhost Moodle v.1.8.4+ to Windows localhost Moodle v.1.9_last. The biggest problem was question database transfer. All OK: 1070 questions, 100+ categories, links to HTML Help (course recourse) work as it should be. Have done it twice and still have the only problem: images to question text. For the very first time it appearred once and that's it. For the first question editing, picture name is shown in line 'Image to display', but next time it says 'No images have been uploaded to your course yet'. What does it mean and how to solve the problem? What is the best way to show pictures in a question: - 'Image to display' line, or - 'Insert image'? Any answer would be greatly appreciated. Peter",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 10, 2008, 1:10 AM",
          "AuthorName": "Peter Poznyakov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=496393&course=5",
          "role": [
            "Picture of Peter Poznyakov"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Localhost-to-localhost backup/restore image problem",
          "Text": "I did the same restore operation for hosted (SiteGround.com) Moodle v.1.9. Everything the same. The only problem is image show failure in questions. So my questions are the same.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 12, 2008, 1:51 AM",
          "AuthorName": "Peter Poznyakov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=496393&course=5",
          "role": [
            "Picture of Peter Poznyakov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Localhost-to-localhost backup/restore image problem",
          "Text": "After restoring the course Moodle cannot see the images in its file folder. I copied image files between course file folder, than uploaded them to the folder from my local PC - anyway, the system cannot see images, but able to link to HTML Help files in its course files folder!!? What the mistery! But Moodle course questions are able to see image files and folders from site file folder (folder 1) even if you just rename the folders in data folder (I met it under different names: 'data', 'moodledata', 'uploaddata'). If you put image files (folders) in site file folder it does not mean that question starts to show picture, no way, but at least you can manually restore links to images. But the only problem I think this is NOT solution anyway. Image files MUST be in their appropriate file folder, otherwise you never know what happen next. Shortly saying, I am in dead end. My point is there is no sence to continue with Moodle until you master backup/restore procedure as it is the core of stable job. It's pity, I like Moodle and regret money spent on hosting.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 12, 2008, 10:37 PM",
          "AuthorName": "Peter Poznyakov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=496393&course=5",
          "role": [
            "Picture of Peter Poznyakov"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Localhost-to-localhost backup/restore image problem",
          "Text": "I have found the cause. As it often happens the explanation is simple. In version 1.9 new categories feature has been introduced. From now categories could be for (1) whole site, (2) a course group, and (3) a course. And questions files accordingly stored in site files folder for (1) and (2), and in course file folder for (3). I just put course questions in its course category and everything started working. But anyway I have to manually restore links to image files, it means that backup/restore procedure does not work properly.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 14, 2008, 10:23 PM",
          "AuthorName": "Peter Poznyakov",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=496393&course=5",
          "role": [
            "Picture of Peter Poznyakov"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 115749,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=115749",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "automated backups fail, manual work fine?",
          "Text": "Scheduled backups seem to run, but never complete successfully - if you view the report, everything works fine, until the end: 08:18 PM:23 zipping files 08:18 PM:24 copying backup 08:18 PM:24 End backup course CS4 - ERROR!! If the same backup is done manually, all goes fine, and no php errors etc are generated. The problem is site-wide... seems every course will backup fine manually, but nothing completes as a scheduled backup - all fail with the same report. Is there any way to get more debugging information? or does anyone know where to start working this out? platform is wamp, cron is run as a scheduled task, the cron user has permissions to the moodledata folder... any ideas/ questions?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, February 6, 2009, 7:05 PM",
          "AuthorName": "Lael ...",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=61008&course=5",
          "role": [
            "Picture of Lael ..."
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 252601,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=252601",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Deleting old backups",
          "Text": "This is a problem I have had for a long time.Â  When I do a backup (as admin) mbz files turn up in the \"user private backup area\". When I click on the \"Manage backup files\" buttom I get the following error: \"Can not read file, either file does not exist or there are permission problems\" These \"files\" are contributing several GB to the size of our site. The problem has been there over many versions of Moodle and is still there after I upgraded to v2.6.1+ Can anyone help, please?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 22, 2014, 1:08 PM",
          "AuthorName": "Mike Hanratty",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=168928&course=5",
          "role": [
            "Picture of Mike Hanratty"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Deleting old backups",
          "Text": "At some point, I am guessing, something was done to cause this because it is not the default behavior. Â Where are your backups meant to go? Â What do you have in the backup settings for backup location? Also, the permissions issue is very interesting - could it be that you do not have permissions set correctly on your moodledata folder? Â Or have you changed permissions on your user in Moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 22, 2014, 8:57 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deleting old backups",
          "Text": "I have never change the location for my backups, could you tell me where I can check this setting.Â  The account I used to create these backups is an admin account and the files are not visible in another admin account (I checked by logging in as admin).Â  I don't think the mbz files are real files anyway, It's not possible to find them on the server so files permissions probably don't count.Â  I'm still stuck. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 23, 2014, 12:47 PM",
          "AuthorName": "Mike Hanratty",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=168928&course=5",
          "role": [
            "Picture of Mike Hanratty"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Deleting old backups",
          "Text": "So this is just happening when you manually create the backups? Â Have you checked the permissions settings on your account? Â  This has to be a permissions issue. What happens when you put another file in your private files folder - a word document for example. Â Can you open it? The mbz files must be real files - you already stated that they are using up hard drive space. Â They are probably just hidden in the mass of folders that the Moodle file system creates.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, January 23, 2014, 7:56 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 64628,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=64628",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Backup 101 Problem",
          "Text": "Hi, I was wondering if anyone knew what would be the probable cause(s) when the moodle autobackup is not functioning? I have set the path correctly but, there were no files saved after the specific hour. I appreciate any information on this matter.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 12, 2007, 4:54 PM",
          "AuthorName": "Sya Rahim",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=142133&course=5",
          "role": [
            "Picture of Sya Rahim"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 341220,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=341220",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Backup an active course",
          "Text": "Hi, I'm new to the technical side of Moodle. Does anyone know if you can create a backup for a course that is currently active? I'm trying to setup courses for our upcoming sessions, but waiting until the current courses are finished is too long. If I create the backup of the current and active course, will it disrupt the course in any way? Thanks! Alex",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 12, 2016, 1:56 AM",
          "AuthorName": "Alex Gilbert",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2154800&course=5",
          "role": [
            "Picture of Alex Gilbert"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup an active course",
          "Text": "Yes, you can and no, it won't! You can backup a course whenever you want..",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, October 12, 2016, 2:30 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 101982,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=101982",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "how do i turn backup off in moodle 1.8.2",
          "Text": "Hi Help Please!, my site is using over 50% of the server cpu time when it does a backup. The isp has suspended my service twice now because of this. I have looked but cannot find how to turn off backups. Backup problem comes from a course that is over 80mb. I have manual backups of these so donâ€™t need auto stuff",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 24, 2008, 9:26 PM",
          "AuthorName": "Robert Butterfield",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=607629&course=5",
          "role": [
            "Picture of Robert Butterfield"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: how do i turn backup off in moodle 1.8.2",
          "Text": "At the Site Administration panel select Backups, find Active and uncheck that will turn off auto backups",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 24, 2008, 11:12 PM",
          "AuthorName": "Jim Vail",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=461297&course=5",
          "role": [
            "Picture of Jim Vail"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: how do i turn backup off in moodle 1.8.2",
          "Text": "OK found it under courses, thought Iâ€™d looked everywhere (must be one of those days) Thank you",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, July 25, 2008, 12:56 AM",
          "AuthorName": "Robert Butterfield",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=607629&course=5",
          "role": [
            "Picture of Robert Butterfield"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 229367,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=229367",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "I want to restore course backup with user data from my  localhost moodle to my online moodle give me error  user XXX conflict can't restore",
          "Text": "i Have two moodle 2 site one local host and the other one online Â when i take a backup course with users Â data but gives me conflict users error i opened the user. xml file and double checked that they have the same email and they are already exist in moodle can anybody help me urgent case .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 27, 2013, 6:08 PM",
          "AuthorName": "nourhan khaled",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1188177&course=5",
          "role": [
            "Picture of nourhan khaled"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 253387,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=253387",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "2.5.1 Automated backup skips a lot of courses",
          "Text": "Hello, We are using Moodle 2.5.1 We set automated backups every sunday at 3AM, Skip courses not modified since set to 365 days, Skip courses not modified since previous backup is unchecked. We store course backups in course area and additional folder, we save 5 copies. The problem is that Moodle do not make all courses backup, report says that from more than total 1600 courses only ~50-70 are backuped, and more than 1500 are skipped. Why Moodle skips so many courses? In Docs it says that courses are skipped if they are not modified in more than 31 days. But in automated backups settings page we set Skip courses not modified since set to 365 days. So as I understand in this way Moodle is forced to make backups of all courses? Also in report email it written than some course 40-50 has Error. But as I understand in any case these ~1500 courses which are skipped should be backuped. Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 3, 2014, 3:20 PM",
          "AuthorName": "Marius S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1338211&course=5",
          "role": [
            "Picture of Marius S"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: 2.5.1 Automated backup skips a lot of courses",
          "Text": "I've checked error log: [Sun Feb 02 07:00:28 2014] [error] [client xxx.xxx.xxx.xxx] backup_auto_failed_on_course GMF0101-\\xc5\\xa0VIT [Sun Feb 02 07:00:28 2014] [error]Â [client xxx.xxx.xxx.xxx] Exception: ddltablealreadyexists backup_ids_temp [Sun Feb 02 07:00:28 2014] [error] [client xxx.xxx.xxx.xxx] backup_auto_failed_on_course INF1008-\\xc5\\xa0VIT [Sun Feb 02 07:00:28 2014] [error]Â [client xxx.xxx.xxx.xxx] Exception: ddltablealreadyexists backup_ids_temp ..... On Moodle Docs I've read that Moodle database user should have permission CREATE TEMPORARY TABLES. Database user has all privileges expect Grant. It has permission to \"CREATE TEMPORARY TABLES\". How to fix this problem? Thanks.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 3, 2014, 8:38 PM",
          "AuthorName": "Marius S",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1338211&course=5",
          "role": [
            "Picture of Marius S"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: 2.5.1 Automated backup skips a lot of courses",
          "Text": "Hi Marius, I had a simular problem not using admin/cli/automated_backups.php on the commandline!Â  Before starting CLI set backup|backup_auto_active to manual in <your_moodlesite>/admin/settings.php?section=automated , then start <your_moodle_directory>/admin/cli/automated_backups.php via commandline. HTH Cheers, Monica",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 17, 2014, 6:34 PM",
          "AuthorName": "Monica Franz",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=798219&course=5",
          "role": [
            "Picture of Monica Franz"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 205296,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=205296",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "No Continue button in backup or import",
          "Text": "HI I'm trying to import a very large course page to the new year but cannot. I can backup other pages that ar enot so big. We have increased size limits and space on the PHP. We still get this message at the top of the screen - \" Note: This backup contains no users and so all activities have been switched to \"without user data\" mode. Exercise and Workshop activities will not be included in the backup, since these modules are not compatible with this type of backup.\" And then a list of half the items we need to import. Below, where there is normally a 'Continute' button, there is nothing. \" Include Quizzes without user data\" is the last thing on the page. Our IT department is stumped and I'm not looking forward to re-making 150 quizzes (it is our self-study page), even if I can take the questions out one quiz at a time! Please, please, can someone help...? Mark Coyle XJTLU",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 22, 2012, 11:39 AM",
          "AuthorName": "Mark Coyle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=597370&course=5",
          "role": [
            "Picture of Mark Coyle"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: No Continue button in backup or import",
          "Text": "Also, I have just noticed that I cannot 'export' any questions or 'import'. It goes to a blank screen when I try this. anyone?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 22, 2012, 1:12 PM",
          "AuthorName": "Mark Coyle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=597370&course=5",
          "role": [
            "Picture of Mark Coyle"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: No Continue button in backup or import",
          "Text": "If you are getting blank screens, turn on Debugging (or get your IT staff to do so) to find out the error message.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, June 22, 2012, 3:09 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: No Continue button in backup or import",
          "Text": "Thanks for the help. It doesn't seem to have fixed the problem. The only thing we added recently was Moodle Reader. Is it possible that Moodle Reader is blocking us from backing up our own quizzes? I have managed to get the labels/resources out but not the quizzes (of which we have probably 200!?!?). Any ideas?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 27, 2012, 9:06 AM",
          "AuthorName": "Mark Coyle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=597370&course=5",
          "role": [
            "Picture of Mark Coyle"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 332256,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=332256",
      "NoOfResponses": 11,
      "ResponsesInList": [
        {
          "Title": "Automated backups stopping after an hour of running",
          "Text": "Automated backups run for 1 hr and backup 30 courses, then the backups appear to stop even though there are a few hundred more visible courses to backup. The last course worked on indicated in reports->Backups indicates 'unfinished', there are no cron log errors or php errors, the last cron log entry looks like 'Backing up XXXXXXXXXXXXX.. Server Time: Wed, 27\nApr 2016 09:52:27 -0300' The next cron log entry for backups indicates the backups are already running even though no backups are occurring: 'Execute scheduled task: Automated backups ... started 09:54:12. Current memory use 32.6MB. Checking automated backup status...RUNNING automated backup are already running. Execution delayed ... used 1 dbqueries ... used 0.2500011920929 seconds Scheduled task complete: Automated backups'",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2016, 3:05 AM",
          "AuthorName": "Paul Lindgreen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1673900&course=5",
          "role": [
            "Picture of Paul Lindgreen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Automated backups stopping after an hour of running",
          "Text": "Ran the backups again last night, still stopping after 1 hr of running, starts up 2hr later and repeats pattern afterwards. Settings for last nights autobackups: Server scheduled task for autobackups default value of every 50th minute Course backups 8pm Results: 850pm-950pm courses backed up 1150pm-1250 courses backed up 250am-350am courses backed up 550am-650am courses backed up 190 couorses total, which grows after each run by about 45, still about 450 left to do. Clear pattern of 1hr of backing up, followed by 2 hrs of no backing up, then starting up again. The backups stop and start on the 50th minute so it looks like the server scheduled task for autobackups is the culprit stopping the backups. I will consider running the server scheduled task for autobackups every 8 hr next.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2016, 8:33 PM",
          "AuthorName": "Paul Lindgreen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1673900&course=5",
          "role": [
            "Picture of Paul Lindgreen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups stopping after an hour of running",
          "Text": "I suggest running once a day, probably in the middle of the night.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, April 28, 2016, 10:42 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups stopping after an hour of running",
          "Text": "Tried the following schedule in our development environment Course automated backup schedule: every day at 135pm Server Scheduled Task, automated course backups: 430, 1630 Results: courses back up from 430pm-630pm every day cronlogs reveal at 6:32 and 18:32 'Execute scheduled task: Automated backups' surprisingly. Its a mystery as to why its even running at these times as its not scheduled to do so? Here's the output from the mysterious task runs: 'Checking automated backup status...RUNNING automated backup are already running. Execution delayed ... used 1 dbqueries ... used 0.70313000679016 seconds Scheduled task complete: Automated backups' There appears to be an unscheduled task running 2 hours after the server scheduled task run, which shuts down the first one for auto course backups.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 2, 2016, 8:27 PM",
          "AuthorName": "Paul Lindgreen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1673900&course=5",
          "role": [
            "Picture of Paul Lindgreen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups stopping after an hour of running",
          "Text": "Ok, so cron is running almost exactly two hours following the scheduled tasks. Â I suspect a time zone issue...I would still get down to one a day till you get through an initial run. Â I have been noticing that mine are taking hours to run and initial run took several hours (I think I have something going on though that I have not had time to trouble shoot because they should not take as long as they are on my server!) Occasionally, a problem with one course will stall out the run too. Â I Â suggest turning them off for a day just to clear anything out (hopefully) and then turning it back with just one time selected. Â See if you can then get through it once.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 2, 2016, 9:42 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups stopping after an hour of running",
          "Text": "re: I would still get down to one a day till you get through an initial run. I'll give that a go next week re: Ok, so cron is running almost exactly two hours following the scheduled tasks. Server scheduled auto course backup running every hour at the 50th minute. Backups start on the 50th minute and end at the 50th minute than restart 2 hours later at the 50th minute. re: Occasionally, a problem with one course will stall out the run too. Wouldn't that result in irregular stop times rather than this 50th minute pattern of run terminations? Reports->Backups also indicates that the course on the 50th minute results in an ' Unfinished' status too.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 13, 2016, 12:37 AM",
          "AuthorName": "Paul Lindgreen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1673900&course=5",
          "role": [
            "Picture of Paul Lindgreen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups stopping after an hour of running",
          "Text": "What's your settings on Clean backup tables and logs in scheduled task? and or other scheduled task that might have affect on Auto backups? 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 2, 2016, 9:50 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups stopping after an hour of running",
          "Text": "re: What's your settings on Clean backup tables and logs in scheduled task? Left at default of every 10 minutes. Not sure how this setting or others affect the schedule, sure wish I could backup all the courses in 1 run though.Â  I'ld like to restrict it to one long run in the evening during our slow time. My backup of 750 courses took over 2 days while running at a pattern of 1 hr on followed by 2 hr off.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, May 12, 2016, 11:07 PM",
          "AuthorName": "Paul Lindgreen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1673900&course=5",
          "role": [
            "Picture of Paul Lindgreen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups stopping after an hour of running",
          "Text": "Haven't really tested/research this, but there was another poster that had a 'timing' issue with autobackups and the new task.Â Â  At that time, thought it might have been a bug ... clean up started while autobackup was running ... that clean up involved the very directory that autobackups (or manual) uses to build the backups ... moodledata/temp/backup/Â Â  Poster reported finding in-complete backup builds ... directories were there but didn't have moodle_backup. xml or other parts ... and no backup.mbz temp files. (which is how ti wroks, from viewing/watching it realtime ... ie, a backup.mbz file is created ... and the very last step in the process is to \"copy\" that backup.mbz to the destination chosen in config (file system or alternative directory) while changing the name of the file according to options chosen in making backups ... like use course short name, ID number, etc.. That last process of \"copy\" hits limitations in operating systems - 32bit vs 64bit and other limits to copy. (move command, however, works with any size) I too have had issues with autobackups ... and I finally ended up: turning off the clean up task, setting autobackups to go to a file system repo (so they could be seen by courses set to use that file system repo), and creating my own script running the commands found in moodlecode/admin/cli/Â  tied to a cron job ... that I could schedule for off peak times. To regain control of it all had to truncate tables related the the scheduling of autobackups first.Â Â  Set autobackups to manual, but did choose options in backups such that they were full course backups ... users, logs, etc. The script is bash shell and runs through a text file listing of courses - courses1.txt would contain nothing but the course ID's: 2 6 33 50 I had to use two scripts ... one pointed to small courses and one pointed to the large ones - largecourses.txt. This way ... I could either trust my manually created cron jobs to run or I could, if I desired to do so, run the scripts myself at any time. Know this is not what you wanted to hear, but .... 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, May 13, 2016, 12:25 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups stopping after an hour of running",
          "Text": "re: That last process of \"copy\" hits limitations in operating systems -\n32bit vs 64bit and other limits to copy. (move command, however, works\nwith any size) I didnt think it was a server limitation issue as the process stops on the automated course backups schedule. I'll retest this in our development environment by changing the minute of the hour this task runs. We are on 32bit php and will probably go to 64 bit in the near future though. To further complicate things my development environment runs 2hr on, 2hr off, with the same automated course backup schedule. This dev machine is M2.8 while production is M2.7. I notice one difference between the two versions in Scheduled Task defaults for Legacy log table cleanup, its once an hour in M2.8 and every minute of the fourth hour in M2.7, the M2.7 doesn't like correct but also doesnt look like its influencing my auto course backups either. Thanks for the details on your manual work around. I'll look into the admin cli side of things, its looking a little more complicated than I hoped, do you think it would be easier to upgrade to Moodle 3 in the hopes its refined auto course backup schedules?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 18, 2016, 8:35 PM",
          "AuthorName": "Paul Lindgreen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1673900&course=5",
          "role": [
            "Picture of Paul Lindgreen"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Automated backups stopping after an hour of running",
          "Text": "Am not aware that 3.x specifically addressed the issue ... for that matter not sure there ever was an official tracker bug reported with directions on how to reproduce the error. Â  One would have to have a sandbox clone of a production site that had the issues and purposely wreck/disable/putz to get consistent behavior, me thinks. Â Â  This to say, don't think I've ever been able to say .... xyz is cause in every case. To many variables involved ... recently investigated a shared hosting environment where op had option to increase package restrictions that appeared to be the culprit ... cap on how much extra memory could be called by a Moodle script.Â Â  A standalone or even a virtual where op had full control that wouldn't have been an issue .. or the 'fix' could have been applied. Fingers crossed that and upgrade wouldn't make it worse! ;) 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 18, 2016, 10:14 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 244389,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=244389",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "Activity restore from moodle 2.5 to moodle 2.5 won't complete",
          "Text": "A teacher accidentally deleted a couple of quizzes with student data so I restored the previous days backups of the entire site into a test site. Â From there I exported the 2 activities with enrolled students as 2 separate files using backup as the admin user. Â Then going back to my real site I seem to be unable to actually restore them into either the original course or an empty test course. Â I go through the various restore steps, but when I finally click perform restore the browser will just sit and spin, no error messages, it just won't complete. Â I'm not seeing any errors in the logs. Â I'm using PostgreSQL as the backend.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 23, 2013, 2:26 AM",
          "AuthorName": "Steve Rippl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=426828&course=5",
          "role": [
            "Picture of Steve Rippl"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Activity restore from moodle 2.5 to moodle 2.5 won't complete",
          "Text": "I would suggest taking the whole course across and trying that. Also, if you have a large question bank, you might just be timing out because the entire bank will come across with the quizzes.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 23, 2013, 3:11 AM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Activity restore from moodle 2.5 to moodle 2.5 won't complete",
          "Text": "It does have a large question bank associated with it, but the export file is only ~20-30MB. Â Trying to import the whole course doesn't get past the initial selection of the file and then pressing 'restore' before it just sits and spins (before selecting where and which elements to restore). If I'm \"timing out\" why isn't the web server kicking me out and saying that? Â In php.ini I have a max execution time of 30 seconds but the page is spinning way past that, I'm assuming there's some long running process and some polling to see if it's finished going on? Â What should I adjust to get this to work or even to see some kind of error message? Thanks, Steve",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 23, 2013, 5:14 AM",
          "AuthorName": "Steve Rippl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=426828&course=5",
          "role": [
            "Picture of Steve Rippl"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Activity restore from moodle 2.5 to moodle 2.5 won't complete",
          "Text": "So looking at the course I found the teacher has almost 8,000 questions in the question bank! Â Now this is awesome, but how should I manage this? Â Can I break that into multiple question banks and associated the banks with something else to ensure I can actually export and restore individual courses?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 26, 2013, 1:35 AM",
          "AuthorName": "Steve Rippl",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=426828&course=5",
          "role": [
            "Picture of Steve Rippl"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 73254,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=73254",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "students' data not included in restore",
          "Text": "Hi there. I have a problem which seems something like obvious, but I tried to work it out and have no results... I wanted to restore the course I backed up (with all the options on) but it restores without students' uploaded assignments and even without enrolled students. Just the course structure, even if all the restore option (users files etc) are checked.. I tried to look at the backup file using the \"list\" option on the restore page and noticed, that all the files which students uploaded are listed there. The course was very image-oriented and there are lots of files, the backup size is more than 800 MB, but there is no other way to fetch the files than manually unzip tha package and look for them aoutside of moodle, which is a pain... What could be the problem? Any idea? I'm using moodle 1.6.3",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, June 6, 2007, 7:41 PM",
          "AuthorName": "Krzys Koszewski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=183462&course=5",
          "role": [
            "Picture of Krzys Koszewski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: students' data not included in restore",
          "Text": "I am having a similar issue. I recently inherited a site and ran a backup with users. To make a long story short I get the same result with restoring two of the courses. I am running version 1.6.2.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 19, 2007, 1:41 AM",
          "AuthorName": "Phillip Jacobus",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=130114&course=5",
          "role": [
            "Picture of Phillip Jacobus"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 193162,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=193162",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Site now too large for old way backups. Need suggestions.",
          "Text": "My past and current method of preparing for disaster recovery needs updating. Currently I have downloading MySQL dumps forllowed as closely as possible with downloading the moodledata folder from our remote serve to my home computer. When we were small, this was pretty doable, but we are up to a 500 plus My SQL file and a 25 gig moodledata folder. At my internet download speeds it is now taking 3 to 4 days to download everything. Heaven forbid that we have a disaster. At my upload speed, it would take 2 weeks to get everything all uploaded. Time for me to ask everyone how they are doing their remote server disaster recovery plan and find a much better way. Please jump in and share how you are doing it.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2012, 1:25 AM",
          "AuthorName": "Tammy Moore",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=75167&course=5",
          "role": [
            "Picture of Tammy Moore"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Site now too large for old way backups. Need suggestions.",
          "Text": "One approach is to rent additional disk space from your hosting provider to upload your backups. Ideally those hardware are in a different building but routed internally, so that the traffic between your server and the backup infrastructure won't get added to your bill.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 3, 2012, 4:08 PM",
          "AuthorName": "Visvanath Ratnaweera",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=41095&course=5",
          "role": [
            "Picture of Visvanath Ratnaweera",
            "Picture of Particularly helpful Moodlers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 169612,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=169612",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "backup and restore of quizzes",
          "Text": "Sometimes our quizzes when restored (into a new course) dont appear.Â  The questions are in the Question Databank of the new course..but the test itself is blank.Â  I have a theory but want to see if anyone knows what can happen or if my theory is accurate.Â  From researching the tests/quizzes that dont appear, I I think I have determined that they are always tests that have attempts.Â  And, if I dig deeper it appears that after the tests were given/attempted--that in my report log of that course a teacher has edited a question (not in that test, but in the question bank).Â  My thought was...there is usually a chance they have edited a question and now that question no longer exists as it was and that 'corrupts' the test and creates a blank test. Can anyone confirm or point me in a different direction?Â  This has happened on many occassions.Â  Some transfer some dont..that above is the only thing I found that is different in tests that do NOT copy over correctly.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 24, 2011, 4:54 AM",
          "AuthorName": "Ro Eng",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1018620&course=5",
          "role": [
            "Picture of Ro Eng"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: backup and restore of quizzes",
          "Text": "Hi Rhonda, Just wondering which version of Moodle you are using? There's a big difference in backup in restore in Moodle 1.9 and 2.0.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 24, 2011, 8:57 PM",
          "AuthorName": "Helen Foster",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=24152&course=5",
          "role": [
            "Picture of Helen Foster",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: backup and restore of quizzes",
          "Text": "We are using 1.9",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, February 24, 2011, 9:15 PM",
          "AuthorName": "Ro Eng",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1018620&course=5",
          "role": [
            "Picture of Ro Eng"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 98532,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=98532",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "This forum post has been removed",
          "Text": "The content of this forum post has been removed and can no longer be accessed.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "N/a",
          "AuthorName": "N/a",
          "AuthorMoodleLink": "N/a",
          "role": [],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 332349,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=332349",
      "NoOfResponses": 4,
      "ResponsesInList": [
        {
          "Title": "unable to restore course",
          "Text": "We are running Moodle version 2.6 - yes we do need to update, but for now until we do this, I am having some troubles with the backup and restore piece. Approx 99% of our courses back up and restore correctly. Here is the issue: If I go to the course in question and look at the automatic backups, they are showing but the file size has a negative beside it.Â  First off the file size is large -maybe that's part of the issue? If I try to download this backup I get an error - on other course sites I get the proper download pop up and can download the file If I try to restore I get the following error: (with developer debugging turned on). I've tried reviewing the FAQ's but nothing has popped out that describes the following. I did see something about PHP and unzipping of larger files but that applied to version 2.3. This course was previously I version 1.9 and was backed up and restored to the new version 2.6 fresh install. we did this with others andÂ it worked fine. I did notice there is a legacy course files section. Would this contribute to this issue? I still feel the main issue is with the negative file size. Why is this showing like this and other courses not? I have the course size download set to 2GB as we have some courses that require this course size. Maybe it is related to this? Or is it possible I need to increase the size further as this course maybe capping out at 2GB? Hopefully someone else has had this issue and can direct me to the correct solution. Thank you in advance.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 29, 2016, 9:51 PM",
          "AuthorName": "Chris Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1767071&course=5",
          "role": [
            "Picture of Chris Nelson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: unable to restore course",
          "Text": "What is the error? Â How large is the course? Â Try a manual backup - what happens?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, May 1, 2016, 8:32 PM",
          "AuthorName": "Emma Richardson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=719311&course=5",
          "role": [
            "Picture of Emma Richardson",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: unable to restore course",
          "Text": "For some reason my screen shots did not come through on my post. However it appears all the issues where related to the max upload file size. Once I Â adjusted this, the file size shows correctly, I am also able to download the backup file and able to restore the course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 2, 2016, 10:59 PM",
          "AuthorName": "Chris Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1767071&course=5",
          "role": [
            "Picture of Chris Nelson"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: unable to restore course",
          "Text": "one correction, for file size showing correctly, I meant the file size is now positive vs negative.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, May 2, 2016, 11:08 PM",
          "AuthorName": "Chris Nelson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1767071&course=5",
          "role": [
            "Picture of Chris Nelson"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 264879,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=264879",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Not Modified Since Option Ignored - Automated Course Backups",
          "Text": "For some reason the Automated Course Backup is ignoring my \"Skip courses not modified since\" setting. We upgraded from 2.5 to 2.7 a week ago and I wanted to see how much disk space would be needed to enable this feature. So, in a test environment I'm manually running the automated_backups.php in CLI but noticed that everything but hidden courses are being backed up, when there should be very few. Are there other requirements for this option to work properly? My setting for Site Admin > Courses > Backups > Automated backup setting: Active = Manual Schedule = Wednesday (not that it matters in this case) Execute at = 0:5 (again, doesn't matter in manual mode) Automated backup storage = Course backup filearea Save to = (blank) Keep = 1 Use course name in backup filename = Yes Skip hidden courses = Yes Skip courses not modified since = 3 days Skip courses not modified since previous backup = Yes Include.. = all defaults",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 31, 2014, 2:20 AM",
          "AuthorName": "Ryan Panning",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1587334&course=5",
          "role": [
            "Picture of Ryan Panning"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Not Modified Since Option Ignored - Automated Course Backups",
          "Text": "Hmmmm ... maybe it is working ... from what I re-collect ... Highly recommend setting autobackup to an alternative backup area ... NOT inside theÂ  new file system (ie, filedir of moodledata).Â  If one needs to grant teachers access to backups, one can setup a file system repo and use a symlink to the 'alternate backup area' per teacher. On first run, how would the auto backup mod of Moodle know if a course has been NOT be modified the past 3 days? Â  On first run, noticed it does backup all of them (cept hidden).Â  Then Moodle has the data for modification date and can calculate X days or other. Run it again from the command line as you did before and see if there are some skipped. Then wait a little bit and run it again. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 31, 2014, 3:38 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Not Modified Since Option Ignored - Automated Course Backups",
          "Text": "I finally ran it again (first run took 8.5 hours) and you're right on the modified thing. Now I get a bunch that say (Not modified in the past 3 days). That option is misleading in my opinion. To me the modified date is something the course should know, has nothing to do with backups. It's like saying you can't look at the modified date on a file because it hasn't been backed up yet.. The \"Skip courses not modified since previous backup\" option is logical though. Why backup to an alternative location? The course location make it easy for teachers to find, keeping everything contained in Moodle. Thanks",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, July 31, 2014, 9:44 PM",
          "AuthorName": "Ryan Panning",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1587334&course=5",
          "role": [
            "Picture of Ryan Panning"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 78781,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=78781",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restore a webct course in moodle?",
          "Text": "Hi can anybody help me? I cannot restore a webct course backup file in moodle?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 28, 2007, 5:53 PM",
          "AuthorName": "Sanjay Vishram",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=333878&course=5",
          "role": [
            "Picture of Sanjay Vishram"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore a webct course in moodle?",
          "Text": "Please supply more information WebCT version How WebCT export was created Moodle version What steps you have taken What you expect to happen Errors or other messages You should be aware of the following bits of information: WebCT (at least, 4.1CE, the one I have access to) has two types of \"course export\" or \"course backup\". There is \"Course Backup\" which can be performed by an instructor (or someone who has instructor level access). DO NOT USE THIS . This \"Backup\" is encrypted and can only be used to restore a WebCT backup to WebCT. There is \"Course Export\" which is available only to the site administrator. This tool is available on the command line or can be installed into the web interface. Also, it can be made available to Insructors, but at the discretion of the site admin. DO use this tool. In my WebCT installation, it is accessible to instructors by clicking \"Control Panel->Manage Course->Export Content->Export Course (radio button)\" There is a WebCT-to-Moodle import tool. See the following: http://moodle.org/mod/data/view.php?d=13&rid=94 It works, pretty much. You will have to do a good bit of manual manipulation to get the course actually working in Moodle. WebCT and Moodle are just too different from an inherent design standpoint to analagously transfer content without any tweaking. good luck, seeyalater...",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 28, 2007, 10:11 PM",
          "AuthorName": "Jeffrey Silverman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=349708&course=5",
          "role": [
            "Picture of Jeffrey Silverman"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 223803,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=223803",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "I hope this helps moodle users to locate their moodle 2.x data",
          "Text": "I created a Prezi presentation onÂ  Retrieving an .MBZ or .ZIP file. http://bit.ly/YeZAkN Actually it can be for any type of file. Just customize your query. Hope this helps.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, March 6, 2013, 4:04 AM",
          "AuthorName": "Lawrence N",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1571090&course=5",
          "role": [
            "Picture of Lawrence N"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 313634,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=313634",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Error Writing to Database",
          "Text": "With little or no training, I have been tasked with maintaining a Moodle system at our institution. I have been trying to backup some courses, for rollovers for the next time around, and have been getting \"Error Writing to Database \". I have been searching message boards/forums for days, and have increased \"max_allowed_packet\" to 2000M! I have recently turned on debugging, but I would rather read Greek than these logs. For background, we are running Moodle 2.7+ in a Windows Server 2012 environment. Here are the logs: Debug info: Row size too large (> 8126). Changing some columns to TEXT or BLOB or using ROW_FORMAT=DYNAMIC or ROW_FORMAT=COMPRESSED may help. In current row format, BLOB prefix of 768 bytes is stored inline. INSERT INTO mdl_backup_controllers (backupid,operation,type,itemid,format,interactive,purpose,userid,status,execution,executiontime,checksum,controller,timecreated,timemodified) VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?) [array ( 0 => '731c182e269b6504aa9d239d90daabc9', 1 => 'backup', 2 => 'course', 3 => 438, 4 => 'moodle2', 5 => 1, 6 => 10, 7 => '733', 8 => 500, 9 => 1, Stack trace: line 446 of \\lib\\dml\\moodle_database.php: dml_write_exception thrown line 1164 of \\lib\\dml\\my sql i_native_moodle_database.php: call to moodle_database->query_end() line 1210 of \\lib\\dml\\mysqli_native_moodle_database.php: call to mysqli_native_moodle_database->insert_record_raw() line 97 of \\backup\\util\\dbops\\backup_controller_dbops.class.php: call to mysqli_native_moodle_database->insert_record() line 340 of \\backup\\controller\\backup_controller.class.php: call to backup_controller_dbops::save_controller() line 137 of \\backup\\util\\ui\\base_ui.class.php: call to backup_controller->save_controller() line 147 of \\backup\\backup.php: call to base_ui->save_controller() Any help would be much appreciated.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 16, 2015, 5:53 AM",
          "AuthorName": "David Fish",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=62252&course=5",
          "role": [
            "Picture of David Fish"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 314041,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=314041",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course restore hung on Moodle 2.9",
          "Text": "We have just upgraded our Moodle 2.6 to Moodle 2.9.Â  The backups run just fine.Â  But we cannot restore any courses.Â  It hung. We did a manual backup with Moodle 2.9 (just to make sure) and any attempts to restore it would result in Moodle hung.Â  Running SQL tracer, we see that the follow SQL query is being run \"UPDATE #mdl_backup_files_temp SET .....\" and it is suspended.Â  We also noticed that the table temp table, mdl_backup_files_temp, really doesn't exit.Â  Instead we have temp table of the name, mdl_backup_files_temp_________________________... Our environment is: IIS 7 on windows server 2008 PHP 5.6.8 MSSQL driver 3.2 SQL server 2008 Thanks. note that we just switch from freedts to MSSQL driver as the freedts driver is quite buggy,",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 23, 2015, 4:16 AM",
          "AuthorName": "David Ha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=70641&course=5",
          "role": [
            "Picture of David Ha"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 85117,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=85117",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Frontpage backup",
          "Text": "What exactly is the frontpage back up? And how does it differ from the course backup Any ideas would be much appreciated Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 23, 2007, 1:32 AM",
          "AuthorName": "Albert Ramsbottom",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=403579&course=5",
          "role": [
            "Picture of Albert Ramsbottom"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 205974,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=205974",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Is backup still including all questions from the DB?",
          "Text": "Searching through this forum I've come across some old post (pre 2.0) on the problem that when backing up a course the backup includes all questions, even from categories that are not used at all in the course. At the time it seems to have not been solved. Is there anyÂ  progress on this in 2.2.3? When trying to restore a backup (on a different system) it seems that the behaviour is still the same. But maybe I'm missing some setting?? Thanks in advance, Mart van der Niet",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, July 2, 2012, 10:49 PM",
          "AuthorName": "mart van der niet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1232025&course=5",
          "role": [
            "Picture of mart van der niet"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Is backup still including all questions from the DB?",
          "Text": "Sadly, I don't think anything has changed in this regard.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 4, 2012, 3:25 PM",
          "AuthorName": "Tim Hunt",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=93821&course=5",
          "role": [
            "Picture of Tim Hunt",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Is backup still including all questions from the DB?",
          "Text": "Sad indeed, creates an awfull lot of extra work... Thanks for your reply.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, July 4, 2012, 10:37 PM",
          "AuthorName": "mart van der niet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1232025&course=5",
          "role": [
            "Picture of mart van der niet"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 220820,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=220820",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Problem in zip file when backuping course",
          "Text": "I couldn\"t restore some courses because the zip files that comes after theÂ backup procedureare damaged . I unzipped them in my compute and Â got this error: The archive is either in unknown format or damaged",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 29, 2013, 2:03 PM",
          "AuthorName": "Irith Herman",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=444161&course=5",
          "role": [
            "Picture of Irith Herman"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 148686,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=148686",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Restore issue for courses with topic= in URLs",
          "Text": "I'm creating a site with simple navigation for early elementary students. Each course is to be set up so that students see a number of large icons under topic 1. Each icon links to a new topic (which in turn has a \"back\" button to topic 1. Only one topic is to be visible at a time (initially topic 1) So course links such as http://mysite.edu/course/view.php?id=34&topic=1 , http://mysite.edu/course/view.php?id=34&topic=2 , http://mysite.edu/course/view.php?id=34&topic=etc . are used extensively throughout the course. Works fine ... But .... when I backup and restore to another course (say id=35), all of the links remain pointing to id=34. I'm pretty sure that if the \"&topic=x\" was not included, the url would be changed to the new course id upon the creation of a new course. Is there anyway to modify the core code (or any other work around) to allow for these course links to take on the id of the newly created (from restore) course rather than pointing to the original course?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 23, 2010, 7:29 PM",
          "AuthorName": "Larry Elchuck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=121840&course=5",
          "role": [
            "Picture of Larry Elchuck"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore issue for courses with topic= in URLs",
          "Text": "Uhm... I cannot find anything in backup / restore encoding / decoding those URLs (no matter if they have the \"&topic=xx\" or no). Can you confirm that the conversion happens if the \"topic\" part isn't added?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 23, 2010, 10:21 PM",
          "AuthorName": "Eloy Lafuente (stronk7)",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=3176&course=5",
          "role": [
            "Picture of Eloy Lafuente (stronk7)",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers",
            "Picture of Testers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore issue for courses with topic= in URLs",
          "Text": "You are correct Eloy The conversion does not happen, even if the \"topic\" part is not added BTW I am preferring to show the icons as a label , but I did create a webpage with the same html, to see if it made a difference on restore. It did not Created a Tracker item at MDL-22176",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 23, 2010, 10:53 PM",
          "AuthorName": "Larry Elchuck",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=121840&course=5",
          "role": [
            "Picture of Larry Elchuck"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 69336,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=69336",
      "NoOfResponses": 8,
      "ResponsesInList": [
        {
          "Title": "Lost, Lost. Lost",
          "Text": "My school technology administrator just informed me that the server that ALL of the work I (and others) have done on Moodle has crashed and there is NO information that can be saved. Is there ANY record or ANY way to access our sites via this site??? PLEASE HELP!Â  I had 2 years worth of lesson plans, resources, tests, etc. on this! Thanks, Melanie Shepherd Johnson Co. Voc. School Mountain City, TN shepherdm@jocoed.k12tn.net",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 9:43 PM",
          "AuthorName": "Melanie Shepherd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=209987&course=5",
          "role": [
            "Picture of Melanie Shepherd"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Lost, Lost. Lost",
          "Text": "Hi Melanie, I think you're asking if there's any way you can access your data via the moodle.org site, in which case I'm afraid the answer is no - yourÂ Moodle installation wasn't uploading your data to the Moodle site (it would be a gross invasion of your privacy if it had been). Ask your administrator if the server was being backed up to tape, or anywhere else, or if Moodle was running scheduled backups anywhere.Â  If it was, then it should be possible to recover some or all of your data from there.Â  If it wasn't, then someone is guilty of neglect of duty, because data should be being backed up regularly.Â  That won't help you get your data back, but if your data wasn't being backed up then someone should get a kicking. One other possibility - don't let the techies re-format or scrapÂ the drive which Moodle was on, because there are specialist companies who can try and recover data from crashed disk drives.Â  It's a bit expensive, we had to have a (non-Moodle) drive recovered a couple of years ago and it cost us about Â£350 (US$700), but depending on what happened to the drive someone MAY be able to get at least some ofÂ your data back for you. Good luck! Chris",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 10:48 PM",
          "AuthorName": "Chris Lamb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=63562&course=5",
          "role": [
            "Picture of Chris Lamb"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lost, Lost. Lost",
          "Text": "Thanks for the reply.Â  That's what I was afraid of.Â  My administrator said that he backed it up, but that even the backup, hardware, etc. had crashed and is unrecoverable.Â  I'm not technologically inclined and I'm not sure what all that means!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 18, 2007, 12:10 AM",
          "AuthorName": "Melanie Shepherd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=209987&course=5",
          "role": [
            "Picture of Melanie Shepherd"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lost, Lost. Lost",
          "Text": "If you can salvage your uploaddata folder, your course info should be there. Your student info is located in your database . You may want to let the folks here know what you mean by \"crash\". Did the hard drive crash or was there some other issue? I assume there was no backup of the server? Of course, the question to your IT folks should be why not?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 11:01 PM",
          "AuthorName": "Rich Schumaker",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=4553&course=5",
          "role": [
            "Picture of Rich Schumaker"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lost, Lost. Lost",
          "Text": "I cannot even access the website where Moodle was hosted.Â  My IT guy just says that everything has crashed and I just wondered if there was ANY other way to get the info. back.Â  He said it shows folders and a gazillion file names, then when you click open the file, the first two lines or so is readable, but then the rest is just \"Wingdings\".",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 18, 2007, 12:54 AM",
          "AuthorName": "Melanie Shepherd",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=209987&course=5",
          "role": [
            "Picture of Melanie Shepherd"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lost, Lost. Lost",
          "Text": "If it's not clear what types the different files are he may be trying toÂ open files as text which aren't actually text (try opening a picture file with a text editor and see what you get!).Â  The files he's trying to open may be pictures, or database tables, or Word documents, or... I'd be inclined to get authority from someone at your school to take the drive to a disk recovery specialist.Â  I'm not quite sure how they do it, but they have some specialist machinery and techniques for reading scrambled data.Â  Don't let your IT guys play with it any more - they've done enough damage already, and the more they mess with it the less your chances of getting the data recovered.Â  Above all, DON'T let them try to defragment it or run scandisk/chkdsk. If you can get your uploaddata folder (and its subfolders) and your database recovered then you should be able to nail them into a fresh installation of Moodle, or even if you just get your files back you can then upload them one at a time into a new installation. The fact that your IT guy can get the disk to show something is encouraging - the drive clearly isn't completely dead, just badly corrupted.Â  I think you need professional help with this now - have a look in your Yellow Pages under \"Computer Disaster Planning\", or something like that.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 18, 2007, 1:21 AM",
          "AuthorName": "Chris Lamb",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=63562&course=5",
          "role": [
            "Picture of Chris Lamb"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lost, Lost. Lost",
          "Text": "Hire a new administrator. They *should* have backups in place - ask why not.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 17, 2007, 11:03 PM",
          "AuthorName": "Howard Miller",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1473&course=5",
          "role": [
            "Picture of Howard Miller",
            "Picture of Core developers",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Peer reviewers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Lost, Lost. Lost",
          "Text": "Melanie - perhaps you can ask your administrator to participate in this forum and describe anything he/she still has. Crashed mysql databases, moodle backup files, crashed filesystems, whatever. With a bit of technical info, and talking \"geek\" there is probably a chance to recover something.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 18, 2007, 5:40 AM",
          "AuthorName": "MartÃ­n Langhoff",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=13727&course=5",
          "role": [
            "Picture of MartÃ­n Langhoff"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 113121,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=113121",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "Version Control",
          "Text": "Is there a way of creating a parallel instance of the front page and/or course pages so that you can make changes to the site in a staging area before migrating them to \"production\"?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 30, 2008, 1:49 AM",
          "AuthorName": "Tamar Bacon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=758013&course=5",
          "role": [
            "Picture of Tamar Bacon"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Version Control",
          "Text": "Well, short of having a separate Moodle to practise on I don't see why you couldn't make a private course, hidden to everyone except admin , where you could trial things out?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 30, 2008, 1:55 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Version Control",
          "Text": "Thanks Mary!Â  I think that would work for me for the courses.Â  Do you have any suggestions for the front-page?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 30, 2008, 2:35 AM",
          "AuthorName": "Tamar Bacon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=758013&course=5",
          "role": [
            "Picture of Tamar Bacon"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Version Control",
          "Text": "Depends on how your front page is already set up.Our front page is open access and is set up with topic section so it's not too difficult to replicate on a course page with just one topic; I don't know how yours is arranged Why not get yourself a free moodle at ninehub.com and then you can practise your front page there?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, December 30, 2008, 3:11 AM",
          "AuthorName": "Mary Cooch",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=531675&course=5",
          "role": [
            "Picture of Mary Cooch",
            "Picture of Documentation writers",
            "Picture of Moodle HQ",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Version Control",
          "Text": "Great suggestion! Thanks!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, December 31, 2008, 2:32 AM",
          "AuthorName": "Tamar Bacon",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=758013&course=5",
          "role": [
            "Picture of Tamar Bacon"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 67825,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=67825",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restore error message: Not Acceptable",
          "Text": "Hi! When I try to run restore on Moodle 1.7.1 for a course that was backed up from a Moodle 1.5 site I get the following message: Not Acceptable An appropriate representation of the requested resource /moodle/backup/restore.php could not be found on this server . I've checked the file directory and there is a moodle/backup/restore.php file there. Any idea what this might be? Bob",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, March 27, 2007, 10:24 AM",
          "AuthorName": "Bob Gettings",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=8888&course=5",
          "role": [
            "Picture of Bob Gettings"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 87707,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=87707",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Unable to restore a zip file",
          "Text": "I created a backup of a course, uploaded it to another blank course. The file is appearing with Unzip, List, Restore options. But when i click on Restore link, a blank screen appears. List is showing the contents of zip file, unzip is unzipping the file, Then what is the problem with Restore? Can someone help me please? Thanks, Madhavi and tried Restore. It fails.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 8, 2008, 8:27 PM",
          "AuthorName": "madhavi kolagani",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=309853&course=5",
          "role": [
            "Picture of madhavi kolagani"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 98338,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=98338",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Forced logout while trying to do backup",
          "Text": "I have problems trying to do backups. We have over 40 courses in Moodle and we need to replicate one course, but when I try to do a backup of one specific course (and it only happens with that), I am thrown out and the backup utility says that I am not auttenticated. When I autenticate I am shown the list of courses. If I try to do it again, it happens again. The same problem occurs also if I try to restore one of the backups automatically made in the past for that course.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, May 31, 2008, 12:02 AM",
          "AuthorName": "JosÃ© Luis Villarig",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=337228&course=5",
          "role": [
            "Picture of JosÃ© Luis Villarig"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Forced logout while trying to do backup",
          "Text": "I'm having the same issue, but my site has a few hundred courses. Some will backup and restore properly but with others I'm kicked out to the login screen. Have you resolved this? Thanks, Jon",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, August 26, 2008, 7:17 AM",
          "AuthorName": "Jonathan Taylor",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=347759&course=5",
          "role": [
            "Picture of Jonathan Taylor"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 23132,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=23132",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Sablotron error in restore_bb",
          "Text": "Hi , when i try to restore a blackboard export file in my moodle (moodle 1.5 dev) i get the following error: --------------------------------- Converting Blackboard export Warning: Sablotron error on line 1: XML parser error 4: not well-formed (invalid token) in c:\\easyphp\\www\\backup\\bb\\restore_bb.php on line 65 Failed writing xml file ----------------------------- Is there something i have to change or add in restore_bb.php? Thanks....anjali",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, May 4, 2005, 2:03 AM",
          "AuthorName": "Anjali Badal",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=52970&course=5",
          "role": [
            "Picture of Anjali Badal"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 159080,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=159080",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Backup advice",
          "Text": "We are shortly going to completly update our Moodle. This includes all courses with new courses codes and renamed department. I have been in to the course backups and done a test restore, from the old course to the new empty course. But only the textual data was restorewd and no, course files, i.e. word docs, pdfs or images. I have checked in the course backup admin page and sure enought these elements arnt marked to be backed up. This is the case by default. Why is this? I dont understand what use the backup file would be if it doesnt back everything up! Ok I understand that I could overwrite or add data to a backup, and the files would remain in the course and this type of backup wil work. But in my case I need to backup and restore from a populated courses to a new unpopulated course. But this will not restore any course files.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, September 29, 2010, 4:39 PM",
          "AuthorName": "Albert Ramsbottom",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=403579&course=5",
          "role": [
            "Picture of Albert Ramsbottom"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Backup advice",
          "Text": "Apparently when you do automated backups Moodle only backs up the courses that have changed and are available to students , i.e. not hidden. If you don't likeÂ this then vote for change: MDL-15256 . The way I get around it is to make a small change to the courses that haven't changed, e.g. I'll enroll a dummy user. It's easy to do that for multiple courses using a flat file .",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Thursday, September 30, 2010, 1:37 PM",
          "AuthorName": "Luis de Vasconcelos",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=396446&course=5",
          "role": [
            "Picture of Luis de Vasconcelos",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Backup advice",
          "Text": "Thanks for that Yes I will get on that Cheers",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, October 1, 2010, 5:26 PM",
          "AuthorName": "Albert Ramsbottom",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=403579&course=5",
          "role": [
            "Picture of Albert Ramsbottom"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 410776,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=410776",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Error when backing up",
          "Text": "I have just upgraded to 3.9.2+ and am trying to back up some courses; one as a cartridge 1.1 thing (testing it out to see if it helped with another issue). However, I get an error every time... cannot finish ui if not setting ui",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 20, 2020, 3:10 AM",
          "AuthorName": "Gary Newport",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2327285&course=5",
          "role": [
            "Picture of Gary Newport"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Error when backing up",
          "Text": "Hmmm, if I remove the custom fields, calendar events and content bank content (?), it works?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 20, 2020, 3:18 AM",
          "AuthorName": "Gary Newport",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2327285&course=5",
          "role": [
            "Picture of Gary Newport"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 467295,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=467295",
      "NoOfResponses": 7,
      "ResponsesInList": [
        {
          "Title": "Restore error: Duplicate key value violates uniqueness constraint",
          "Text": "Hi, When I try to restore a course, this error message appears at the end: Debug info: ERRO: Duplicate key value violates uniqueness constraint \"mdl_coursect_cousec_uix\" DETAIL: Chave (course, section)=(156197, 0) jÃ¡ existe. INSERT INTO mdl_course_sections (course,section,summary,summaryformat,sequence,name,visible,availability,component,itemid,timemodified) VALUES($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11) RETURNING id [array ( 'course' => '156197', 'section' => 0, 'summary' => '', 'summaryformat' => '1', 'sequence' => '',",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 4, 2025, 9:30 AM",
          "AuthorName": "Ricardo Caiado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49398&course=5",
          "role": [
            "Picture of Ricardo Caiado",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restore error: Duplicate key value violates uniqueness constraint",
          "Text": "Your on leading edge (bleeding edge) moodle version which is now: 4.5.3+ fgrep '$release' version.php from moodlecode root. In admin/cli/ there is a script called fix_course_sequence.php suggest you run it. Also: https://docs.moodle.org/405/en/Course_restore Your 4.5 needs to have all the same addons/plugins that are contained in the backup file if the backup file came from another server . One can restore course backups from CLI ... again look in moodlecode/admin/cli/ for restore_backup.php Might also consult Moodle Tracker for issues and resolutions or status of reported issues. https://tracker.moodle.org/browse/MDL-81189?jql=project%20%3D%20MDL%20AND%20text%20~%204.5 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 4, 2025, 11:55 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore error: Duplicate key value violates uniqueness constraint",
          "Text": "Hi, Ken. I am running Moodle 4.5+ The backup file was generated on the same server I am trying to restore. Tried CLI and got this: \"== Limpando dados temporÃ¡rios == Default exception handler: ExceÃ§Ã£o - Erro ao escrever na base de dados (ERRO: o valor nulo na coluna \"questionbankentryid\" da relaÃ§Ã£o \"mdl_question_references\" viola a restriÃ§Ã£o de nÃ£o-nulo DETAIL: Registro que falhou contÃ©m (83962, 3905808, mod_quiz, slot, 305864, null, null). INSERT INTO mdl_question_references (usingcontextid,component,questionarea,itemid,questionbankentryid,version) VALUES($1,$2,$3,$4,$5,$6) RETURNING id [array ( 'usingcontextid' => 3905808, 'component' => 'mod_quiz', 'questionarea' => 'slot', 'itemid' => 305864, 'questionbankentryid' => NULL, 'version' => NULL, )]) Debug: Error code: generalexceptionmessage * line 133 of /admin/cli/restore_backup.php: core\\exception\\moodle_exception thrown !!! ExceÃ§Ã£o - Erro ao escrever na base de dados (ERRO: o valor nulo na coluna \"questionbankentryid\" da relaÃ§Ã£o \"mdl_question_references\" viola a restriÃ§Ã£o de nÃ£o-nulo DETAIL: Registro que falhou contÃ©m (83962, 3905808, mod_quiz, slot, 305864, null, null). INSERT INTO mdl_question_references (usingcontextid,component,questionarea,itemid,questionbankentryid,version) VALUES($1,$2,$3,$4,$5,$6) RETURNING id [array ( 'usingcontextid' => 3905808, 'component' => 'mod_quiz', 'questionarea' => 'slot', 'itemid' => 305864, 'questionbankentryid' => NULL, 'version' => NULL, )]) !!! !! Error code: generalexceptionmessage !! !! Stack trace: * line 133 of /admin/cli/restore_backup.php: core\\exception\\moodle_exception thrown !! Potential coding error - existing temptables found when disposing database . Must be dropped! (root) - (avaxacd) - (/www/htdocs/ava/admin/cli) # == Limpando dados temporÃ¡rios == Default exception handler: ExceÃ§Ã£o - Erro ao escrever na base de dados (ERRO: o valor nulo na coluna \"questionbankentryid\" da relaÃ§Ã£o \"mdl_question_references\" viola a restriÃ§Ã£o de nÃ£o-nulo DETAIL: Registro que falhou contÃ©m (83962, 3905808, mod_quiz, slot, 305864, null, null). INSERT INTO mdl_question_references (usingcontextid,component,questionarea,itemid,questionbankentryid,version) VALUES($1,$2,$3,$4,$5,$6) RETURNING id [array ( 'usingcontextid' => 3905808, 'component' => 'mod_quiz', 'questionarea' => 'slot', 'itemid' => 305864, 'questionbankentryid' => NULL, 'version' => NULL, )]) Debug: Error code: generalexceptionmessage * line 133 of /admin/cli/restore_backup.php: core\\exception\\moodle_exception thrown !!! ExceÃ§Ã£o - Erro ao escrever na base de dados (ERRO: o valor nulo na coluna \"questionbankentryid\" da relaÃ§Ã£o \"mdl_question_references\" viola a restriÃ§Ã£o de nÃ£o-nulo DETAIL: Registro que falhou contÃ©m (83962, 3905808, mod_quiz, slot, 305864, null, null). INSERT INTO mdl_question_references (usingcontextid,component,questionarea,itemid,questionbankentryid,version) VALUES($1,$2,$3,$4,$5,$6) RETURNING id [array ( 'usingcontextid' => 3905808, 'component' => 'mod_quiz', 'questionarea' => 'slot', 'itemid' => 305864, 'questionbankentryid' => NULL, 'version' => NULL, )]) !!! !! Error code: generalexceptionmessage !! !! Stack trace: * line 133 of /admin/cli/restore_backup.php: core\\exception\\moodle_exception thrown !! Potential coding error - existing temptables found when disposing database. Must be dropped! == Limpando dados temporÃ¡rios == Default exception handler: ExceÃ§Ã£o - Erro ao escrever na base de dados (ERRO: o valor nulo na coluna \"questionbankentryid\" da relaÃ§Ã£o \"mdl_question_references\" viola a restriÃ§Ã£o de nÃ£o-nulo DETAIL: Registro que falhou contÃ©m (83962, 3905808, mod_quiz, slot, 305864, null, null). INSERT INTO mdl_question_references (usingcontextid,component,questionarea,itemid,questionbankentryid,version) VALUES($1,$2,$3,$4,$5,$6) RETURNING id [array ( 'usingcontextid' => 3905808, 'component' => 'mod_quiz', 'questionarea' => 'slot', 'itemid' => 305864, 'questionbankentryid' => NULL, 'version' => NULL, )]) Debug: Error code: generalexceptionmessage * line 133 of /admin/cli/restore_backup.php: core\\exception\\moodle_exception thrown !!! ExceÃ§Ã£o - Erro ao escrever na base de dados (ERRO: o valor nulo na coluna \"questionbankentryid\" da relaÃ§Ã£o \"mdl_question_references\" viola a restriÃ§Ã£o de nÃ£o-nulo\" Ricardo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 4, 2025, 8:45 PM",
          "AuthorName": "Ricardo Caiado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49398&course=5",
          "role": [
            "Picture of Ricardo Caiado",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore error: Duplicate key value violates uniqueness constraint",
          "Text": "Restore had a bug .... supposedly fixed in the latest point release version of 4.5 ... which is 4.5.3+ (Build: 20250401). Hopefully, you installed using git cause that will make it easier to acquire the most recent fixed/patched core code. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 4, 2025, 9:24 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore error: Duplicate key value violates uniqueness constraint",
          "Text": "Thanks for the reply... Do you know the link to the \"Bug Tracker\" for this bug?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 4, 2025, 9:59 PM",
          "AuthorName": "Ricardo Caiado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49398&course=5",
          "role": [
            "Picture of Ricardo Caiado",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore error: Duplicate key value violates uniqueness constraint",
          "Text": "No, I don't have a specific link ... re-call seeing it mentioned in another thread.Â Â  You can search tracker however. Moodle is a work in progress ... all the time ... so if you are thinking of a temp fix by altering core code to get by this, think again.Â Â  Those tend to bite when you do decide it's time to update/upgrade. Me thinks, at this point, best to get your core code under git versioning as it is very easy to acquire those small (but significant) fixes. I can only say this as a non-programmer ... I use git ... have 4.5.3+ version and don't seem to have the issues you are having (maybe am just 'lucky'? :|). But, then again, I also use MySQL and not Postgres . https://docs.moodle.org/405/en/Git_for_Administrators If you installed your moodle via 'normal' method, to get your core code under git versioning will require either a 'side load' or you could opt to use 'gitify'.Â Â  See link to 'gitify' in my profile.Â  Or a combo of acquire new code via git, and then like the old method, copy back into git acquired code directory, config.php plus any addon/plugin - before moving current code directory to codeold and renaming git acquired code directory to document root of the site, then using cli /admin/cli/upgrade.php script. Catch 22 for you is the addon you have which doesn't have a 4.5.x compatible version. 'SoS', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, April 4, 2025, 11:24 PM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Restore error: Duplicate key value violates uniqueness constraint",
          "Text": "Thanks for the tip!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, April 5, 2025, 12:02 AM",
          "AuthorName": "Ricardo Caiado",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=49398&course=5",
          "role": [
            "Picture of Ricardo Caiado",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 215317,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=215317",
      "NoOfResponses": 5,
      "ResponsesInList": [
        {
          "Title": "course backup died during \"Confirmation and review\"",
          "Text": "Moodle 2.3.2 in Debian squezze I followed the link to backup one course with 30 subjects. Â I s elected all the Â items to include in backup then click the Next button, then it died inÂ Confirmation and review page without any hint. I need your help. Best Regards. Hugo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 6, 2012, 1:24 PM",
          "AuthorName": "hugo joe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=258502&course=5",
          "role": [
            "Picture of hugo joe"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: course backup died during \"Confirmation and review\"",
          "Text": "The backup works well for small courses. upload_max_filesize=30M extramemorylimit 1024M What and how should I Â configure?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 6, 2012, 2:13 PM",
          "AuthorName": "hugo joe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=258502&course=5",
          "role": [
            "Picture of hugo joe"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: course backup died during \"Confirmation and review\"",
          "Text": "Have you looked at the error messages? Go to Site Administration > Server > Debugging and then to error mesages, a dropdown list box and select ALL: Show all reasonable PHP error messages. Do the backup again, and see what error messages you get, if any. If you get none, then it may be a server error, so check your server logs, or there is something in the course that is not allowing you to back it up all at once? One thing you can do is break the course backup into two or three parts, by backing up just a part of the course at a time. See if the glitch causing the problem can be isolated. Each backup should have a different name, and when restored, use the \"Restore into existing course\". That, I have found sometimes, can be more revealing, and less stressfull. Student enrollments go into the first part and not included after that. If a part does not backup, does the same thing, then just keep working through it element by element, until you are successful. This allows you to you locate, specifically, the element causing the problem.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, November 6, 2012, 2:51 PM",
          "AuthorName": "Colin Fraser",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=616775&course=5",
          "role": [
            "Picture of Colin Fraser"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: course backup died during \"Confirmation and review\"",
          "Text": "It works.\nThanks.\n\nHugo",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, November 16, 2012, 10:34 AM",
          "AuthorName": "hugo joe",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=258502&course=5",
          "role": [
            "Picture of hugo joe"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: course backup died during \"Confirmation and review\"",
          "Text": "Hi, I've been having the same issue. I've been able to back up one course by splitting it into two parts as you suggested but another course doesn't back up no matter how small I try to make the back up. I get different errors each time I try, but mainly they are similar to this one: Fatal error : Allowed memory size of 134217728 bytes exhausted (tried to allocate 127013 bytes) in /home1/createto/public_html/moodle/lib/ pear /HTML/QuickForm/Renderer/Default.php on line 324 The difference with other error messages is usually just a different file and line. I have no idea how to resolve it. My server is an online hosting provider that gives unlimited overall storage but does have max size on single file uploads. Any help would be greatly appreciated! Thanks, Malcolm",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 30, 2013, 11:22 AM",
          "AuthorName": "Malcolm Drew",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1553219&course=5",
          "role": [
            "Picture of Malcolm Drew"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 326311,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=326311",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Bulk User Action - Problem Downloading Users in Excel format",
          "Text": "Dear all: We are trying to download users\nusingÂ Bulk User Action - and choosing Excel format, but system hangs and\nwe receive some errors on secreen (see transcript). We have aprox 10000 users on database , and we are\nrunning a Moodle 3.0.1 in a Red Hat 7 front-end server with php 5.4.16, Apache 2.4.7 --- 20 GB RAM The backend server runs also RH7 with MySQL 5.5 -- 12 GB RAM Error Message: Exception â€“ Invalid parameters passed Debug info Error code: generalexceptionmessage Stack trace: Â· Line 250 of\n/lib/PHPExcel/Writer/Excel2007/Workbook.php: PHPExcel_Writer_Exception thrown Â· Line 221 of\n/lib/PHPExcel/Writer/Excel2007/Workbook.php: call to\nPHPExcel2007_Workbook->writeSheet() Â· Line 72 of\n/lib/PHPExcel/Writer/Excel2007/Workbook.php: call to\nPHPExcel2007_Workbook->writeSheet() Â· Line 290 of\n/lib/PHPExcel/Writer/Excel2007/Workbook.php: call to\nPHPExcel2007_Workbook->writeWorkbook() Â· Line 129 of\n/lib/excellib.class.php: call to PHPExcel2007_Writer_Excel2007->save() Â· Line 142 of\n/admin/user/user_bulk_download.php: call to MoodleExcelWorkbook->close() Â· Line 50 of\n/admin/user/user_bulk_download.php: call to user_download_xls() *********************************************************************************** What do you suggest in order to solve this issue? What are the steps for\noptimization in Apache and My SQL in order to execute this\noperation? Your help will be surely appreciated. Diego S.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, January 19, 2016, 9:18 PM",
          "AuthorName": "Proyectos Moodle",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=2038124&course=5",
          "role": [
            "Picture of Proyectos Moodle"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 420862,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=420862",
      "NoOfResponses": 3,
      "ResponsesInList": [
        {
          "Title": "Difference between a Front Page Backup and a Course Backup",
          "Text": "The answer to this may be obvious, but I cannot locate an explanation in the documentation.Â  If one creates a backup from the Front Page (this seems to be called a Front Page backup), does that backup all courses in one's Moodle site?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 12, 2021, 11:18 AM",
          "AuthorName": "Dan O'Reilly",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1332007&course=5",
          "role": [
            "Picture of Dan O'Reilly"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Difference between a Front Page Backup and a Course Backup",
          "Text": "Hi Dan, No, Front page backup only backups thing related to the front page, and NOT all other courses! It can include resources/ activities and blocs on the front page, and if you include user datas/logs, all view of the front page (with not connected ones), connexions... HTH , SÃ©verin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 13, 2021, 5:50 PM",
          "AuthorName": "SÃ©verin TERRIER",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=64739&course=5",
          "role": [
            "Picture of SÃ©verin TERRIER",
            "Picture of Documentation writers",
            "Picture of Particularly helpful Moodlers",
            "Picture of Testers",
            "Picture of Translators"
          ],
          "IsInitialPost": false
        },
        {
          "Title": "Re: Difference between a Front Page Backup and a Course Backup",
          "Text": "Hi SÃ©verin, Thanks for the clarification. It did help! Dan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, April 14, 2021, 10:27 AM",
          "AuthorName": "Dan O'Reilly",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1332007&course=5",
          "role": [
            "Picture of Dan O'Reilly"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 220916,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=220916",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "restore files",
          "Text": "i've somehow managed to screw up my datadir and while I thought there was a copy, turns out there isn't. Uh oh! The database is ok. so now when I go to edit things, like my front page , I get stuff like: Can not read file, either file does not exist or there are permission problems More information about this error Debug info: /Applications/ MAMP /cmMoodleData/filedir/8d/c7/8dc75960c577e48a324414ea1c2d12e1512e85d9 Error code: storedfilecannotread but I have course backup files - the mbz's. They are backing up on schedule, so that's something! Yay. Just trying to restore the backup of the front page. Except you can't restore backups over the front page, because ... ? why? Basically I'm looking for a way to get my front page files back out of the backup and into the filedir crazy folder system again. Any ideas? There's probably a really obvious way that I haven't seen!",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Wednesday, January 30, 2013, 11:49 AM",
          "AuthorName": "tim st.clair",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1442118&course=5",
          "role": [
            "Picture of tim st.clair",
            "Picture of Particularly helpful Moodlers",
            "Picture of Plugin developers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 156433,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=156433",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "import course data doesn't maintain position",
          "Text": "WhenÂ I import course data to my current course, the data does not maintain its position. I use Topics format (3 Topics: Course Material, Assignments, Links), butÂ upon importing course data,Â a good amount of the data is placed into theÂ main topic area (aboveÂ Topic 1) eventhoughÂ I previously had them positioned intoÂ specific topic areas. After importing, I then have to change the number of topics and then move a majority of the data to the correct topic position. Is there a way to import and maintain the data'sÂ position in the topics? DoÂ I need to change the number of topics to what IÂ want firstÂ and then import? Lance",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, August 23, 2010, 4:27 AM",
          "AuthorName": "Lance Johnson",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=166855&course=5",
          "role": [
            "Picture of Lance Johnson"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 105278,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=105278",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "group member data in Backups is repeated endlessly",
          "Text": "Hi All, I've uncovered an issue that is blocking a restore of courses with lots of students and lots of groups. I've logged a bug ( http://tracker.moodle.org/browse/MDL-16385 ). I think I have a fix. I need to know if a) this is just an issue that occurs on our code at the Open University, b) if I've suggested the right fix cheers Colin",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 8, 2008, 5:19 PM",
          "AuthorName": "Colin Chambers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=239770&course=5",
          "role": [
            "Picture of Colin Chambers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 28581,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=28581",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Mail Backup",
          "Text": "I would like to send me a copy of my bkp every day, that is, as soon as I do the bkp, I would like that automaticaly send me the backup to my e-mail address. Does anybody know how to do that? thanks Juan",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, August 5, 2005, 12:15 AM",
          "AuthorName": "Juan Duran",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=60578&course=5",
          "role": [
            "Picture of Juan Duran"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 133234,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=133234",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "backup problem",
          "Text": "In a topic type course under the quizz I have images in my question as well as answers. When I take backup xxx.jpg not backed upÂ error occurs. When I restore the course on another machine , images are not seen. The quiz has to be edited again for linking to images Usha",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, September 21, 2009, 12:13 PM",
          "AuthorName": "USHA DEO",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=812334&course=5",
          "role": [
            "Picture of USHA DEO"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 450029,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=450029",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Restore not working - Did you remember to make the first column something unique in your call to get_records? Duplicate value found in column ''.",
          "Text": "Recent trouble with backups and restores.Â  Backups for large courses take very\nlong.Â  Restores are failing if the question\nbank is included.Â  No other trouble with\nthe site.Â  Very responsive for general\nnavigation, quiz taking, etc..Â  No other\nperformance issues observed.Â  Seems to be\nrelated to growth of question bank for over a decade of usage.Â  Discovered issue when staging a new\ncourse.Â  Normal operation is to backup\nour old course and restore into new ones for new semester/year activities .Â  We include all content such as blocks,\nactivities, quizzes, files, and question bank in backups.Â  If we exclude question bank during backup, we\nare able to restore.Â  It fails if use the\nimport feature of moodle as well if targeting anything related to question\nbank. Weâ€™ve been using Moodle for over a decade as our LMS Moodle 3.11 Vmware infrastructure Application server : Windows Server IIS web server PHP8 MS ODBC driver 17 24gb Ram 4vCpu Database server: Windows server MSSQL 2019 Latest patches 48GB Ram 6vCPU When restore is happening, CPU usage skyrockets on DB server. Error message during restore on screen with Debugging\nturned on (there are thousands of these): Did you remember to make the first column something\nunique in your call to get_records? Duplicate value\n' www.my.domain.edu +191125170853+YbzElN www.my.domain.edu +191125170853+m3Wi6q'\nfound in column ''. line 985 of \\lib\\dml\\ sql srv_native_moodle_database.php:\ncall to debugging() line 1595 of \\lib\\dml\\moodle_database.php: call to\nsqlsrv_native_moodle_database->get_records_sql() line 681 of \\backup\\util\\dbops\\restore_dbops.class.php:\ncall to moodle_database->get_records_sql_menu() line 518 of \\backup\\util\\dbops\\restore_dbops.class.php:\ncall to restore_dbops::prechek_precheck_qbanks_by_level() line 1717 of \\backup\\util\\dbops\\restore_dbops.class.php:\ncall to restore_dbops::precheck_categories_and_questions() line 1537 of \\backup\\moodle2\\restore_stepslib.php: call to\nrestore_dbops::process_categories_and_questions() line 34 of\n\\backup\\util\\plan\\restore_execution_step.class.php: call to\nrestore_process_categories_and_questions->define_execution() line 181 of \\backup\\util\\plan\\base_task.class.php: call\nto restore_execution_step->execute() line 191 of \\backup\\util\\plan\\base_plan.class.php: call\nto base_task->execute() line 168 of \\backup\\util\\plan\\restore_plan.class.php:\ncall to base_plan->execute() line 408 of\n\\backup\\controller\\restore_controller.class.php: call to restore_plan->execute() line 219 of \\backup\\util\\ui\\restore_ui.class.php: call to\nrestore_controller->execute_plan() line 143 of \\backup\\restore.php: call to\nrestore_ui->execute() Browser shows progress spinning then eventually just\ntimes out after like 25 minutes.Â  When I refresh the page, I get this\nseries of errors: error/restore_not_executable_awaiting_required More information about this error Debug info: Error code: restore_not_executable_awaiting_required $a contents: 800 Stack trace: line 165 of\n\\backup\\util\\plan\\restore_plan.class.php: restore_controller_exception thrown line 408 of\n\\backup\\controller\\restore_controller.class.php: call to restore_plan->execute() line 219 of\n\\backup\\util\\ui\\restore_ui.class.php: call to\nrestore_controller->execute_plan() line 143 of \\backup\\restore.php: call to\nrestore_ui->execute() I click continue and then this: A required parameter (contextid) was missing More information about this error Debug info: Error code: missingparam Stack trace: line 497 of \\lib\\setuplib.php:\nmoodle_exception thrown line 574 of \\lib\\moodlelib.php: call to\nprint_error() line 35 of \\backup\\restore.php: call to\nrequired_param():",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Friday, September 1, 2023, 2:46 AM",
          "AuthorName": "Lefty Olsen",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=5781374&course=5",
          "role": [
            "Picture of Lefty Olsen"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 328508,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=328508",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Restoring 2.9 backups to 2.5 - only works 'via' 2.6",
          "Text": "An observation rather than a question - but perhaps somebody can enlighten me with an explanation or improved workaround. I have Moodle 2.9 courses that I wish to recreate elsewhere in Moodle 2.5 (or lower) instances. If I restore the backups directly into a Moodle 2.5, it fails with that once-familar old error: error/moodle/tmp backup directory not found However, I can restore the 2.9 backups into a Moodle 2.6 instance, then backup that course within the 2.6 instance, then use that 2.6 backup to restore the course into my 2.5 instance; and this all works OK in the sense of creating the course, maintaining all the content, and avoiding the above error. So I can restore down from 2.9 to 2.5, by using 2.6 as an interim stage; but it's a lot of work, and duplication that way. Any Â better alternative?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 22, 2016, 5:13 AM",
          "AuthorName": "Tony Delahunty",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=10347&course=5",
          "role": [
            "Picture of Tony Delahunty"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Restoring 2.9 backups to 2.5 - only works 'via' 2.6",
          "Text": "Don't think there is any util, etc. The way you are doing really might be the only/best way.Â  However, depends upon if the bug required a lot a little.Â Â  So keeping that in mind think I'd investigate ... Downoad a 2.5 backup (which used zipping to archive) Downoad a 2.9 backup (which uses tar.gz ). Decompress them both in different directories. Inspect the moodle_backup. xml file as well as other .xml's related to files ... in other words, compare the moodle_backup.xml file from a 2.5 backup to the moodle_backup.xml file of a 2.9 backup for differences. One might be able to 'doctor' the 2.9 moodle_backup.xml file to make it compat with 2.5 restore. When re-compressing the doctored 2.9 backup, use zip.Â Â  2.5 talked only zip.Â Â  2.6 was the first version to introduce the new compression ... gzip (tar.gz). Actually, that might be all you need ... download backup of 2.9, uncompress, recompress using zip restore to 2.5. 'spirit of sharing', Ken",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, February 22, 2016, 7:02 AM",
          "AuthorName": "Ken Task",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=141618&course=5",
          "role": [
            "Picture of Ken Task",
            "Picture of Particularly helpful Moodlers"
          ],
          "IsInitialPost": false
        }
      ]
    },
    {
      "PostID": 186480,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=186480",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "local windows moodle 2.1 restore not ending",
          "Text": "Hello, I'm trying to restore locally a moodle 2.1 Â course hosted in the free mdl2 site. Â I've downloaded and installed, on Windows 7 home premium 64 bits the last moodle 2.1 windows installation available (by september 23rd-2011)Â , without errors nor warnings. It seemed everything worked fine until I tried to restore this web course locally... The seven steps restoring process ran properly until step 6 (restore)... Then it just shows a blank (google chrome) browser page and the process doesn't finish... no error message, no course restored. I've tried stopping and restarting XAMPP services, restarting the machine, searching for similar errors on the web... Â Nothing... I'd really appreciate the all mighty moodlers help! Francisco",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Sunday, September 25, 2011, 12:29 AM",
          "AuthorName": "Francisco Zamora",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=294864&course=5",
          "role": [
            "Picture of Francisco Zamora"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 217030,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=217030",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "location of auto backups in database moodle 2.3",
          "Text": "Can anyone tell me where the backups are located in the 2.3 database ? I moved servers and I cannot \"manage backups\" and they are piling up on me.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, December 1, 2012, 6:03 AM",
          "AuthorName": "Ken Stokowski",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=356475&course=5",
          "role": [
            "Picture of Ken Stokowski"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 126274,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=126274",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Course Restore Date Shift on Forums",
          "Text": "Long story short.... Moving from 1.5.4 to 1.9.4 Restore of courses works except for the forum posts are time shifted a couple years and the course start date is not correct. So.. I installed a clean 1.6.9, restored course to it... worked perfect with the correct dates. So.. I installed a clean 1.7.7, restored course to it... worked perfect with the correct dates. So.. I installed a clean 1.8.9, restored course to it... worked perfect with the correct dates. Restoring to 1.9.4 from a backup from 1.5, 1.6, 1.7, or 1.8 result in forum dates with the time shift.",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, June 20, 2009, 6:06 AM",
          "AuthorName": "Ron Brown",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=121884&course=5",
          "role": [
            "Picture of Ron Brown"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 84678,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=84678",
      "NoOfResponses": 1,
      "ResponsesInList": [
        {
          "Title": "Extra functionality",
          "Text": "Hi guys, I'm working on the Offline Moodle project (details at http://moodle.org/mod/forum/discuss.php?d=71136 and http://hawk.aos.ecu.edu/moodle/ ). As part of the project the backup and restore tool has been fantastically helpful. However to take things forward we would really like to request so enhancements both to the api and to the functionality. What's the best way of going about this. Should I post a set of requests in the tracker?",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Saturday, November 17, 2007, 12:16 AM",
          "AuthorName": "Colin Chambers",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=239770&course=5",
          "role": [
            "Picture of Colin Chambers"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        }
      ]
    },
    {
      "PostID": 227492,
      "LinkToPost": "https://moodle.org/mod/forum/discuss.php?d=227492",
      "NoOfResponses": 2,
      "ResponsesInList": [
        {
          "Title": "Merging two databases for users, grades etc into one",
          "Text": "Hi All The previous Moodle admin before me had created two seperate moodle platforms and they both have their users and grades. The courses are the same in each. I am looking to merge them into 1 database and platform to make things simpler. How would I go about doing this? Thank You",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Monday, April 29, 2013, 11:57 AM",
          "AuthorName": "Thanh Ha",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=1582886&course=5",
          "role": [
            "Picture of Thanh Ha"
          ],
          "IsInitialPost": true,
          "IsFeatureRequest": false
        },
        {
          "Title": "Re: Merging two databases for users, grades etc into one",
          "Text": "I have a similar issue where several students completed the course on an old server and we want there records reflected on the new server . Short of going in as each user and pretending to be them, is there a way to transfer a single student's record from one course to another? I'm on 2.3.2",
          "HasImageInpost": false,
          "ImagesInPost": [],
          "Time": "Tuesday, April 30, 2013, 11:59 PM",
          "AuthorName": "Robert Skeet",
          "AuthorMoodleLink": "https://moodle.org/user/view.php?id=287253&course=5",
          "role": [
            "Picture of Robert Skeet"
          ],
          "IsInitialPost": false
        }
      ]
    }
  ]
}